"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_pnpm_fumadocs-core_14_7_7__types_react_19_2_14_next_15_5_12_r-192366"],{

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/algorithms.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/algorithms.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BM25: () => (/* binding */ BM25),\n/* harmony export */   prioritizeTokenScores: () => (/* binding */ prioritizeTokenScores)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n\nfunction prioritizeTokenScores(arrays, boost, threshold = 0, keywordsCount) {\n    if (boost === 0) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_BOOST_VALUE');\n    }\n    const tokenScoresMap = new Map();\n    const mapsLength = arrays.length;\n    for(let i = 0; i < mapsLength; i++){\n        const arr = arrays[i];\n        const entriesLength = arr.length;\n        for(let j = 0; j < entriesLength; j++){\n            var _tokenScoresMap_get;\n            const [token, score] = arr[j];\n            const boostScore = score * boost;\n            const oldScore = (_tokenScoresMap_get = tokenScoresMap.get(token)) === null || _tokenScoresMap_get === void 0 ? void 0 : _tokenScoresMap_get[0];\n            if (oldScore !== undefined) {\n                var _tokenScoresMap_get1;\n                tokenScoresMap.set(token, [\n                    oldScore * 1.5 + boostScore,\n                    (((_tokenScoresMap_get1 = tokenScoresMap === null || tokenScoresMap === void 0 ? void 0 : tokenScoresMap.get(token)) === null || _tokenScoresMap_get1 === void 0 ? void 0 : _tokenScoresMap_get1[1]) || 0) + 1\n                ]);\n            } else {\n                tokenScoresMap.set(token, [\n                    boostScore,\n                    1\n                ]);\n            }\n        }\n    }\n    const tokenScores = [];\n    for (const tokenScoreEntry of tokenScoresMap.entries()){\n        tokenScores.push([\n            tokenScoreEntry[0],\n            tokenScoreEntry[1][0]\n        ]);\n    }\n    const results = tokenScores.sort((a, b)=>b[1] - a[1]);\n    // If threshold is 1, it means we will return all the results with at least one search term,\n    // prioritizig the ones that contains more search terms (fuzzy match)\n    if (threshold === 1) {\n        return results;\n    }\n    // Prepare keywords count tracking for threshold handling\n    const allResults = results.length;\n    const tokenScoreWithKeywordsCount = [];\n    for (const tokenScoreEntry of tokenScoresMap.entries()){\n        tokenScoreWithKeywordsCount.push([\n            tokenScoreEntry[0],\n            tokenScoreEntry[1][0],\n            tokenScoreEntry[1][1]\n        ]);\n    }\n    // Find the index of the last result with all keywords.\n    // Order the documents by the number of keywords they contain, and then by the score.\n    const keywordsPerToken = tokenScoreWithKeywordsCount.sort((a, b)=>{\n        // Compare by the third element, higher numbers first\n        if (a[2] > b[2]) return -1;\n        if (a[2] < b[2]) return 1;\n        // If the third elements are equal, compare by the second element, higher numbers first\n        if (a[1] > b[1]) return -1;\n        if (a[1] < b[1]) return 1;\n        // If both the second and third elements are equal, consider the elements equal\n        return 0;\n    });\n    let lastTokenWithAllKeywords = undefined;\n    for(let i = 0; i < allResults; i++){\n        if (keywordsPerToken[i][2] === keywordsCount) {\n            lastTokenWithAllKeywords = i;\n        } else {\n            break;\n        }\n    }\n    // If no results had all the keywords, either bail out earlier or normalize\n    if (typeof lastTokenWithAllKeywords === 'undefined') {\n        if (threshold === 0) {\n            return [];\n        }\n        lastTokenWithAllKeywords = 0;\n    }\n    const keywordsPerTokenLength = keywordsPerToken.length;\n    const resultsWithIdAndScore = new Array(keywordsPerTokenLength);\n    for(let i = 0; i < keywordsPerTokenLength; i++){\n        resultsWithIdAndScore[i] = [\n            keywordsPerToken[i][0],\n            keywordsPerToken[i][1]\n        ];\n    }\n    // If threshold is 0, it means we will only return all the results that contains ALL the search terms (exact match)\n    if (threshold === 0) {\n        return resultsWithIdAndScore.slice(0, lastTokenWithAllKeywords + 1);\n    }\n    // If the threshold is between 0 and 1, we will return all the results that contains at least the threshold of search terms\n    // For example, if threshold is 0.5, we will return all the results that contains at least 50% of the search terms\n    // (fuzzy match with a minimum threshold)\n    const thresholdLength = lastTokenWithAllKeywords + Math.ceil(threshold * 100 * (allResults - lastTokenWithAllKeywords) / 100);\n    return resultsWithIdAndScore.slice(0, allResults + thresholdLength);\n}\nfunction BM25(tf, matchingCount, docsCount, fieldLength, averageFieldLength, { k , b , d  }) {\n    const idf = Math.log(1 + (docsCount - matchingCount + 0.5) / (matchingCount + 0.5));\n    return idf * (d + tf * (k + 1)) / (tf + k * (1 - b + b * fieldLength / averageFieldLength));\n}\n\n//# sourceMappingURL=algorithms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2FsZ29yaXRobXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ3BDO0FBQ1A7QUFDQSxjQUFjLHVEQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBLHVCQUF1QixtQkFBbUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsNEJBQTRCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtFQUErRSxZQUFZO0FBQ2xHO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9hbGdvcml0aG1zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBwcmlvcml0aXplVG9rZW5TY29yZXMoYXJyYXlzLCBib29zdCwgdGhyZXNob2xkID0gMCwga2V5d29yZHNDb3VudCkge1xuICAgIGlmIChib29zdCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9CT09TVF9WQUxVRScpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlblNjb3Jlc01hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBtYXBzTGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbWFwc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgYXJyID0gYXJyYXlzW2ldO1xuICAgICAgICBjb25zdCBlbnRyaWVzTGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGVudHJpZXNMZW5ndGg7IGorKyl7XG4gICAgICAgICAgICB2YXIgX3Rva2VuU2NvcmVzTWFwX2dldDtcbiAgICAgICAgICAgIGNvbnN0IFt0b2tlbiwgc2NvcmVdID0gYXJyW2pdO1xuICAgICAgICAgICAgY29uc3QgYm9vc3RTY29yZSA9IHNjb3JlICogYm9vc3Q7XG4gICAgICAgICAgICBjb25zdCBvbGRTY29yZSA9IChfdG9rZW5TY29yZXNNYXBfZ2V0ID0gdG9rZW5TY29yZXNNYXAuZ2V0KHRva2VuKSkgPT09IG51bGwgfHwgX3Rva2VuU2NvcmVzTWFwX2dldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Rva2VuU2NvcmVzTWFwX2dldFswXTtcbiAgICAgICAgICAgIGlmIChvbGRTY29yZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90b2tlblNjb3Jlc01hcF9nZXQxO1xuICAgICAgICAgICAgICAgIHRva2VuU2NvcmVzTWFwLnNldCh0b2tlbiwgW1xuICAgICAgICAgICAgICAgICAgICBvbGRTY29yZSAqIDEuNSArIGJvb3N0U2NvcmUsXG4gICAgICAgICAgICAgICAgICAgICgoKF90b2tlblNjb3Jlc01hcF9nZXQxID0gdG9rZW5TY29yZXNNYXAgPT09IG51bGwgfHwgdG9rZW5TY29yZXNNYXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRva2VuU2NvcmVzTWFwLmdldCh0b2tlbikpID09PSBudWxsIHx8IF90b2tlblNjb3Jlc01hcF9nZXQxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdG9rZW5TY29yZXNNYXBfZ2V0MVsxXSkgfHwgMCkgKyAxXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRva2VuU2NvcmVzTWFwLnNldCh0b2tlbiwgW1xuICAgICAgICAgICAgICAgICAgICBib29zdFNjb3JlLFxuICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdG9rZW5TY29yZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHRva2VuU2NvcmVFbnRyeSBvZiB0b2tlblNjb3Jlc01hcC5lbnRyaWVzKCkpe1xuICAgICAgICB0b2tlblNjb3Jlcy5wdXNoKFtcbiAgICAgICAgICAgIHRva2VuU2NvcmVFbnRyeVswXSxcbiAgICAgICAgICAgIHRva2VuU2NvcmVFbnRyeVsxXVswXVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IHRva2VuU2NvcmVzLnNvcnQoKGEsIGIpPT5iWzFdIC0gYVsxXSk7XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDEsIGl0IG1lYW5zIHdlIHdpbGwgcmV0dXJuIGFsbCB0aGUgcmVzdWx0cyB3aXRoIGF0IGxlYXN0IG9uZSBzZWFyY2ggdGVybSxcbiAgICAvLyBwcmlvcml0aXppZyB0aGUgb25lcyB0aGF0IGNvbnRhaW5zIG1vcmUgc2VhcmNoIHRlcm1zIChmdXp6eSBtYXRjaClcbiAgICBpZiAodGhyZXNob2xkID09PSAxKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cbiAgICAvLyBQcmVwYXJlIGtleXdvcmRzIGNvdW50IHRyYWNraW5nIGZvciB0aHJlc2hvbGQgaGFuZGxpbmdcbiAgICBjb25zdCBhbGxSZXN1bHRzID0gcmVzdWx0cy5sZW5ndGg7XG4gICAgY29uc3QgdG9rZW5TY29yZVdpdGhLZXl3b3Jkc0NvdW50ID0gW107XG4gICAgZm9yIChjb25zdCB0b2tlblNjb3JlRW50cnkgb2YgdG9rZW5TY29yZXNNYXAuZW50cmllcygpKXtcbiAgICAgICAgdG9rZW5TY29yZVdpdGhLZXl3b3Jkc0NvdW50LnB1c2goW1xuICAgICAgICAgICAgdG9rZW5TY29yZUVudHJ5WzBdLFxuICAgICAgICAgICAgdG9rZW5TY29yZUVudHJ5WzFdWzBdLFxuICAgICAgICAgICAgdG9rZW5TY29yZUVudHJ5WzFdWzFdXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICAvLyBGaW5kIHRoZSBpbmRleCBvZiB0aGUgbGFzdCByZXN1bHQgd2l0aCBhbGwga2V5d29yZHMuXG4gICAgLy8gT3JkZXIgdGhlIGRvY3VtZW50cyBieSB0aGUgbnVtYmVyIG9mIGtleXdvcmRzIHRoZXkgY29udGFpbiwgYW5kIHRoZW4gYnkgdGhlIHNjb3JlLlxuICAgIGNvbnN0IGtleXdvcmRzUGVyVG9rZW4gPSB0b2tlblNjb3JlV2l0aEtleXdvcmRzQ291bnQuc29ydCgoYSwgYik9PntcbiAgICAgICAgLy8gQ29tcGFyZSBieSB0aGUgdGhpcmQgZWxlbWVudCwgaGlnaGVyIG51bWJlcnMgZmlyc3RcbiAgICAgICAgaWYgKGFbMl0gPiBiWzJdKSByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhWzJdIDwgYlsyXSkgcmV0dXJuIDE7XG4gICAgICAgIC8vIElmIHRoZSB0aGlyZCBlbGVtZW50cyBhcmUgZXF1YWwsIGNvbXBhcmUgYnkgdGhlIHNlY29uZCBlbGVtZW50LCBoaWdoZXIgbnVtYmVycyBmaXJzdFxuICAgICAgICBpZiAoYVsxXSA+IGJbMV0pIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGFbMV0gPCBiWzFdKSByZXR1cm4gMTtcbiAgICAgICAgLy8gSWYgYm90aCB0aGUgc2Vjb25kIGFuZCB0aGlyZCBlbGVtZW50cyBhcmUgZXF1YWwsIGNvbnNpZGVyIHRoZSBlbGVtZW50cyBlcXVhbFxuICAgICAgICByZXR1cm4gMDtcbiAgICB9KTtcbiAgICBsZXQgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gdW5kZWZpbmVkO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhbGxSZXN1bHRzOyBpKyspe1xuICAgICAgICBpZiAoa2V5d29yZHNQZXJUb2tlbltpXVsyXSA9PT0ga2V5d29yZHNDb3VudCkge1xuICAgICAgICAgICAgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gaTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElmIG5vIHJlc3VsdHMgaGFkIGFsbCB0aGUga2V5d29yZHMsIGVpdGhlciBiYWlsIG91dCBlYXJsaWVyIG9yIG5vcm1hbGl6ZVxuICAgIGlmICh0eXBlb2YgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAodGhyZXNob2xkID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFRva2VuV2l0aEFsbEtleXdvcmRzID0gMDtcbiAgICB9XG4gICAgY29uc3Qga2V5d29yZHNQZXJUb2tlbkxlbmd0aCA9IGtleXdvcmRzUGVyVG9rZW4ubGVuZ3RoO1xuICAgIGNvbnN0IHJlc3VsdHNXaXRoSWRBbmRTY29yZSA9IG5ldyBBcnJheShrZXl3b3Jkc1BlclRva2VuTGVuZ3RoKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwga2V5d29yZHNQZXJUb2tlbkxlbmd0aDsgaSsrKXtcbiAgICAgICAgcmVzdWx0c1dpdGhJZEFuZFNjb3JlW2ldID0gW1xuICAgICAgICAgICAga2V5d29yZHNQZXJUb2tlbltpXVswXSxcbiAgICAgICAgICAgIGtleXdvcmRzUGVyVG9rZW5baV1bMV1cbiAgICAgICAgXTtcbiAgICB9XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDAsIGl0IG1lYW5zIHdlIHdpbGwgb25seSByZXR1cm4gYWxsIHRoZSByZXN1bHRzIHRoYXQgY29udGFpbnMgQUxMIHRoZSBzZWFyY2ggdGVybXMgKGV4YWN0IG1hdGNoKVxuICAgIGlmICh0aHJlc2hvbGQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHNXaXRoSWRBbmRTY29yZS5zbGljZSgwLCBsYXN0VG9rZW5XaXRoQWxsS2V5d29yZHMgKyAxKTtcbiAgICB9XG4gICAgLy8gSWYgdGhlIHRocmVzaG9sZCBpcyBiZXR3ZWVuIDAgYW5kIDEsIHdlIHdpbGwgcmV0dXJuIGFsbCB0aGUgcmVzdWx0cyB0aGF0IGNvbnRhaW5zIGF0IGxlYXN0IHRoZSB0aHJlc2hvbGQgb2Ygc2VhcmNoIHRlcm1zXG4gICAgLy8gRm9yIGV4YW1wbGUsIGlmIHRocmVzaG9sZCBpcyAwLjUsIHdlIHdpbGwgcmV0dXJuIGFsbCB0aGUgcmVzdWx0cyB0aGF0IGNvbnRhaW5zIGF0IGxlYXN0IDUwJSBvZiB0aGUgc2VhcmNoIHRlcm1zXG4gICAgLy8gKGZ1enp5IG1hdGNoIHdpdGggYSBtaW5pbXVtIHRocmVzaG9sZClcbiAgICBjb25zdCB0aHJlc2hvbGRMZW5ndGggPSBsYXN0VG9rZW5XaXRoQWxsS2V5d29yZHMgKyBNYXRoLmNlaWwodGhyZXNob2xkICogMTAwICogKGFsbFJlc3VsdHMgLSBsYXN0VG9rZW5XaXRoQWxsS2V5d29yZHMpIC8gMTAwKTtcbiAgICByZXR1cm4gcmVzdWx0c1dpdGhJZEFuZFNjb3JlLnNsaWNlKDAsIGFsbFJlc3VsdHMgKyB0aHJlc2hvbGRMZW5ndGgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIEJNMjUodGYsIG1hdGNoaW5nQ291bnQsIGRvY3NDb3VudCwgZmllbGRMZW5ndGgsIGF2ZXJhZ2VGaWVsZExlbmd0aCwgeyBrICwgYiAsIGQgIH0pIHtcbiAgICBjb25zdCBpZGYgPSBNYXRoLmxvZygxICsgKGRvY3NDb3VudCAtIG1hdGNoaW5nQ291bnQgKyAwLjUpIC8gKG1hdGNoaW5nQ291bnQgKyAwLjUpKTtcbiAgICByZXR1cm4gaWRmICogKGQgKyB0ZiAqIChrICsgMSkpIC8gKHRmICsgayAqICgxIC0gYiArIGIgKiBmaWVsZExlbmd0aCAvIGF2ZXJhZ2VGaWVsZExlbmd0aCkpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbGdvcml0aG1zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/algorithms.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/cosine-similarity.js":
/*!***************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/cosine-similarity.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findSimilarVectors: () => (/* binding */ findSimilarVectors),\n/* harmony export */   getMagnitude: () => (/* binding */ getMagnitude)\n/* harmony export */ });\nfunction getMagnitude(vector, vectorLength) {\n    let magnitude = 0;\n    for(let i = 0; i < vectorLength; i++){\n        magnitude += vector[i] * vector[i];\n    }\n    return Math.sqrt(magnitude);\n}\n// @todo: Write plugins for Node and Browsers to use parallel computation for this function\nfunction findSimilarVectors(targetVector, vectors, length, threshold = 0.8) {\n    const targetMagnitude = getMagnitude(targetVector, length);\n    const similarVectors = [];\n    for (const [vectorId, [magnitude, vector]] of Object.entries(vectors)){\n        let dotProduct = 0;\n        for(let i = 0; i < length; i++){\n            dotProduct += targetVector[i] * vector[i];\n        }\n        const similarity = dotProduct / (targetMagnitude * magnitude);\n        if (similarity >= threshold) {\n            similarVectors.push([\n                vectorId,\n                similarity\n            ]);\n        }\n    }\n    return similarVectors.sort((a, b)=>b[1] - a[1]);\n}\n\n//# sourceMappingURL=cosine-similarity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2Nvc2luZS1zaW1pbGFyaXR5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU87QUFDUDtBQUNBLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsWUFBWTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvY29zaW5lLXNpbWlsYXJpdHkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldE1hZ25pdHVkZSh2ZWN0b3IsIHZlY3Rvckxlbmd0aCkge1xuICAgIGxldCBtYWduaXR1ZGUgPSAwO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2ZWN0b3JMZW5ndGg7IGkrKyl7XG4gICAgICAgIG1hZ25pdHVkZSArPSB2ZWN0b3JbaV0gKiB2ZWN0b3JbaV07XG4gICAgfVxuICAgIHJldHVybiBNYXRoLnNxcnQobWFnbml0dWRlKTtcbn1cbi8vIEB0b2RvOiBXcml0ZSBwbHVnaW5zIGZvciBOb2RlIGFuZCBCcm93c2VycyB0byB1c2UgcGFyYWxsZWwgY29tcHV0YXRpb24gZm9yIHRoaXMgZnVuY3Rpb25cbmV4cG9ydCBmdW5jdGlvbiBmaW5kU2ltaWxhclZlY3RvcnModGFyZ2V0VmVjdG9yLCB2ZWN0b3JzLCBsZW5ndGgsIHRocmVzaG9sZCA9IDAuOCkge1xuICAgIGNvbnN0IHRhcmdldE1hZ25pdHVkZSA9IGdldE1hZ25pdHVkZSh0YXJnZXRWZWN0b3IsIGxlbmd0aCk7XG4gICAgY29uc3Qgc2ltaWxhclZlY3RvcnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IFt2ZWN0b3JJZCwgW21hZ25pdHVkZSwgdmVjdG9yXV0gb2YgT2JqZWN0LmVudHJpZXModmVjdG9ycykpe1xuICAgICAgICBsZXQgZG90UHJvZHVjdCA9IDA7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBkb3RQcm9kdWN0ICs9IHRhcmdldFZlY3RvcltpXSAqIHZlY3RvcltpXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaW1pbGFyaXR5ID0gZG90UHJvZHVjdCAvICh0YXJnZXRNYWduaXR1ZGUgKiBtYWduaXR1ZGUpO1xuICAgICAgICBpZiAoc2ltaWxhcml0eSA+PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgIHNpbWlsYXJWZWN0b3JzLnB1c2goW1xuICAgICAgICAgICAgICAgIHZlY3RvcklkLFxuICAgICAgICAgICAgICAgIHNpbWlsYXJpdHlcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaW1pbGFyVmVjdG9ycy5zb3J0KChhLCBiKT0+YlsxXSAtIGFbMV0pO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3NpbmUtc2ltaWxhcml0eS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/cosine-similarity.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/defaults.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/defaults.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatElapsedTime: () => (/* binding */ formatElapsedTime),\n/* harmony export */   getDocumentIndexId: () => (/* binding */ getDocumentIndexId),\n/* harmony export */   getDocumentProperties: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_0__.getDocumentProperties),\n/* harmony export */   getInnerType: () => (/* binding */ getInnerType),\n/* harmony export */   getVectorSize: () => (/* binding */ getVectorSize),\n/* harmony export */   isArrayType: () => (/* binding */ isArrayType),\n/* harmony export */   isGeoPointType: () => (/* binding */ isGeoPointType),\n/* harmony export */   isVectorType: () => (/* binding */ isVectorType),\n/* harmony export */   validateSchema: () => (/* binding */ validateSchema)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n\n\n\nasync function formatElapsedTime(n) {\n    return {\n        raw: Number(n),\n        formatted: await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.formatNanoseconds)(n)\n    };\n}\nasync function getDocumentIndexId(doc) {\n    if (doc.id) {\n        if (typeof doc.id !== 'string') {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('DOCUMENT_ID_MUST_BE_STRING', typeof doc.id);\n        }\n        return doc.id;\n    }\n    return await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.uniqueId)();\n}\nasync function validateSchema(doc, schema) {\n    for (const [prop, type] of Object.entries(schema)){\n        const value = doc[prop];\n        if (typeof value === 'undefined') {\n            continue;\n        }\n        if (type === 'geopoint' && typeof value === 'object' && typeof value.lon === 'number' && typeof value.lat === 'number') {\n            continue;\n        }\n        if (type === 'enum' && (typeof value === 'string' || typeof value === 'number')) {\n            continue;\n        }\n        if (type === 'enum[]' && Array.isArray(value)) {\n            const valueLength = value.length;\n            for(let i = 0; i < valueLength; i++){\n                if (typeof value[i] !== 'string' && typeof value[i] !== 'number') {\n                    return prop + '.' + i;\n                }\n            }\n            continue;\n        }\n        if (isVectorType(type)) {\n            const vectorSize = getVectorSize(type);\n            if (!Array.isArray(value) || value.length !== vectorSize) {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('INVALID_INPUT_VECTOR', prop, vectorSize, value.length);\n            }\n            continue;\n        }\n        if (isArrayType(type)) {\n            if (!Array.isArray(value)) {\n                return prop;\n            }\n            const expectedType = getInnerType(type);\n            const valueLength = value.length;\n            for(let i = 0; i < valueLength; i++){\n                if (typeof value[i] !== expectedType) {\n                    return prop + '.' + i;\n                }\n            }\n            continue;\n        }\n        if (typeof type === 'object') {\n            if (!value || typeof value !== 'object') {\n                return prop;\n            }\n            // using as ResultDocument is not exactly right but trying to be type-safe here is not useful\n            const subProp = await validateSchema(value, type);\n            if (subProp) {\n                return prop + '.' + subProp;\n            }\n            continue;\n        }\n        if (typeof value !== type) {\n            return prop;\n        }\n    }\n    return undefined;\n}\nconst IS_ARRAY_TYPE = {\n    string: false,\n    number: false,\n    boolean: false,\n    enum: false,\n    geopoint: false,\n    'string[]': true,\n    'number[]': true,\n    'boolean[]': true,\n    'enum[]': true\n};\nconst INNER_TYPE = {\n    'string[]': 'string',\n    'number[]': 'number',\n    'boolean[]': 'boolean',\n    'enum[]': 'enum'\n};\nfunction isGeoPointType(type) {\n    return type === 'geopoint';\n}\nfunction isVectorType(type) {\n    return typeof type === 'string' && /^vector\\[\\d+\\]$/.test(type);\n}\nfunction isArrayType(type) {\n    return typeof type === 'string' && IS_ARRAY_TYPE[type];\n}\nfunction getInnerType(type) {\n    return INNER_TYPE[type];\n}\nfunction getVectorSize(type) {\n    const size = Number(type.slice(7, -1));\n    switch(true){\n        case isNaN(size):\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('INVALID_VECTOR_VALUE', type);\n        case size <= 0:\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('INVALID_VECTOR_SIZE', type);\n        default:\n            return size;\n    }\n}\n\n//# sourceMappingURL=defaults.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2RlZmF1bHRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ2U7QUFDTjtBQUM3QztBQUNQO0FBQ0E7QUFDQSx5QkFBeUIsNERBQWlCO0FBQzFDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVc7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1EQUFRO0FBQ3pCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9kZWZhdWx0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBmb3JtYXROYW5vc2Vjb25kcywgdW5pcXVlSWQgfSBmcm9tICcuLi91dGlscy5qcyc7XG5leHBvcnQgeyBnZXREb2N1bWVudFByb3BlcnRpZXMgfSBmcm9tICcuLi91dGlscy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9ybWF0RWxhcHNlZFRpbWUobikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJhdzogTnVtYmVyKG4pLFxuICAgICAgICBmb3JtYXR0ZWQ6IGF3YWl0IGZvcm1hdE5hbm9zZWNvbmRzKG4pXG4gICAgfTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREb2N1bWVudEluZGV4SWQoZG9jKSB7XG4gICAgaWYgKGRvYy5pZCkge1xuICAgICAgICBpZiAodHlwZW9mIGRvYy5pZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdET0NVTUVOVF9JRF9NVVNUX0JFX1NUUklORycsIHR5cGVvZiBkb2MuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2MuaWQ7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB1bmlxdWVJZCgpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlU2NoZW1hKGRvYywgc2NoZW1hKSB7XG4gICAgZm9yIChjb25zdCBbcHJvcCwgdHlwZV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hKSl7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZG9jW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdnZW9wb2ludCcgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUubG9uID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUubGF0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdlbnVtJyAmJiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdlbnVtW10nICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2YWx1ZUxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlW2ldICE9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWVbaV0gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wICsgJy4nICsgaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNWZWN0b3JUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBjb25zdCB2ZWN0b3JTaXplID0gZ2V0VmVjdG9yU2l6ZSh0eXBlKTtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoICE9PSB2ZWN0b3JTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfSU5QVVRfVkVDVE9SJywgcHJvcCwgdmVjdG9yU2l6ZSwgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5VHlwZSh0eXBlKSkge1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0SW5uZXJUeXBlKHR5cGUpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVMZW5ndGggPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdmFsdWVMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtpXSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wICsgJy4nICsgaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHVzaW5nIGFzIFJlc3VsdERvY3VtZW50IGlzIG5vdCBleGFjdGx5IHJpZ2h0IGJ1dCB0cnlpbmcgdG8gYmUgdHlwZS1zYWZlIGhlcmUgaXMgbm90IHVzZWZ1bFxuICAgICAgICAgICAgY29uc3Qgc3ViUHJvcCA9IGF3YWl0IHZhbGlkYXRlU2NoZW1hKHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIGlmIChzdWJQcm9wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3AgKyAnLicgKyBzdWJQcm9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gdHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmNvbnN0IElTX0FSUkFZX1RZUEUgPSB7XG4gICAgc3RyaW5nOiBmYWxzZSxcbiAgICBudW1iZXI6IGZhbHNlLFxuICAgIGJvb2xlYW46IGZhbHNlLFxuICAgIGVudW06IGZhbHNlLFxuICAgIGdlb3BvaW50OiBmYWxzZSxcbiAgICAnc3RyaW5nW10nOiB0cnVlLFxuICAgICdudW1iZXJbXSc6IHRydWUsXG4gICAgJ2Jvb2xlYW5bXSc6IHRydWUsXG4gICAgJ2VudW1bXSc6IHRydWVcbn07XG5jb25zdCBJTk5FUl9UWVBFID0ge1xuICAgICdzdHJpbmdbXSc6ICdzdHJpbmcnLFxuICAgICdudW1iZXJbXSc6ICdudW1iZXInLFxuICAgICdib29sZWFuW10nOiAnYm9vbGVhbicsXG4gICAgJ2VudW1bXSc6ICdlbnVtJ1xufTtcbmV4cG9ydCBmdW5jdGlvbiBpc0dlb1BvaW50VHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGUgPT09ICdnZW9wb2ludCc7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWZWN0b3JUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnICYmIC9edmVjdG9yXFxbXFxkK1xcXSQvLnRlc3QodHlwZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheVR5cGUodHlwZSkge1xuICAgIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgJiYgSVNfQVJSQVlfVFlQRVt0eXBlXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbm5lclR5cGUodHlwZSkge1xuICAgIHJldHVybiBJTk5FUl9UWVBFW3R5cGVdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFZlY3RvclNpemUodHlwZSkge1xuICAgIGNvbnN0IHNpemUgPSBOdW1iZXIodHlwZS5zbGljZSg3LCAtMSkpO1xuICAgIHN3aXRjaCh0cnVlKXtcbiAgICAgICAgY2FzZSBpc05hTihzaXplKTpcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1ZFQ1RPUl9WQUxVRScsIHR5cGUpO1xuICAgICAgICBjYXNlIHNpemUgPD0gMDpcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1ZFQ1RPUl9TSVpFJywgdHlwZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/defaults.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/documents-store.js":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/documents-store.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   count: () => (/* binding */ count),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   createDocumentsStore: () => (/* binding */ createDocumentsStore),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   getAll: () => (/* binding */ getAll),\n/* harmony export */   getMultiple: () => (/* binding */ getMultiple),\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   save: () => (/* binding */ save),\n/* harmony export */   store: () => (/* binding */ store)\n/* harmony export */ });\n/* harmony import */ var _internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal-document-id-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\");\n\nasync function create(_, sharedInternalDocumentStore) {\n    return {\n        sharedInternalDocumentStore,\n        docs: {},\n        count: 0\n    };\n}\nasync function get(store, id) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(store.sharedInternalDocumentStore, id);\n    return store.docs[internalId];\n}\nasync function getMultiple(store, ids) {\n    const idsLength = ids.length;\n    const found = Array.from({\n        length: idsLength\n    });\n    for(let i = 0; i < idsLength; i++){\n        const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(store.sharedInternalDocumentStore, ids[i]);\n        found[i] = store.docs[internalId];\n    }\n    return found;\n}\nasync function getAll(store) {\n    return store.docs;\n}\nasync function store(store, id, doc) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(store.sharedInternalDocumentStore, id);\n    if (typeof store.docs[internalId] !== 'undefined') {\n        return false;\n    }\n    store.docs[internalId] = doc;\n    store.count++;\n    return true;\n}\nasync function remove(store, id) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(store.sharedInternalDocumentStore, id);\n    if (typeof store.docs[internalId] === 'undefined') {\n        return false;\n    }\n    delete store.docs[internalId];\n    store.count--;\n    return true;\n}\nasync function count(store) {\n    return store.count;\n}\nasync function load(sharedInternalDocumentStore, raw) {\n    const rawDocument = raw;\n    return {\n        docs: rawDocument.docs,\n        count: rawDocument.count,\n        sharedInternalDocumentStore\n    };\n}\nasync function save(store) {\n    return {\n        docs: store.docs,\n        count: store.count\n    };\n}\nasync function createDocumentsStore() {\n    return {\n        create,\n        get,\n        getMultiple,\n        getAll,\n        store,\n        remove,\n        count,\n        load,\n        save\n    };\n}\n\n//# sourceMappingURL=documents-store.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2RvY3VtZW50cy1zdG9yZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF3RTtBQUNqRTtBQUNQO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsZUFBZTtBQUNsQywyQkFBMkIscUZBQXFCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbXJiYWQvdmliZXByb2plY3RzL2Vhenl0YWJsZS9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2RvY3VtZW50cy1zdG9yZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUoXywgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBkb2NzOiB7fSxcbiAgICAgICAgY291bnQ6IDBcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldChzdG9yZSwgaWQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIHJldHVybiBzdG9yZS5kb2NzW2ludGVybmFsSWRdO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE11bHRpcGxlKHN0b3JlLCBpZHMpIHtcbiAgICBjb25zdCBpZHNMZW5ndGggPSBpZHMubGVuZ3RoO1xuICAgIGNvbnN0IGZvdW5kID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogaWRzTGVuZ3RoXG4gICAgfSk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGlkc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChzdG9yZS5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkc1tpXSk7XG4gICAgICAgIGZvdW5kW2ldID0gc3RvcmUuZG9jc1tpbnRlcm5hbElkXTtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbChzdG9yZSkge1xuICAgIHJldHVybiBzdG9yZS5kb2NzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3JlKHN0b3JlLCBpZCwgZG9jKSB7XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChzdG9yZS5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBpZiAodHlwZW9mIHN0b3JlLmRvY3NbaW50ZXJuYWxJZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9IGRvYztcbiAgICBzdG9yZS5jb3VudCsrO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZShzdG9yZSwgaWQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmICh0eXBlb2Ygc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWxldGUgc3RvcmUuZG9jc1tpbnRlcm5hbElkXTtcbiAgICBzdG9yZS5jb3VudC0tO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvdW50KHN0b3JlKSB7XG4gICAgcmV0dXJuIHN0b3JlLmNvdW50O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWQoc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCByYXcpIHtcbiAgICBjb25zdCByYXdEb2N1bWVudCA9IHJhdztcbiAgICByZXR1cm4ge1xuICAgICAgICBkb2NzOiByYXdEb2N1bWVudC5kb2NzLFxuICAgICAgICBjb3VudDogcmF3RG9jdW1lbnQuY291bnQsXG4gICAgICAgIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZVxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRvY3M6IHN0b3JlLmRvY3MsXG4gICAgICAgIGNvdW50OiBzdG9yZS5jb3VudFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRzU3RvcmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIGdldE11bHRpcGxlLFxuICAgICAgICBnZXRBbGwsXG4gICAgICAgIHN0b3JlLFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIGNvdW50LFxuICAgICAgICBsb2FkLFxuICAgICAgICBzYXZlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9jdW1lbnRzLXN0b3JlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/documents-store.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/facets.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/facets.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFacets: () => (/* binding */ getFacets)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n\n\nfunction sortAsc(a, b) {\n    return a[1] - b[1];\n}\nfunction sortDesc(a, b) {\n    return b[1] - a[1];\n}\nfunction sortingPredicateBuilder(order = 'desc') {\n    return order.toLowerCase() === 'asc' ? sortAsc : sortDesc;\n}\nasync function getFacets(orama, results, facetsConfig) {\n    const facets = {};\n    const allIDs = results.map(([id])=>id);\n    const allDocs = await orama.documentsStore.getMultiple(orama.data.docs, allIDs);\n    const facetKeys = Object.keys(facetsConfig);\n    const properties = await orama.index.getSearchablePropertiesWithTypes(orama.data.index);\n    for (const facet of facetKeys){\n        let values;\n        // Hack to guarantee the same order of ranges as specified by the user\n        // TODO: Revisit this once components land\n        if (properties[facet] === 'number') {\n            const { ranges  } = facetsConfig[facet];\n            const rangesLength = ranges.length;\n            const tmp = Array.from({\n                length: rangesLength\n            });\n            for(let i = 0; i < rangesLength; i++){\n                const range = ranges[i];\n                tmp[i] = [\n                    `${range.from}-${range.to}`,\n                    0\n                ];\n            }\n            values = Object.fromEntries(tmp);\n        }\n        facets[facet] = {\n            count: 0,\n            values: values ?? {}\n        };\n    }\n    const allDocsLength = allDocs.length;\n    for(let i = 0; i < allDocsLength; i++){\n        const doc = allDocs[i];\n        for (const facet of facetKeys){\n            const facetValue = facet.includes('.') ? await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNested)(doc, facet) : doc[facet];\n            const propertyType = properties[facet];\n            const facetValues = facets[facet].values;\n            switch(propertyType){\n                case 'number':\n                    {\n                        const ranges = facetsConfig[facet].ranges;\n                        calculateNumberFacetBuilder(ranges, facetValues)(facetValue);\n                        break;\n                    }\n                case 'number[]':\n                    {\n                        const alreadyInsertedValues = new Set();\n                        const ranges = facetsConfig[facet].ranges;\n                        const calculateNumberFacet = calculateNumberFacetBuilder(ranges, facetValues, alreadyInsertedValues);\n                        for (const v of facetValue){\n                            calculateNumberFacet(v);\n                        }\n                        break;\n                    }\n                case 'boolean':\n                case 'enum':\n                case 'string':\n                    {\n                        calculateBooleanStringOrEnumFacetBuilder(facetValues, propertyType)(facetValue);\n                        break;\n                    }\n                case 'boolean[]':\n                case 'enum[]':\n                case 'string[]':\n                    {\n                        const alreadyInsertedValues = new Set();\n                        const innerType = propertyType === 'boolean[]' ? 'boolean' : 'string';\n                        const calculateBooleanStringOrEnumFacet = calculateBooleanStringOrEnumFacetBuilder(facetValues, innerType, alreadyInsertedValues);\n                        for (const v of facetValue){\n                            calculateBooleanStringOrEnumFacet(v);\n                        }\n                        break;\n                    }\n                default:\n                    throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('FACET_NOT_SUPPORTED', propertyType);\n            }\n        }\n    }\n    // TODO: We are looping again with the same previous keys, should we creat a single loop instead?\n    for (const facet of facetKeys){\n        const currentFacet = facets[facet];\n        // Count the number of values for each facet\n        currentFacet.count = Object.keys(currentFacet.values).length;\n        // Sort only string-based facets\n        if (properties[facet] === 'string') {\n            const stringFacetDefinition = facetsConfig[facet];\n            const sortingPredicate = sortingPredicateBuilder(stringFacetDefinition.sort);\n            currentFacet.values = Object.fromEntries(Object.entries(currentFacet.values).sort(sortingPredicate).slice(stringFacetDefinition.offset ?? 0, stringFacetDefinition.limit ?? 10));\n        }\n    }\n    return facets;\n}\nfunction calculateNumberFacetBuilder(ranges, values, alreadyInsertedValues) {\n    return (facetValue)=>{\n        for (const range of ranges){\n            const value = `${range.from}-${range.to}`;\n            if (alreadyInsertedValues === null || alreadyInsertedValues === void 0 ? void 0 : alreadyInsertedValues.has(value)) {\n                continue;\n            }\n            if (facetValue >= range.from && facetValue <= range.to) {\n                if (values[value] === undefined) {\n                    values[value] = 1;\n                } else {\n                    values[value]++;\n                    alreadyInsertedValues === null || alreadyInsertedValues === void 0 ? void 0 : alreadyInsertedValues.add(value);\n                }\n            }\n        }\n    };\n}\nfunction calculateBooleanStringOrEnumFacetBuilder(values, propertyType, alreadyInsertedValues) {\n    const defaultValue = propertyType === 'boolean' ? 'false' : '';\n    return (facetValue)=>{\n        // String or boolean based facets\n        const value = (facetValue === null || facetValue === void 0 ? void 0 : facetValue.toString()) ?? defaultValue;\n        if (alreadyInsertedValues === null || alreadyInsertedValues === void 0 ? void 0 : alreadyInsertedValues.has(value)) {\n            return;\n        }\n        values[value] = (values[value] ?? 0) + 1;\n        alreadyInsertedValues === null || alreadyInsertedValues === void 0 ? void 0 : alreadyInsertedValues.add(value);\n    };\n}\n\n//# sourceMappingURL=facets.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2ZhY2V0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDSDtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLDJCQUEyQixrQkFBa0I7QUFDN0M7QUFDQTtBQUNBLHVCQUF1QixXQUFXLEdBQUcsU0FBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0EsMkRBQTJELG9EQUFTO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFdBQVcsR0FBRyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9mYWNldHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZ2V0TmVzdGVkIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuZnVuY3Rpb24gc29ydEFzYyhhLCBiKSB7XG4gICAgcmV0dXJuIGFbMV0gLSBiWzFdO1xufVxuZnVuY3Rpb24gc29ydERlc2MoYSwgYikge1xuICAgIHJldHVybiBiWzFdIC0gYVsxXTtcbn1cbmZ1bmN0aW9uIHNvcnRpbmdQcmVkaWNhdGVCdWlsZGVyKG9yZGVyID0gJ2Rlc2MnKSB7XG4gICAgcmV0dXJuIG9yZGVyLnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnID8gc29ydEFzYyA6IHNvcnREZXNjO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZhY2V0cyhvcmFtYSwgcmVzdWx0cywgZmFjZXRzQ29uZmlnKSB7XG4gICAgY29uc3QgZmFjZXRzID0ge307XG4gICAgY29uc3QgYWxsSURzID0gcmVzdWx0cy5tYXAoKFtpZF0pPT5pZCk7XG4gICAgY29uc3QgYWxsRG9jcyA9IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmdldE11bHRpcGxlKG9yYW1hLmRhdGEuZG9jcywgYWxsSURzKTtcbiAgICBjb25zdCBmYWNldEtleXMgPSBPYmplY3Qua2V5cyhmYWNldHNDb25maWcpO1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhvcmFtYS5kYXRhLmluZGV4KTtcbiAgICBmb3IgKGNvbnN0IGZhY2V0IG9mIGZhY2V0S2V5cyl7XG4gICAgICAgIGxldCB2YWx1ZXM7XG4gICAgICAgIC8vIEhhY2sgdG8gZ3VhcmFudGVlIHRoZSBzYW1lIG9yZGVyIG9mIHJhbmdlcyBhcyBzcGVjaWZpZWQgYnkgdGhlIHVzZXJcbiAgICAgICAgLy8gVE9ETzogUmV2aXNpdCB0aGlzIG9uY2UgY29tcG9uZW50cyBsYW5kXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzW2ZhY2V0XSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmFuZ2VzICB9ID0gZmFjZXRzQ29uZmlnW2ZhY2V0XTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlc0xlbmd0aCA9IHJhbmdlcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCB0bXAgPSBBcnJheS5mcm9tKHtcbiAgICAgICAgICAgICAgICBsZW5ndGg6IHJhbmdlc0xlbmd0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcmFuZ2VzTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gcmFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgIHRtcFtpXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgYCR7cmFuZ2UuZnJvbX0tJHtyYW5nZS50b31gLFxuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlcyA9IE9iamVjdC5mcm9tRW50cmllcyh0bXApO1xuICAgICAgICB9XG4gICAgICAgIGZhY2V0c1tmYWNldF0gPSB7XG4gICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgIHZhbHVlczogdmFsdWVzID8/IHt9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGFsbERvY3NMZW5ndGggPSBhbGxEb2NzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgYWxsRG9jc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgZG9jID0gYWxsRG9jc1tpXTtcbiAgICAgICAgZm9yIChjb25zdCBmYWNldCBvZiBmYWNldEtleXMpe1xuICAgICAgICAgICAgY29uc3QgZmFjZXRWYWx1ZSA9IGZhY2V0LmluY2x1ZGVzKCcuJykgPyBhd2FpdCBnZXROZXN0ZWQoZG9jLCBmYWNldCkgOiBkb2NbZmFjZXRdO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlUeXBlID0gcHJvcGVydGllc1tmYWNldF07XG4gICAgICAgICAgICBjb25zdCBmYWNldFZhbHVlcyA9IGZhY2V0c1tmYWNldF0udmFsdWVzO1xuICAgICAgICAgICAgc3dpdGNoKHByb3BlcnR5VHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2VzID0gZmFjZXRzQ29uZmlnW2ZhY2V0XS5yYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVOdW1iZXJGYWNldEJ1aWxkZXIocmFuZ2VzLCBmYWNldFZhbHVlcykoZmFjZXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcltdJzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxyZWFkeUluc2VydGVkVmFsdWVzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmFuZ2VzID0gZmFjZXRzQ29uZmlnW2ZhY2V0XS5yYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVOdW1iZXJGYWNldCA9IGNhbGN1bGF0ZU51bWJlckZhY2V0QnVpbGRlcihyYW5nZXMsIGZhY2V0VmFsdWVzLCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIGZhY2V0VmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZU51bWJlckZhY2V0KHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICBjYXNlICdlbnVtJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXRCdWlsZGVyKGZhY2V0VmFsdWVzLCBwcm9wZXJ0eVR5cGUpKGZhY2V0VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuW10nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nW10nOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbm5lclR5cGUgPSBwcm9wZXJ0eVR5cGUgPT09ICdib29sZWFuW10nID8gJ2Jvb2xlYW4nIDogJ3N0cmluZyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXQgPSBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXRCdWlsZGVyKGZhY2V0VmFsdWVzLCBpbm5lclR5cGUsIGFscmVhZHlJbnNlcnRlZFZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgZmFjZXRWYWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlQm9vbGVhblN0cmluZ09yRW51bUZhY2V0KHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignRkFDRVRfTk9UX1NVUFBPUlRFRCcsIHByb3BlcnR5VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVE9ETzogV2UgYXJlIGxvb3BpbmcgYWdhaW4gd2l0aCB0aGUgc2FtZSBwcmV2aW91cyBrZXlzLCBzaG91bGQgd2UgY3JlYXQgYSBzaW5nbGUgbG9vcCBpbnN0ZWFkP1xuICAgIGZvciAoY29uc3QgZmFjZXQgb2YgZmFjZXRLZXlzKXtcbiAgICAgICAgY29uc3QgY3VycmVudEZhY2V0ID0gZmFjZXRzW2ZhY2V0XTtcbiAgICAgICAgLy8gQ291bnQgdGhlIG51bWJlciBvZiB2YWx1ZXMgZm9yIGVhY2ggZmFjZXRcbiAgICAgICAgY3VycmVudEZhY2V0LmNvdW50ID0gT2JqZWN0LmtleXMoY3VycmVudEZhY2V0LnZhbHVlcykubGVuZ3RoO1xuICAgICAgICAvLyBTb3J0IG9ubHkgc3RyaW5nLWJhc2VkIGZhY2V0c1xuICAgICAgICBpZiAocHJvcGVydGllc1tmYWNldF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdGYWNldERlZmluaXRpb24gPSBmYWNldHNDb25maWdbZmFjZXRdO1xuICAgICAgICAgICAgY29uc3Qgc29ydGluZ1ByZWRpY2F0ZSA9IHNvcnRpbmdQcmVkaWNhdGVCdWlsZGVyKHN0cmluZ0ZhY2V0RGVmaW5pdGlvbi5zb3J0KTtcbiAgICAgICAgICAgIGN1cnJlbnRGYWNldC52YWx1ZXMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoY3VycmVudEZhY2V0LnZhbHVlcykuc29ydChzb3J0aW5nUHJlZGljYXRlKS5zbGljZShzdHJpbmdGYWNldERlZmluaXRpb24ub2Zmc2V0ID8/IDAsIHN0cmluZ0ZhY2V0RGVmaW5pdGlvbi5saW1pdCA/PyAxMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWNldHM7XG59XG5mdW5jdGlvbiBjYWxjdWxhdGVOdW1iZXJGYWNldEJ1aWxkZXIocmFuZ2VzLCB2YWx1ZXMsIGFscmVhZHlJbnNlcnRlZFZhbHVlcykge1xuICAgIHJldHVybiAoZmFjZXRWYWx1ZSk9PntcbiAgICAgICAgZm9yIChjb25zdCByYW5nZSBvZiByYW5nZXMpe1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBgJHtyYW5nZS5mcm9tfS0ke3JhbmdlLnRvfWA7XG4gICAgICAgICAgICBpZiAoYWxyZWFkeUluc2VydGVkVmFsdWVzID09PSBudWxsIHx8IGFscmVhZHlJbnNlcnRlZFZhbHVlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxyZWFkeUluc2VydGVkVmFsdWVzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmYWNldFZhbHVlID49IHJhbmdlLmZyb20gJiYgZmFjZXRWYWx1ZSA8PSByYW5nZS50bykge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlXSA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlXSsrO1xuICAgICAgICAgICAgICAgICAgICBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMgPT09IG51bGwgfHwgYWxyZWFkeUluc2VydGVkVmFsdWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMuYWRkKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlQm9vbGVhblN0cmluZ09yRW51bUZhY2V0QnVpbGRlcih2YWx1ZXMsIHByb3BlcnR5VHlwZSwgYWxyZWFkeUluc2VydGVkVmFsdWVzKSB7XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gcHJvcGVydHlUeXBlID09PSAnYm9vbGVhbicgPyAnZmFsc2UnIDogJyc7XG4gICAgcmV0dXJuIChmYWNldFZhbHVlKT0+e1xuICAgICAgICAvLyBTdHJpbmcgb3IgYm9vbGVhbiBiYXNlZCBmYWNldHNcbiAgICAgICAgY29uc3QgdmFsdWUgPSAoZmFjZXRWYWx1ZSA9PT0gbnVsbCB8fCBmYWNldFZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmYWNldFZhbHVlLnRvU3RyaW5nKCkpID8/IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgaWYgKGFscmVhZHlJbnNlcnRlZFZhbHVlcyA9PT0gbnVsbCB8fCBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFscmVhZHlJbnNlcnRlZFZhbHVlcy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzW3ZhbHVlXSA9ICh2YWx1ZXNbdmFsdWVdID8/IDApICsgMTtcbiAgICAgICAgYWxyZWFkeUluc2VydGVkVmFsdWVzID09PSBudWxsIHx8IGFscmVhZHlJbnNlcnRlZFZhbHVlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWxyZWFkeUluc2VydGVkVmFsdWVzLmFkZCh2YWx1ZSk7XG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFjZXRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/facets.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/filters.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/filters.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   intersectFilteredIDs: () => (/* binding */ intersectFilteredIDs)\n/* harmony export */ });\nfunction intersectFilteredIDs(filtered, lookedUp) {\n    const map = new Map();\n    const result = [];\n    for (const id of filtered){\n        map.set(id, true);\n    }\n    for (const looked of lookedUp){\n        const [id] = looked;\n        if (map.has(id)) {\n            result.push(looked);\n            map.delete(id);\n        }\n    }\n    return result;\n}\n\n//# sourceMappingURL=filters.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2ZpbHRlcnMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9maWx0ZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RGaWx0ZXJlZElEcyhmaWx0ZXJlZCwgbG9va2VkVXApIHtcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChjb25zdCBpZCBvZiBmaWx0ZXJlZCl7XG4gICAgICAgIG1hcC5zZXQoaWQsIHRydWUpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGxvb2tlZCBvZiBsb29rZWRVcCl7XG4gICAgICAgIGNvbnN0IFtpZF0gPSBsb29rZWQ7XG4gICAgICAgIGlmIChtYXAuaGFzKGlkKSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobG9va2VkKTtcbiAgICAgICAgICAgIG1hcC5kZWxldGUoaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/filters.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/groups.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/groups.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGroups: () => (/* binding */ getGroups)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n/* harmony import */ var _internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./internal-document-id-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\");\n\n\n\nconst DEFAULT_REDUCE = {\n    reducer: (_, acc, res, index)=>{\n        acc[index] = res;\n        return acc;\n    },\n    getInitialValue: (length)=>Array.from({\n            length\n        })\n};\nconst ALLOWED_TYPES = [\n    'string',\n    'number',\n    'boolean'\n];\nasync function getGroups(orama, results, groupBy) {\n    const properties = groupBy.properties;\n    const propertiesLength = properties.length;\n    const schemaProperties = await orama.index.getSearchablePropertiesWithTypes(orama.data.index);\n    for(let i = 0; i < propertiesLength; i++){\n        const property = properties[i];\n        if (typeof schemaProperties[property] === 'undefined') {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('UNKNOWN_GROUP_BY_PROPERTY', property);\n        }\n        if (!ALLOWED_TYPES.includes(schemaProperties[property])) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_GROUP_BY_PROPERTY', property, ALLOWED_TYPES.join(', '), schemaProperties[property]);\n        }\n    }\n    const allIDs = results.map(([id])=>(0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, id));\n    // allDocs is already sorted by the sortBy algorithm\n    // We leverage on that to limit the number of documents returned\n    const allDocs = await orama.documentsStore.getMultiple(orama.data.docs, allIDs);\n    const allDocsLength = allDocs.length;\n    const returnedCount = groupBy.maxResult || Number.MAX_SAFE_INTEGER;\n    const listOfValues = [];\n    // We want to understand which documents have which values\n    // and group them by the property and values\n    const g = {};\n    for(let i = 0; i < propertiesLength; i++){\n        const groupByKey = properties[i];\n        const group = {\n            property: groupByKey,\n            perValue: {}\n        };\n        const values = new Set();\n        for(let j = 0; j < allDocsLength; j++){\n            const doc = allDocs[j];\n            const value = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getNested)(doc, groupByKey);\n            // we don't want to consider undefined values\n            if (typeof value === 'undefined') {\n                continue;\n            }\n            const keyValue = typeof value !== 'boolean' ? value : '' + value;\n            const perValue = group.perValue[keyValue] ?? {\n                indexes: [],\n                count: 0\n            };\n            if (perValue.count >= returnedCount) {\n                continue;\n            }\n            // We use the index to keep track of the original order\n            perValue.indexes.push(j);\n            perValue.count++;\n            group.perValue[keyValue] = perValue;\n            values.add(value);\n        }\n        listOfValues.push(Array.from(values));\n        g[groupByKey] = group;\n    }\n    const combinations = calculateCombination(listOfValues);\n    const combinationsLength = combinations.length;\n    const groups = [];\n    for(let i = 0; i < combinationsLength; i++){\n        const combination = combinations[i];\n        const combinationLength = combination.length;\n        const group = {\n            values: [],\n            indexes: []\n        };\n        const indexes = [];\n        for(let j = 0; j < combinationLength; j++){\n            const value = combination[j];\n            const property = properties[j];\n            indexes.push(g[property].perValue[typeof value !== 'boolean' ? value : '' + value].indexes);\n            group.values.push(value);\n        }\n        // We leverage on the index to sort the results by the original order\n        group.indexes = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.intersect)(indexes).sort((a, b)=>a - b);\n        // don't generate empty groups\n        if (group.indexes.length === 0) {\n            continue;\n        }\n        groups.push(group);\n    }\n    const groupsLength = groups.length;\n    const res = Array.from({\n        length: groupsLength\n    });\n    for(let i = 0; i < groupsLength; i++){\n        const group = groups[i];\n        const reduce = groupBy.reduce || DEFAULT_REDUCE;\n        const docs = group.indexes.map((index)=>{\n            return {\n                id: allIDs[index],\n                score: results[index][1],\n                document: allDocs[index]\n            };\n        });\n        const func = reduce.reducer.bind(null, group.values);\n        const initialValue = reduce.getInitialValue(group.indexes.length);\n        const aggregationValue = docs.reduce(func, initialValue);\n        res[i] = {\n            values: group.values,\n            result: aggregationValue\n        };\n    }\n    return res;\n}\nfunction calculateCombination(arrs, index = 0) {\n    if (index + 1 === arrs.length) return arrs[index].map((item)=>[\n            item\n        ]);\n    const head = arrs[index];\n    const c = calculateCombination(arrs, index + 1);\n    const combinations = [];\n    for (const value of head){\n        for (const combination of c){\n            const result = [\n                value\n            ];\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.safeArrayPush)(result, combination);\n            combinations.push(result);\n        }\n    }\n    return combinations;\n}\n\n//# sourceMappingURL=groups.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2dyb3Vwcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ3VCO0FBQ1k7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFXO0FBQzdCO0FBQ0E7QUFDQSx1Q0FBdUMsMkZBQTJCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1CQUFtQjtBQUMxQztBQUNBLGdDQUFnQyxvREFBUztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0JBQXdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHVCQUF1QjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9ncm91cHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZ2V0TmVzdGVkLCBpbnRlcnNlY3QsIHNhZmVBcnJheVB1c2ggfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQgfSBmcm9tICcuL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmNvbnN0IERFRkFVTFRfUkVEVUNFID0ge1xuICAgIHJlZHVjZXI6IChfLCBhY2MsIHJlcywgaW5kZXgpPT57XG4gICAgICAgIGFjY1tpbmRleF0gPSByZXM7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSxcbiAgICBnZXRJbml0aWFsVmFsdWU6IChsZW5ndGgpPT5BcnJheS5mcm9tKHtcbiAgICAgICAgICAgIGxlbmd0aFxuICAgICAgICB9KVxufTtcbmNvbnN0IEFMTE9XRURfVFlQRVMgPSBbXG4gICAgJ3N0cmluZycsXG4gICAgJ251bWJlcicsXG4gICAgJ2Jvb2xlYW4nXG5dO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEdyb3VwcyhvcmFtYSwgcmVzdWx0cywgZ3JvdXBCeSkge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSBncm91cEJ5LnByb3BlcnRpZXM7XG4gICAgY29uc3QgcHJvcGVydGllc0xlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoO1xuICAgIGNvbnN0IHNjaGVtYVByb3BlcnRpZXMgPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhvcmFtYS5kYXRhLmluZGV4KTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYVByb3BlcnRpZXNbcHJvcGVydHldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1VOS05PV05fR1JPVVBfQllfUFJPUEVSVFknLCBwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBTExPV0VEX1RZUEVTLmluY2x1ZGVzKHNjaGVtYVByb3BlcnRpZXNbcHJvcGVydHldKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfR1JPVVBfQllfUFJPUEVSVFknLCBwcm9wZXJ0eSwgQUxMT1dFRF9UWVBFUy5qb2luKCcsICcpLCBzY2hlbWFQcm9wZXJ0aWVzW3Byb3BlcnR5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWxsSURzID0gcmVzdWx0cy5tYXAoKFtpZF0pPT5nZXREb2N1bWVudElkRnJvbUludGVybmFsSWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKSk7XG4gICAgLy8gYWxsRG9jcyBpcyBhbHJlYWR5IHNvcnRlZCBieSB0aGUgc29ydEJ5IGFsZ29yaXRobVxuICAgIC8vIFdlIGxldmVyYWdlIG9uIHRoYXQgdG8gbGltaXQgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgcmV0dXJuZWRcbiAgICBjb25zdCBhbGxEb2NzID0gYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuZ2V0TXVsdGlwbGUob3JhbWEuZGF0YS5kb2NzLCBhbGxJRHMpO1xuICAgIGNvbnN0IGFsbERvY3NMZW5ndGggPSBhbGxEb2NzLmxlbmd0aDtcbiAgICBjb25zdCByZXR1cm5lZENvdW50ID0gZ3JvdXBCeS5tYXhSZXN1bHQgfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgY29uc3QgbGlzdE9mVmFsdWVzID0gW107XG4gICAgLy8gV2Ugd2FudCB0byB1bmRlcnN0YW5kIHdoaWNoIGRvY3VtZW50cyBoYXZlIHdoaWNoIHZhbHVlc1xuICAgIC8vIGFuZCBncm91cCB0aGVtIGJ5IHRoZSBwcm9wZXJ0eSBhbmQgdmFsdWVzXG4gICAgY29uc3QgZyA9IHt9O1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBncm91cEJ5S2V5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB7XG4gICAgICAgICAgICBwcm9wZXJ0eTogZ3JvdXBCeUtleSxcbiAgICAgICAgICAgIHBlclZhbHVlOiB7fVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBhbGxEb2NzTGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgY29uc3QgZG9jID0gYWxsRG9jc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgZ2V0TmVzdGVkKGRvYywgZ3JvdXBCeUtleSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGNvbnNpZGVyIHVuZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBrZXlWYWx1ZSA9IHR5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgOiAnJyArIHZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcGVyVmFsdWUgPSBncm91cC5wZXJWYWx1ZVtrZXlWYWx1ZV0gPz8ge1xuICAgICAgICAgICAgICAgIGluZGV4ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHBlclZhbHVlLmNvdW50ID49IHJldHVybmVkQ291bnQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIHVzZSB0aGUgaW5kZXggdG8ga2VlcCB0cmFjayBvZiB0aGUgb3JpZ2luYWwgb3JkZXJcbiAgICAgICAgICAgIHBlclZhbHVlLmluZGV4ZXMucHVzaChqKTtcbiAgICAgICAgICAgIHBlclZhbHVlLmNvdW50Kys7XG4gICAgICAgICAgICBncm91cC5wZXJWYWx1ZVtrZXlWYWx1ZV0gPSBwZXJWYWx1ZTtcbiAgICAgICAgICAgIHZhbHVlcy5hZGQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGxpc3RPZlZhbHVlcy5wdXNoKEFycmF5LmZyb20odmFsdWVzKSk7XG4gICAgICAgIGdbZ3JvdXBCeUtleV0gPSBncm91cDtcbiAgICB9XG4gICAgY29uc3QgY29tYmluYXRpb25zID0gY2FsY3VsYXRlQ29tYmluYXRpb24obGlzdE9mVmFsdWVzKTtcbiAgICBjb25zdCBjb21iaW5hdGlvbnNMZW5ndGggPSBjb21iaW5hdGlvbnMubGVuZ3RoO1xuICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjb21iaW5hdGlvbnNMZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uID0gY29tYmluYXRpb25zW2ldO1xuICAgICAgICBjb25zdCBjb21iaW5hdGlvbkxlbmd0aCA9IGNvbWJpbmF0aW9uLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSB7XG4gICAgICAgICAgICB2YWx1ZXM6IFtdLFxuICAgICAgICAgICAgaW5kZXhlczogW11cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5kZXhlcyA9IFtdO1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgY29tYmluYXRpb25MZW5ndGg7IGorKyl7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbWJpbmF0aW9uW2pdO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2pdO1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGdbcHJvcGVydHldLnBlclZhbHVlW3R5cGVvZiB2YWx1ZSAhPT0gJ2Jvb2xlYW4nID8gdmFsdWUgOiAnJyArIHZhbHVlXS5pbmRleGVzKTtcbiAgICAgICAgICAgIGdyb3VwLnZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBsZXZlcmFnZSBvbiB0aGUgaW5kZXggdG8gc29ydCB0aGUgcmVzdWx0cyBieSB0aGUgb3JpZ2luYWwgb3JkZXJcbiAgICAgICAgZ3JvdXAuaW5kZXhlcyA9IGludGVyc2VjdChpbmRleGVzKS5zb3J0KChhLCBiKT0+YSAtIGIpO1xuICAgICAgICAvLyBkb24ndCBnZW5lcmF0ZSBlbXB0eSBncm91cHNcbiAgICAgICAgaWYgKGdyb3VwLmluZGV4ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBncm91cHMucHVzaChncm91cCk7XG4gICAgfVxuICAgIGNvbnN0IGdyb3Vwc0xlbmd0aCA9IGdyb3Vwcy5sZW5ndGg7XG4gICAgY29uc3QgcmVzID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogZ3JvdXBzTGVuZ3RoXG4gICAgfSk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGdyb3Vwc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgIGNvbnN0IHJlZHVjZSA9IGdyb3VwQnkucmVkdWNlIHx8IERFRkFVTFRfUkVEVUNFO1xuICAgICAgICBjb25zdCBkb2NzID0gZ3JvdXAuaW5kZXhlcy5tYXAoKGluZGV4KT0+e1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogYWxsSURzW2luZGV4XSxcbiAgICAgICAgICAgICAgICBzY29yZTogcmVzdWx0c1tpbmRleF1bMV0sXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQ6IGFsbERvY3NbaW5kZXhdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZnVuYyA9IHJlZHVjZS5yZWR1Y2VyLmJpbmQobnVsbCwgZ3JvdXAudmFsdWVzKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0gcmVkdWNlLmdldEluaXRpYWxWYWx1ZShncm91cC5pbmRleGVzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGFnZ3JlZ2F0aW9uVmFsdWUgPSBkb2NzLnJlZHVjZShmdW5jLCBpbml0aWFsVmFsdWUpO1xuICAgICAgICByZXNbaV0gPSB7XG4gICAgICAgICAgICB2YWx1ZXM6IGdyb3VwLnZhbHVlcyxcbiAgICAgICAgICAgIHJlc3VsdDogYWdncmVnYXRpb25WYWx1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlQ29tYmluYXRpb24oYXJycywgaW5kZXggPSAwKSB7XG4gICAgaWYgKGluZGV4ICsgMSA9PT0gYXJycy5sZW5ndGgpIHJldHVybiBhcnJzW2luZGV4XS5tYXAoKGl0ZW0pPT5bXG4gICAgICAgICAgICBpdGVtXG4gICAgICAgIF0pO1xuICAgIGNvbnN0IGhlYWQgPSBhcnJzW2luZGV4XTtcbiAgICBjb25zdCBjID0gY2FsY3VsYXRlQ29tYmluYXRpb24oYXJycywgaW5kZXggKyAxKTtcbiAgICBjb25zdCBjb21iaW5hdGlvbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGhlYWQpe1xuICAgICAgICBmb3IgKGNvbnN0IGNvbWJpbmF0aW9uIG9mIGMpe1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW1xuICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIGNvbWJpbmF0aW9uKTtcbiAgICAgICAgICAgIGNvbWJpbmF0aW9ucy5wdXNoKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbWJpbmF0aW9ucztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JvdXBzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/groups.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/hooks.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/hooks.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FUNCTION_COMPONENTS: () => (/* binding */ FUNCTION_COMPONENTS),\n/* harmony export */   OBJECT_COMPONENTS: () => (/* binding */ OBJECT_COMPONENTS),\n/* harmony export */   SINGLE_OR_ARRAY_COMPONENTS: () => (/* binding */ SINGLE_OR_ARRAY_COMPONENTS),\n/* harmony export */   runAfterCreate: () => (/* binding */ runAfterCreate),\n/* harmony export */   runAfterSearch: () => (/* binding */ runAfterSearch),\n/* harmony export */   runBeforeSearch: () => (/* binding */ runBeforeSearch),\n/* harmony export */   runMultipleHook: () => (/* binding */ runMultipleHook),\n/* harmony export */   runSingleHook: () => (/* binding */ runSingleHook)\n/* harmony export */ });\nconst OBJECT_COMPONENTS = [\n    'tokenizer',\n    'index',\n    'documentsStore',\n    'sorter'\n];\nconst FUNCTION_COMPONENTS = [\n    'validateSchema',\n    'getDocumentIndexId',\n    'getDocumentProperties',\n    'formatElapsedTime'\n];\nconst SINGLE_OR_ARRAY_COMPONENTS = [];\nasync function runSingleHook(hooks, orama, id, doc) {\n    const hooksLength = hooks.length;\n    for(let i = 0; i < hooksLength; i++){\n        await hooks[i](orama, id, doc);\n    }\n}\nasync function runMultipleHook(hooks, orama, docsOrIds) {\n    const hooksLength = hooks.length;\n    for(let i = 0; i < hooksLength; i++){\n        await hooks[i](orama, docsOrIds);\n    }\n}\nasync function runAfterSearch(hooks, db, params, language, results) {\n    const hooksLength = hooks.length;\n    for(let i = 0; i < hooksLength; i++){\n        await hooks[i](db, params, language, results);\n    }\n}\nasync function runBeforeSearch(hooks, db, params, language) {\n    const hooksLength = hooks.length;\n    for(let i = 0; i < hooksLength; i++){\n        await hooks[i](db, params, language);\n    }\n}\nasync function runAfterCreate(hooks, db) {\n    const hooksLength = hooks.length;\n    for(let i = 0; i < hooksLength; i++){\n        await hooks[i](db);\n    }\n}\n\n//# sourceMappingURL=hooks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2hvb2tzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNQO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvaG9va3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IE9CSkVDVF9DT01QT05FTlRTID0gW1xuICAgICd0b2tlbml6ZXInLFxuICAgICdpbmRleCcsXG4gICAgJ2RvY3VtZW50c1N0b3JlJyxcbiAgICAnc29ydGVyJ1xuXTtcbmV4cG9ydCBjb25zdCBGVU5DVElPTl9DT01QT05FTlRTID0gW1xuICAgICd2YWxpZGF0ZVNjaGVtYScsXG4gICAgJ2dldERvY3VtZW50SW5kZXhJZCcsXG4gICAgJ2dldERvY3VtZW50UHJvcGVydGllcycsXG4gICAgJ2Zvcm1hdEVsYXBzZWRUaW1lJ1xuXTtcbmV4cG9ydCBjb25zdCBTSU5HTEVfT1JfQVJSQVlfQ09NUE9ORU5UUyA9IFtdO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1blNpbmdsZUhvb2soaG9va3MsIG9yYW1hLCBpZCwgZG9jKSB7XG4gICAgY29uc3QgaG9va3NMZW5ndGggPSBob29rcy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGhvb2tzTGVuZ3RoOyBpKyspe1xuICAgICAgICBhd2FpdCBob29rc1tpXShvcmFtYSwgaWQsIGRvYyk7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1bk11bHRpcGxlSG9vayhob29rcywgb3JhbWEsIGRvY3NPcklkcykge1xuICAgIGNvbnN0IGhvb2tzTGVuZ3RoID0gaG9va3MubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBob29rc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaG9va3NbaV0ob3JhbWEsIGRvY3NPcklkcyk7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1bkFmdGVyU2VhcmNoKGhvb2tzLCBkYiwgcGFyYW1zLCBsYW5ndWFnZSwgcmVzdWx0cykge1xuICAgIGNvbnN0IGhvb2tzTGVuZ3RoID0gaG9va3MubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBob29rc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaG9va3NbaV0oZGIsIHBhcmFtcywgbGFuZ3VhZ2UsIHJlc3VsdHMpO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5CZWZvcmVTZWFyY2goaG9va3MsIGRiLCBwYXJhbXMsIGxhbmd1YWdlKSB7XG4gICAgY29uc3QgaG9va3NMZW5ndGggPSBob29rcy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGhvb2tzTGVuZ3RoOyBpKyspe1xuICAgICAgICBhd2FpdCBob29rc1tpXShkYiwgcGFyYW1zLCBsYW5ndWFnZSk7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1bkFmdGVyQ3JlYXRlKGhvb2tzLCBkYikge1xuICAgIGNvbnN0IGhvb2tzTGVuZ3RoID0gaG9va3MubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBob29rc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgaG9va3NbaV0oZGIpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9va3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/hooks.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/index.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/index.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateResultScores: () => (/* binding */ calculateResultScores),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   createIndex: () => (/* binding */ createIndex),\n/* harmony export */   getSearchableProperties: () => (/* binding */ getSearchableProperties),\n/* harmony export */   getSearchablePropertiesWithTypes: () => (/* binding */ getSearchablePropertiesWithTypes),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   insertDocumentScoreParameters: () => (/* binding */ insertDocumentScoreParameters),\n/* harmony export */   insertTokenScoreParameters: () => (/* binding */ insertTokenScoreParameters),\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   removeDocumentScoreParameters: () => (/* binding */ removeDocumentScoreParameters),\n/* harmony export */   removeTokenScoreParameters: () => (/* binding */ removeTokenScoreParameters),\n/* harmony export */   save: () => (/* binding */ save),\n/* harmony export */   search: () => (/* binding */ search),\n/* harmony export */   searchByWhereClause: () => (/* binding */ searchByWhereClause)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _trees_avl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../trees/avl.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/avl.js\");\n/* harmony import */ var _trees_flat_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../trees/flat.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/flat.js\");\n/* harmony import */ var _trees_radix_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../trees/radix.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/radix.js\");\n/* harmony import */ var _trees_bkd_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../trees/bkd.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/bkd.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n/* harmony import */ var _algorithms_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithms.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/algorithms.js\");\n/* harmony import */ var _cosine_similarity_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cosine-similarity.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/cosine-similarity.js\");\n/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./defaults.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/defaults.js\");\n/* harmony import */ var _internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal-document-id-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\");\n\n\n\n\n\n\n\n\n\n\nasync function insertDocumentScoreParameters(index, prop, id, tokens, docsCount) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(index.sharedInternalDocumentStore, id);\n    index.avgFieldLength[prop] = ((index.avgFieldLength[prop] ?? 0) * (docsCount - 1) + tokens.length) / docsCount;\n    index.fieldLengths[prop][internalId] = tokens.length;\n    index.frequencies[prop][internalId] = {};\n}\nasync function insertTokenScoreParameters(index, prop, id, tokens, token) {\n    let tokenFrequency = 0;\n    for (const t of tokens){\n        if (t === token) {\n            tokenFrequency++;\n        }\n    }\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(index.sharedInternalDocumentStore, id);\n    const tf = tokenFrequency / tokens.length;\n    index.frequencies[prop][internalId][token] = tf;\n    if (!(token in index.tokenOccurrences[prop])) {\n        index.tokenOccurrences[prop][token] = 0;\n    }\n    // increase a token counter that may not yet exist\n    index.tokenOccurrences[prop][token] = (index.tokenOccurrences[prop][token] ?? 0) + 1;\n}\nasync function removeDocumentScoreParameters(index, prop, id, docsCount) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(index.sharedInternalDocumentStore, id);\n    if (docsCount > 1) {\n        index.avgFieldLength[prop] = (index.avgFieldLength[prop] * docsCount - index.fieldLengths[prop][internalId]) / (docsCount - 1);\n    } else {\n        index.avgFieldLength[prop] = undefined;\n    }\n    index.fieldLengths[prop][internalId] = undefined;\n    index.frequencies[prop][internalId] = undefined;\n}\nasync function removeTokenScoreParameters(index, prop, token) {\n    index.tokenOccurrences[prop][token]--;\n}\nasync function calculateResultScores(context, index, prop, term, ids) {\n    const documentIDs = Array.from(ids);\n    // Exact fields for TF-IDF\n    const avgFieldLength = index.avgFieldLength[prop];\n    const fieldLengths = index.fieldLengths[prop];\n    const oramaOccurrences = index.tokenOccurrences[prop];\n    const oramaFrequencies = index.frequencies[prop];\n    // oramaOccurrences[term] can be undefined, 0, string, or { [k: string]: number }\n    const termOccurrences = typeof oramaOccurrences[term] === 'number' ? oramaOccurrences[term] ?? 0 : 0;\n    const scoreList = [];\n    // Calculate TF-IDF value for each term, in each document, for each index.\n    const documentIDsLength = documentIDs.length;\n    for(let k = 0; k < documentIDsLength; k++){\n        var _oramaFrequencies_internalId;\n        const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(index.sharedInternalDocumentStore, documentIDs[k]);\n        const tf = (oramaFrequencies === null || oramaFrequencies === void 0 ? void 0 : (_oramaFrequencies_internalId = oramaFrequencies[internalId]) === null || _oramaFrequencies_internalId === void 0 ? void 0 : _oramaFrequencies_internalId[term]) ?? 0;\n        const bm25 = (0,_algorithms_js__WEBPACK_IMPORTED_MODULE_1__.BM25)(tf, termOccurrences, context.docsCount, fieldLengths[internalId], avgFieldLength, context.params.relevance);\n        scoreList.push([\n            internalId,\n            bm25\n        ]);\n    }\n    return scoreList;\n}\nasync function create(orama, sharedInternalDocumentStore, schema, index, prefix = '') {\n    if (!index) {\n        index = {\n            sharedInternalDocumentStore,\n            indexes: {},\n            vectorIndexes: {},\n            searchableProperties: [],\n            searchablePropertiesWithTypes: {},\n            frequencies: {},\n            tokenOccurrences: {},\n            avgFieldLength: {},\n            fieldLengths: {}\n        };\n    }\n    for (const [prop, type] of Object.entries(schema)){\n        const path = `${prefix}${prefix ? '.' : ''}${prop}`;\n        if (typeof type === 'object' && !Array.isArray(type)) {\n            // Nested\n            create(orama, sharedInternalDocumentStore, type, index, path);\n            continue;\n        }\n        if ((0,_defaults_js__WEBPACK_IMPORTED_MODULE_2__.isVectorType)(type)) {\n            index.searchableProperties.push(path);\n            index.searchablePropertiesWithTypes[path] = type;\n            index.vectorIndexes[path] = {\n                size: (0,_defaults_js__WEBPACK_IMPORTED_MODULE_2__.getVectorSize)(type),\n                vectors: {}\n            };\n        } else {\n            const isArray = /\\[/.test(type);\n            switch(type){\n                case 'boolean':\n                case 'boolean[]':\n                    index.indexes[path] = {\n                        type: 'Bool',\n                        node: {\n                            true: [],\n                            false: []\n                        },\n                        isArray\n                    };\n                    break;\n                case 'number':\n                case 'number[]':\n                    index.indexes[path] = {\n                        type: 'AVL',\n                        node: (0,_trees_avl_js__WEBPACK_IMPORTED_MODULE_3__.create)(0, []),\n                        isArray\n                    };\n                    break;\n                case 'string':\n                case 'string[]':\n                    index.indexes[path] = {\n                        type: 'Radix',\n                        node: (0,_trees_radix_js__WEBPACK_IMPORTED_MODULE_4__.create)(),\n                        isArray\n                    };\n                    index.avgFieldLength[path] = 0;\n                    index.frequencies[path] = {};\n                    index.tokenOccurrences[path] = {};\n                    index.fieldLengths[path] = {};\n                    break;\n                case 'enum':\n                case 'enum[]':\n                    index.indexes[path] = {\n                        type: 'Flat',\n                        node: (0,_trees_flat_js__WEBPACK_IMPORTED_MODULE_5__.create)(),\n                        isArray\n                    };\n                    break;\n                case 'geopoint':\n                    index.indexes[path] = {\n                        type: 'BKD',\n                        node: (0,_trees_bkd_js__WEBPACK_IMPORTED_MODULE_6__.create)(),\n                        isArray\n                    };\n                    break;\n                default:\n                    throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_7__.createError)('INVALID_SCHEMA_TYPE', Array.isArray(type) ? 'array' : type, path);\n            }\n            index.searchableProperties.push(path);\n            index.searchablePropertiesWithTypes[path] = type;\n        }\n    }\n    return index;\n}\nfunction insertScalarBuilder(implementation, index, prop, id, language, tokenizer, docsCount, options) {\n    return async (value)=>{\n        const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(index.sharedInternalDocumentStore, id);\n        const { type , node  } = index.indexes[prop];\n        switch(type){\n            case 'Bool':\n                {\n                    node[value ? 'true' : 'false'].push(internalId);\n                    break;\n                }\n            case 'AVL':\n                {\n                    const avlRebalanceThreshold = (options === null || options === void 0 ? void 0 : options.avlRebalanceThreshold) ?? 1;\n                    (0,_trees_avl_js__WEBPACK_IMPORTED_MODULE_3__.insert)(node, value, [\n                        internalId\n                    ], avlRebalanceThreshold);\n                    break;\n                }\n            case 'Radix':\n                {\n                    const tokens = await tokenizer.tokenize(value, language, prop);\n                    await implementation.insertDocumentScoreParameters(index, prop, internalId, tokens, docsCount);\n                    for (const token of tokens){\n                        await implementation.insertTokenScoreParameters(index, prop, internalId, tokens, token);\n                        (0,_trees_radix_js__WEBPACK_IMPORTED_MODULE_4__.insert)(node, token, internalId);\n                    }\n                    break;\n                }\n            case 'Flat':\n                {\n                    (0,_trees_flat_js__WEBPACK_IMPORTED_MODULE_5__.insert)(node, value, internalId);\n                    break;\n                }\n            case 'BKD':\n                {\n                    (0,_trees_bkd_js__WEBPACK_IMPORTED_MODULE_6__.insert)(node, value, [\n                        internalId\n                    ]);\n                    break;\n                }\n        }\n    };\n}\nasync function insert(implementation, index, prop, id, value, schemaType, language, tokenizer, docsCount, options) {\n    if ((0,_defaults_js__WEBPACK_IMPORTED_MODULE_2__.isVectorType)(schemaType)) {\n        return insertVector(index, prop, value, id);\n    }\n    const insertScalar = insertScalarBuilder(implementation, index, prop, id, language, tokenizer, docsCount, options);\n    if (!(0,_defaults_js__WEBPACK_IMPORTED_MODULE_2__.isArrayType)(schemaType)) {\n        return insertScalar(value);\n    }\n    const elements = value;\n    const elementsLength = elements.length;\n    for(let i = 0; i < elementsLength; i++){\n        await insertScalar(elements[i]);\n    }\n}\nfunction insertVector(index, prop, value, id) {\n    if (!(value instanceof Float32Array)) {\n        value = new Float32Array(value);\n    }\n    const size = index.vectorIndexes[prop].size;\n    const magnitude = (0,_cosine_similarity_js__WEBPACK_IMPORTED_MODULE_8__.getMagnitude)(value, size);\n    index.vectorIndexes[prop].vectors[id] = [\n        magnitude,\n        value\n    ];\n}\nasync function removeScalar(implementation, index, prop, id, value, schemaType, language, tokenizer, docsCount) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(index.sharedInternalDocumentStore, id);\n    if ((0,_defaults_js__WEBPACK_IMPORTED_MODULE_2__.isVectorType)(schemaType)) {\n        delete index.vectorIndexes[prop].vectors[id];\n        return true;\n    }\n    const { type , node  } = index.indexes[prop];\n    switch(type){\n        case 'AVL':\n            {\n                (0,_trees_avl_js__WEBPACK_IMPORTED_MODULE_3__.removeDocument)(node, internalId, value);\n                return true;\n            }\n        case 'Bool':\n            {\n                const booleanKey = value ? 'true' : 'false';\n                const position = node[booleanKey].indexOf(internalId);\n                node[value ? 'true' : 'false'].splice(position, 1);\n                return true;\n            }\n        case 'Radix':\n            {\n                const tokens = await tokenizer.tokenize(value, language, prop);\n                await implementation.removeDocumentScoreParameters(index, prop, id, docsCount);\n                for (const token of tokens){\n                    await implementation.removeTokenScoreParameters(index, prop, token);\n                    (0,_trees_radix_js__WEBPACK_IMPORTED_MODULE_4__.removeDocumentByWord)(node, token, internalId);\n                }\n                return true;\n            }\n        case 'Flat':\n            {\n                (0,_trees_flat_js__WEBPACK_IMPORTED_MODULE_5__.removeDocument)(node, internalId, value);\n                return true;\n            }\n        case 'BKD':\n            {\n                (0,_trees_bkd_js__WEBPACK_IMPORTED_MODULE_6__.removeDocByID)(node, value, internalId);\n                return false;\n            }\n    }\n}\nasync function remove(implementation, index, prop, id, value, schemaType, language, tokenizer, docsCount) {\n    if (!(0,_defaults_js__WEBPACK_IMPORTED_MODULE_2__.isArrayType)(schemaType)) {\n        return removeScalar(implementation, index, prop, id, value, schemaType, language, tokenizer, docsCount);\n    }\n    const innerSchemaType = (0,_defaults_js__WEBPACK_IMPORTED_MODULE_2__.getInnerType)(schemaType);\n    const elements = value;\n    const elementsLength = elements.length;\n    for(let i = 0; i < elementsLength; i++){\n        await removeScalar(implementation, index, prop, id, elements[i], innerSchemaType, language, tokenizer, docsCount);\n    }\n    return true;\n}\nasync function search(context, index, prop, term) {\n    if (!(prop in index.tokenOccurrences)) {\n        return [];\n    }\n    const { node , type  } = index.indexes[prop];\n    if (type !== 'Radix') {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_7__.createError)('WRONG_SEARCH_PROPERTY_TYPE', prop);\n    }\n    const { exact , tolerance  } = context.params;\n    const searchResult = (0,_trees_radix_js__WEBPACK_IMPORTED_MODULE_4__.find)(node, {\n        term,\n        exact,\n        tolerance\n    });\n    const ids = new Set();\n    for(const key in searchResult){\n        //skip keys inherited from prototype\n        const ownProperty = (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.getOwnProperty)(searchResult, key);\n        if (!ownProperty) continue;\n        for (const id of searchResult[key]){\n            ids.add(id);\n        }\n    }\n    return context.index.calculateResultScores(context, index, prop, term, Array.from(ids));\n}\nasync function searchByWhereClause(context, index, filters) {\n    const filterKeys = Object.keys(filters);\n    const filtersMap = filterKeys.reduce((acc, key)=>({\n            [key]: [],\n            ...acc\n        }), {});\n    for (const param of filterKeys){\n        const operation = filters[param];\n        if (typeof index.indexes[param] === 'undefined') {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_7__.createError)('UNKNOWN_FILTER_PROPERTY', param);\n        }\n        const { node , type , isArray  } = index.indexes[param];\n        if (type === 'Bool') {\n            const idx = node;\n            const filteredIDs = idx[operation.toString()];\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.safeArrayPush)(filtersMap[param], filteredIDs);\n            continue;\n        }\n        if (type === 'BKD') {\n            let reqOperation;\n            if ('radius' in operation) {\n                reqOperation = 'radius';\n            } else if ('polygon' in operation) {\n                reqOperation = 'polygon';\n            } else {\n                throw new Error(`Invalid operation ${operation}`);\n            }\n            if (reqOperation === 'radius') {\n                const { value , coordinates , unit ='m' , inside =true , highPrecision =false  } = operation[reqOperation];\n                const distanceInMeters = (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.convertDistanceToMeters)(value, unit);\n                const ids = (0,_trees_bkd_js__WEBPACK_IMPORTED_MODULE_6__.searchByRadius)(node.root, coordinates, distanceInMeters, inside, undefined, highPrecision);\n                // @todo: convert this into a for loop\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.safeArrayPush)(filtersMap[param], ids.flatMap(({ docIDs  })=>docIDs));\n            } else {\n                const { coordinates , inside =true , highPrecision =false  } = operation[reqOperation];\n                const ids = (0,_trees_bkd_js__WEBPACK_IMPORTED_MODULE_6__.searchByPolygon)(node.root, coordinates, inside, undefined, highPrecision);\n                // @todo: convert this into a for loop\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.safeArrayPush)(filtersMap[param], ids.flatMap(({ docIDs  })=>docIDs));\n            }\n            continue;\n        }\n        if (type === 'Radix' && (typeof operation === 'string' || Array.isArray(operation))) {\n            for (const raw of [\n                operation\n            ].flat()){\n                const term = await context.tokenizer.tokenize(raw, context.language, param);\n                for (const t of term){\n                    const filteredIDsResults = (0,_trees_radix_js__WEBPACK_IMPORTED_MODULE_4__.find)(node, {\n                        term: t,\n                        exact: true\n                    });\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.safeArrayPush)(filtersMap[param], Object.values(filteredIDsResults).flat());\n                }\n            }\n            continue;\n        }\n        const operationKeys = Object.keys(operation);\n        if (operationKeys.length > 1) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_7__.createError)('INVALID_FILTER_OPERATION', operationKeys.length);\n        }\n        if (type === 'Flat') {\n            const flatOperation = isArray ? _trees_flat_js__WEBPACK_IMPORTED_MODULE_5__.filterArr : _trees_flat_js__WEBPACK_IMPORTED_MODULE_5__.filter;\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.safeArrayPush)(filtersMap[param], flatOperation(node, operation));\n            continue;\n        }\n        if (type === 'AVL') {\n            const operationOpt = operationKeys[0];\n            const operationValue = operation[operationOpt];\n            let filteredIDs = [];\n            switch(operationOpt){\n                case 'gt':\n                    {\n                        filteredIDs = (0,_trees_avl_js__WEBPACK_IMPORTED_MODULE_3__.greaterThan)(node, operationValue, false);\n                        break;\n                    }\n                case 'gte':\n                    {\n                        filteredIDs = (0,_trees_avl_js__WEBPACK_IMPORTED_MODULE_3__.greaterThan)(node, operationValue, true);\n                        break;\n                    }\n                case 'lt':\n                    {\n                        filteredIDs = (0,_trees_avl_js__WEBPACK_IMPORTED_MODULE_3__.lessThan)(node, operationValue, false);\n                        break;\n                    }\n                case 'lte':\n                    {\n                        filteredIDs = (0,_trees_avl_js__WEBPACK_IMPORTED_MODULE_3__.lessThan)(node, operationValue, true);\n                        break;\n                    }\n                case 'eq':\n                    {\n                        filteredIDs = (0,_trees_avl_js__WEBPACK_IMPORTED_MODULE_3__.find)(node, operationValue) ?? [];\n                        break;\n                    }\n                case 'between':\n                    {\n                        const [min, max] = operationValue;\n                        filteredIDs = (0,_trees_avl_js__WEBPACK_IMPORTED_MODULE_3__.rangeSearch)(node, min, max);\n                        break;\n                    }\n            }\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.safeArrayPush)(filtersMap[param], filteredIDs);\n        }\n    }\n    // AND operation: calculate the intersection between all the IDs in filterMap\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.intersect)(Object.values(filtersMap));\n}\nasync function getSearchableProperties(index) {\n    return index.searchableProperties;\n}\nasync function getSearchablePropertiesWithTypes(index) {\n    return index.searchablePropertiesWithTypes;\n}\nfunction loadRadixNode(node) {\n    const convertedNode = (0,_trees_radix_js__WEBPACK_IMPORTED_MODULE_4__.create)(node.e, node.s, node.k);\n    convertedNode.d = node.d;\n    convertedNode.w = node.w;\n    for (const childrenKey of Object.keys(node.c)){\n        convertedNode.c[childrenKey] = loadRadixNode(node.c[childrenKey]);\n    }\n    return convertedNode;\n}\nfunction loadFlatNode(node) {\n    return {\n        numberToDocumentId: new Map(node)\n    };\n}\nfunction saveFlatNode(node) {\n    return Array.from(node.numberToDocumentId.entries());\n}\nasync function load(sharedInternalDocumentStore, raw) {\n    const { indexes: rawIndexes , vectorIndexes: rawVectorIndexes , searchableProperties , searchablePropertiesWithTypes , frequencies , tokenOccurrences , avgFieldLength , fieldLengths  } = raw;\n    const indexes = {};\n    const vectorIndexes = {};\n    for (const prop of Object.keys(rawIndexes)){\n        const { node , type , isArray  } = rawIndexes[prop];\n        switch(type){\n            case 'Radix':\n                indexes[prop] = {\n                    type: 'Radix',\n                    node: loadRadixNode(node),\n                    isArray\n                };\n                break;\n            case 'Flat':\n                indexes[prop] = {\n                    type: 'Flat',\n                    node: loadFlatNode(node),\n                    isArray\n                };\n                break;\n            default:\n                indexes[prop] = rawIndexes[prop];\n        }\n    }\n    for (const idx of Object.keys(rawVectorIndexes)){\n        const vectors = rawVectorIndexes[idx].vectors;\n        for(const vec in vectors){\n            vectors[vec] = [\n                vectors[vec][0],\n                new Float32Array(vectors[vec][1])\n            ];\n        }\n        vectorIndexes[idx] = {\n            size: rawVectorIndexes[idx].size,\n            vectors\n        };\n    }\n    return {\n        sharedInternalDocumentStore,\n        indexes,\n        vectorIndexes,\n        searchableProperties,\n        searchablePropertiesWithTypes,\n        frequencies,\n        tokenOccurrences,\n        avgFieldLength,\n        fieldLengths\n    };\n}\nasync function save(index) {\n    const { indexes , vectorIndexes , searchableProperties , searchablePropertiesWithTypes , frequencies , tokenOccurrences , avgFieldLength , fieldLengths  } = index;\n    const vectorIndexesAsArrays = {};\n    for (const idx of Object.keys(vectorIndexes)){\n        const vectors = vectorIndexes[idx].vectors;\n        for(const vec in vectors){\n            vectors[vec] = [\n                vectors[vec][0],\n                Array.from(vectors[vec][1])\n            ];\n        }\n        vectorIndexesAsArrays[idx] = {\n            size: vectorIndexes[idx].size,\n            vectors\n        };\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const savedIndexes = {};\n    for (const name of Object.keys(indexes)){\n        const { type , node , isArray  } = indexes[name];\n        if (type !== 'Flat') {\n            savedIndexes[name] = indexes[name];\n            continue;\n        }\n        savedIndexes[name] = {\n            type: 'Flat',\n            node: saveFlatNode(node),\n            isArray\n        };\n    }\n    return {\n        indexes: savedIndexes,\n        vectorIndexes: vectorIndexesAsArrays,\n        searchableProperties,\n        searchablePropertiesWithTypes,\n        frequencies,\n        tokenOccurrences,\n        avgFieldLength,\n        fieldLengths\n    };\n}\nasync function createIndex() {\n    return {\n        create,\n        insert,\n        remove,\n        insertDocumentScoreParameters,\n        insertTokenScoreParameters,\n        removeDocumentScoreParameters,\n        removeTokenScoreParameters,\n        calculateResultScores,\n        search,\n        searchByWhereClause,\n        getSearchableProperties,\n        getSearchablePropertiesWithTypes,\n        load,\n        save\n    };\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkM7QUFDNks7QUFDbEQ7QUFDckI7QUFDRjtBQUMvQztBQUN6RDtBQUNlO0FBQ2lDO0FBQ2Y7QUFDakU7QUFDUCx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHVCQUF1QixxRkFBcUI7QUFDNUM7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0EsMkJBQTJCLHFGQUFxQjtBQUNoRDtBQUNBLHFCQUFxQixvREFBSTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLDZCQUE2QjtBQUM3QjtBQUNBLDZDQUE2QztBQUM3QywyQkFBMkI7QUFDM0IsZ0NBQWdDO0FBQ2hDLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsS0FBSztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwwREFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQWE7QUFDbkM7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscURBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsdURBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzREFBVTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscURBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsdURBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFGQUFxQjtBQUNoRCxnQkFBZ0IsZUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdURBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxREFBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsUUFBUSwwREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlEQUFXO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9CQUFvQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1FQUFZO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxRkFBcUI7QUFDNUMsUUFBUSwwREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZEQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUVBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsOERBQWtCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDREQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsU0FBUyx5REFBVztBQUNwQjtBQUNBO0FBQ0EsNEJBQTRCLDBEQUFZO0FBQ3hDO0FBQ0E7QUFDQSxtQkFBbUIsb0JBQW9CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxZQUFZLGVBQWU7QUFDM0I7QUFDQSxjQUFjLHVEQUFXO0FBQ3pCO0FBQ0EsWUFBWSxxQkFBcUI7QUFDakMseUJBQXlCLHFEQUFTO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIseURBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxLQUFLO0FBQ2Q7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFXO0FBQzdCO0FBQ0EsZ0JBQWdCLHlCQUF5QjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLGNBQWM7QUFDZCxxREFBcUQsVUFBVTtBQUMvRDtBQUNBO0FBQ0Esd0JBQXdCLHlFQUF5RTtBQUNqRyx5Q0FBeUMsa0VBQXVCO0FBQ2hFLDRCQUE0Qiw2REFBYztBQUMxQztBQUNBLGdCQUFnQix3REFBYSxtQ0FBbUMsU0FBUztBQUN6RSxjQUFjO0FBQ2Qsd0JBQXdCLHFEQUFxRDtBQUM3RSw0QkFBNEIsOERBQWU7QUFDM0M7QUFDQSxnQkFBZ0Isd0RBQWEsbUNBQW1DLFNBQVM7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLHFEQUFTO0FBQ3hEO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsb0JBQW9CLHdEQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0EsNENBQTRDLHFEQUFhLEdBQUcsa0RBQVU7QUFDdEUsWUFBWSx3REFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsMERBQWM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsMERBQWM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdURBQVc7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdURBQVc7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsbURBQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQywwREFBYztBQUNwRDtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0RBQVM7QUFDcEI7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksaUxBQWlMO0FBQzdMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix5QkFBeUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxtSkFBbUo7QUFDL0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix5QkFBeUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbXJiYWQvdmliZXByb2plY3RzL2Vhenl0YWJsZS9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGNyZWF0ZSBhcyBhdmxDcmVhdGUsIGZpbmQgYXMgYXZsRmluZCwgZ3JlYXRlclRoYW4gYXMgYXZsR3JlYXRlclRoYW4sIGluc2VydCBhcyBhdmxJbnNlcnQsIGxlc3NUaGFuIGFzIGF2bExlc3NUaGFuLCByYW5nZVNlYXJjaCBhcyBhdmxSYW5nZVNlYXJjaCwgcmVtb3ZlRG9jdW1lbnQgYXMgYXZsUmVtb3ZlRG9jdW1lbnQgfSBmcm9tICcuLi90cmVlcy9hdmwuanMnO1xuaW1wb3J0IHsgY3JlYXRlIGFzIGZsYXRDcmVhdGUsIGZpbHRlciBhcyBmbGF0RmlsdGVyLCBmaWx0ZXJBcnIgYXMgZmxhdEZpbHRlckFyciwgaW5zZXJ0IGFzIGZsYXRJbnNlcnQsIHJlbW92ZURvY3VtZW50IGFzIGZsYXRSZW1vdmVEb2N1bWVudCB9IGZyb20gJy4uL3RyZWVzL2ZsYXQuanMnO1xuaW1wb3J0IHsgY3JlYXRlIGFzIHJhZGl4Q3JlYXRlLCBmaW5kIGFzIHJhZGl4RmluZCwgaW5zZXJ0IGFzIHJhZGl4SW5zZXJ0LCByZW1vdmVEb2N1bWVudEJ5V29yZCBhcyByYWRpeFJlbW92ZURvY3VtZW50IH0gZnJvbSAnLi4vdHJlZXMvcmFkaXguanMnO1xuaW1wb3J0IHsgY3JlYXRlIGFzIGJrZENyZWF0ZSwgaW5zZXJ0IGFzIGJrZEluc2VydCwgcmVtb3ZlRG9jQnlJRCBhcyBia2RSZW1vdmVEb2NCeUlELCBzZWFyY2hCeVJhZGl1cywgc2VhcmNoQnlQb2x5Z29uIH0gZnJvbSAnLi4vdHJlZXMvYmtkLmpzJztcbmltcG9ydCB7IGNvbnZlcnREaXN0YW5jZVRvTWV0ZXJzLCBpbnRlcnNlY3QsIHNhZmVBcnJheVB1c2gsIGdldE93blByb3BlcnR5IH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHsgQk0yNSB9IGZyb20gJy4vYWxnb3JpdGhtcy5qcyc7XG5pbXBvcnQgeyBnZXRNYWduaXR1ZGUgfSBmcm9tICcuL2Nvc2luZS1zaW1pbGFyaXR5LmpzJztcbmltcG9ydCB7IGdldElubmVyVHlwZSwgZ2V0VmVjdG9yU2l6ZSwgaXNBcnJheVR5cGUsIGlzVmVjdG9yVHlwZSB9IGZyb20gJy4vZGVmYXVsdHMuanMnO1xuaW1wb3J0IHsgZ2V0SW50ZXJuYWxEb2N1bWVudElkIH0gZnJvbSAnLi9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5zZXJ0RG9jdW1lbnRTY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGlkLCB0b2tlbnMsIGRvY3NDb3VudCkge1xuICAgIGNvbnN0IGludGVybmFsSWQgPSBnZXRJbnRlcm5hbERvY3VtZW50SWQoaW5kZXguc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBpZCk7XG4gICAgaW5kZXguYXZnRmllbGRMZW5ndGhbcHJvcF0gPSAoKGluZGV4LmF2Z0ZpZWxkTGVuZ3RoW3Byb3BdID8/IDApICogKGRvY3NDb3VudCAtIDEpICsgdG9rZW5zLmxlbmd0aCkgLyBkb2NzQ291bnQ7XG4gICAgaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdW2ludGVybmFsSWRdID0gdG9rZW5zLmxlbmd0aDtcbiAgICBpbmRleC5mcmVxdWVuY2llc1twcm9wXVtpbnRlcm5hbElkXSA9IHt9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydFRva2VuU2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpZCwgdG9rZW5zLCB0b2tlbikge1xuICAgIGxldCB0b2tlbkZyZXF1ZW5jeSA9IDA7XG4gICAgZm9yIChjb25zdCB0IG9mIHRva2Vucyl7XG4gICAgICAgIGlmICh0ID09PSB0b2tlbikge1xuICAgICAgICAgICAgdG9rZW5GcmVxdWVuY3krKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IHRmID0gdG9rZW5GcmVxdWVuY3kgLyB0b2tlbnMubGVuZ3RoO1xuICAgIGluZGV4LmZyZXF1ZW5jaWVzW3Byb3BdW2ludGVybmFsSWRdW3Rva2VuXSA9IHRmO1xuICAgIGlmICghKHRva2VuIGluIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF0pKSB7XG4gICAgICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF1bdG9rZW5dID0gMDtcbiAgICB9XG4gICAgLy8gaW5jcmVhc2UgYSB0b2tlbiBjb3VudGVyIHRoYXQgbWF5IG5vdCB5ZXQgZXhpc3RcbiAgICBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdW3Rva2VuXSA9IChpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdW3Rva2VuXSA/PyAwKSArIDE7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGlkLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmIChkb2NzQ291bnQgPiAxKSB7XG4gICAgICAgIGluZGV4LmF2Z0ZpZWxkTGVuZ3RoW3Byb3BdID0gKGluZGV4LmF2Z0ZpZWxkTGVuZ3RoW3Byb3BdICogZG9jc0NvdW50IC0gaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdW2ludGVybmFsSWRdKSAvIChkb2NzQ291bnQgLSAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xuICAgIGluZGV4LmZyZXF1ZW5jaWVzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCB0b2tlbikge1xuICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF1bdG9rZW5dLS07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FsY3VsYXRlUmVzdWx0U2NvcmVzKGNvbnRleHQsIGluZGV4LCBwcm9wLCB0ZXJtLCBpZHMpIHtcbiAgICBjb25zdCBkb2N1bWVudElEcyA9IEFycmF5LmZyb20oaWRzKTtcbiAgICAvLyBFeGFjdCBmaWVsZHMgZm9yIFRGLUlERlxuICAgIGNvbnN0IGF2Z0ZpZWxkTGVuZ3RoID0gaW5kZXguYXZnRmllbGRMZW5ndGhbcHJvcF07XG4gICAgY29uc3QgZmllbGRMZW5ndGhzID0gaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdO1xuICAgIGNvbnN0IG9yYW1hT2NjdXJyZW5jZXMgPSBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdO1xuICAgIGNvbnN0IG9yYW1hRnJlcXVlbmNpZXMgPSBpbmRleC5mcmVxdWVuY2llc1twcm9wXTtcbiAgICAvLyBvcmFtYU9jY3VycmVuY2VzW3Rlcm1dIGNhbiBiZSB1bmRlZmluZWQsIDAsIHN0cmluZywgb3IgeyBbazogc3RyaW5nXTogbnVtYmVyIH1cbiAgICBjb25zdCB0ZXJtT2NjdXJyZW5jZXMgPSB0eXBlb2Ygb3JhbWFPY2N1cnJlbmNlc1t0ZXJtXSA9PT0gJ251bWJlcicgPyBvcmFtYU9jY3VycmVuY2VzW3Rlcm1dID8/IDAgOiAwO1xuICAgIGNvbnN0IHNjb3JlTGlzdCA9IFtdO1xuICAgIC8vIENhbGN1bGF0ZSBURi1JREYgdmFsdWUgZm9yIGVhY2ggdGVybSwgaW4gZWFjaCBkb2N1bWVudCwgZm9yIGVhY2ggaW5kZXguXG4gICAgY29uc3QgZG9jdW1lbnRJRHNMZW5ndGggPSBkb2N1bWVudElEcy5sZW5ndGg7XG4gICAgZm9yKGxldCBrID0gMDsgayA8IGRvY3VtZW50SURzTGVuZ3RoOyBrKyspe1xuICAgICAgICB2YXIgX29yYW1hRnJlcXVlbmNpZXNfaW50ZXJuYWxJZDtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGRvY3VtZW50SURzW2tdKTtcbiAgICAgICAgY29uc3QgdGYgPSAob3JhbWFGcmVxdWVuY2llcyA9PT0gbnVsbCB8fCBvcmFtYUZyZXF1ZW5jaWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29yYW1hRnJlcXVlbmNpZXNfaW50ZXJuYWxJZCA9IG9yYW1hRnJlcXVlbmNpZXNbaW50ZXJuYWxJZF0pID09PSBudWxsIHx8IF9vcmFtYUZyZXF1ZW5jaWVzX2ludGVybmFsSWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcmFtYUZyZXF1ZW5jaWVzX2ludGVybmFsSWRbdGVybV0pID8/IDA7XG4gICAgICAgIGNvbnN0IGJtMjUgPSBCTTI1KHRmLCB0ZXJtT2NjdXJyZW5jZXMsIGNvbnRleHQuZG9jc0NvdW50LCBmaWVsZExlbmd0aHNbaW50ZXJuYWxJZF0sIGF2Z0ZpZWxkTGVuZ3RoLCBjb250ZXh0LnBhcmFtcy5yZWxldmFuY2UpO1xuICAgICAgICBzY29yZUxpc3QucHVzaChbXG4gICAgICAgICAgICBpbnRlcm5hbElkLFxuICAgICAgICAgICAgYm0yNVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjb3JlTGlzdDtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUob3JhbWEsIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgc2NoZW1hLCBpbmRleCwgcHJlZml4ID0gJycpIHtcbiAgICBpZiAoIWluZGV4KSB7XG4gICAgICAgIGluZGV4ID0ge1xuICAgICAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICAgICAgaW5kZXhlczoge30sXG4gICAgICAgICAgICB2ZWN0b3JJbmRleGVzOiB7fSxcbiAgICAgICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzOiBbXSxcbiAgICAgICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzOiB7fSxcbiAgICAgICAgICAgIGZyZXF1ZW5jaWVzOiB7fSxcbiAgICAgICAgICAgIHRva2VuT2NjdXJyZW5jZXM6IHt9LFxuICAgICAgICAgICAgYXZnRmllbGRMZW5ndGg6IHt9LFxuICAgICAgICAgICAgZmllbGRMZW5ndGhzOiB7fVxuICAgICAgICB9O1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtwcm9wLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKXtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAke3ByZWZpeH0ke3ByZWZpeCA/ICcuJyA6ICcnfSR7cHJvcH1gO1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICAgICAgICAvLyBOZXN0ZWRcbiAgICAgICAgICAgIGNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCB0eXBlLCBpbmRleCwgcGF0aCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNWZWN0b3JUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllcy5wdXNoKHBhdGgpO1xuICAgICAgICAgICAgaW5kZXguc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXNbcGF0aF0gPSB0eXBlO1xuICAgICAgICAgICAgaW5kZXgudmVjdG9ySW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICBzaXplOiBnZXRWZWN0b3JTaXplKHR5cGUpLFxuICAgICAgICAgICAgICAgIHZlY3RvcnM6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaXNBcnJheSA9IC9cXFsvLnRlc3QodHlwZSk7XG4gICAgICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYm9vbGVhbltdJzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCb29sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZTogW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyW10nOlxuICAgICAgICAgICAgICAgICAgICBpbmRleC5pbmRleGVzW3BhdGhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0FWTCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBhdmxDcmVhdGUoMCwgW10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZ1tdJzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSYWRpeCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiByYWRpeENyZWF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBcnJheVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwYXRoXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmZyZXF1ZW5jaWVzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcGF0aF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguZmllbGRMZW5ndGhzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmluZGV4ZXNbcGF0aF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnRmxhdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBmbGF0Q3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dlb3BvaW50JzpcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguaW5kZXhlc1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCS0QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTogYmtkQ3JlYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1NDSEVNQV9UWVBFJywgQXJyYXkuaXNBcnJheSh0eXBlKSA/ICdhcnJheScgOiB0eXBlLCBwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4LnNlYXJjaGFibGVQcm9wZXJ0aWVzLnB1c2gocGF0aCk7XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twYXRoXSA9IHR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufVxuZnVuY3Rpb24gaW5zZXJ0U2NhbGFyQnVpbGRlcihpbXBsZW1lbnRhdGlvbiwgaW5kZXgsIHByb3AsIGlkLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYXN5bmMgKHZhbHVlKT0+e1xuICAgICAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgICAgICBjb25zdCB7IHR5cGUgLCBub2RlICB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICAgICAgc3dpdGNoKHR5cGUpe1xuICAgICAgICAgICAgY2FzZSAnQm9vbCc6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBub2RlW3ZhbHVlID8gJ3RydWUnIDogJ2ZhbHNlJ10ucHVzaChpbnRlcm5hbElkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnQVZMJzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF2bFJlYmFsYW5jZVRocmVzaG9sZCA9IChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuYXZsUmViYWxhbmNlVGhyZXNob2xkKSA/PyAxO1xuICAgICAgICAgICAgICAgICAgICBhdmxJbnNlcnQobm9kZSwgdmFsdWUsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsSWRcbiAgICAgICAgICAgICAgICAgICAgXSwgYXZsUmViYWxhbmNlVGhyZXNob2xkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnUmFkaXgnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdG9rZW5pemVyLnRva2VuaXplKHZhbHVlLCBsYW5ndWFnZSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGltcGxlbWVudGF0aW9uLmluc2VydERvY3VtZW50U2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpbnRlcm5hbElkLCB0b2tlbnMsIGRvY3NDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGltcGxlbWVudGF0aW9uLmluc2VydFRva2VuU2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCBpbnRlcm5hbElkLCB0b2tlbnMsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl4SW5zZXJ0KG5vZGUsIHRva2VuLCBpbnRlcm5hbElkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdGbGF0JzpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZsYXRJbnNlcnQobm9kZSwgdmFsdWUsIGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdCS0QnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYmtkSW5zZXJ0KG5vZGUsIHZhbHVlLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbElkXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc2VydChpbXBsZW1lbnRhdGlvbiwgaW5kZXgsIHByb3AsIGlkLCB2YWx1ZSwgc2NoZW1hVHlwZSwgbGFuZ3VhZ2UsIHRva2VuaXplciwgZG9jc0NvdW50LCBvcHRpb25zKSB7XG4gICAgaWYgKGlzVmVjdG9yVHlwZShzY2hlbWFUeXBlKSkge1xuICAgICAgICByZXR1cm4gaW5zZXJ0VmVjdG9yKGluZGV4LCBwcm9wLCB2YWx1ZSwgaWQpO1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRTY2FsYXIgPSBpbnNlcnRTY2FsYXJCdWlsZGVyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCwgb3B0aW9ucyk7XG4gICAgaWYgKCFpc0FycmF5VHlwZShzY2hlbWFUeXBlKSkge1xuICAgICAgICByZXR1cm4gaW5zZXJ0U2NhbGFyKHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgZWxlbWVudHMgPSB2YWx1ZTtcbiAgICBjb25zdCBlbGVtZW50c0xlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgZWxlbWVudHNMZW5ndGg7IGkrKyl7XG4gICAgICAgIGF3YWl0IGluc2VydFNjYWxhcihlbGVtZW50c1tpXSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW5zZXJ0VmVjdG9yKGluZGV4LCBwcm9wLCB2YWx1ZSwgaWQpIHtcbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkpIHtcbiAgICAgICAgdmFsdWUgPSBuZXcgRmxvYXQzMkFycmF5KHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3Qgc2l6ZSA9IGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0uc2l6ZTtcbiAgICBjb25zdCBtYWduaXR1ZGUgPSBnZXRNYWduaXR1ZGUodmFsdWUsIHNpemUpO1xuICAgIGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0udmVjdG9yc1tpZF0gPSBbXG4gICAgICAgIG1hZ25pdHVkZSxcbiAgICAgICAgdmFsdWVcbiAgICBdO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVtb3ZlU2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmIChpc1ZlY3RvclR5cGUoc2NoZW1hVHlwZSkpIHtcbiAgICAgICAgZGVsZXRlIGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0udmVjdG9yc1tpZF07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUgLCBub2RlICB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgIGNhc2UgJ0FWTCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXZsUmVtb3ZlRG9jdW1lbnQobm9kZSwgaW50ZXJuYWxJZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCb29sJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib29sZWFuS2V5ID0gdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gbm9kZVtib29sZWFuS2V5XS5pbmRleE9mKGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIG5vZGVbdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnXS5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdSYWRpeCc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdG9rZW5pemVyLnRva2VuaXplKHZhbHVlLCBsYW5ndWFnZSwgcHJvcCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgaW1wbGVtZW50YXRpb24ucmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGlkLCBkb2NzQ291bnQpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5zKXtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaW1wbGVtZW50YXRpb24ucmVtb3ZlVG9rZW5TY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXhSZW1vdmVEb2N1bWVudChub2RlLCB0b2tlbiwgaW50ZXJuYWxJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdGbGF0JzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmbGF0UmVtb3ZlRG9jdW1lbnQobm9kZSwgaW50ZXJuYWxJZCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlICdCS0QnOlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJrZFJlbW92ZURvY0J5SUQobm9kZSwgdmFsdWUsIGludGVybmFsSWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBpZiAoIWlzQXJyYXlUeXBlKHNjaGVtYVR5cGUpKSB7XG4gICAgICAgIHJldHVybiByZW1vdmVTY2FsYXIoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIGNvbnN0IGlubmVyU2NoZW1hVHlwZSA9IGdldElubmVyVHlwZShzY2hlbWFUeXBlKTtcbiAgICBjb25zdCBlbGVtZW50cyA9IHZhbHVlO1xuICAgIGNvbnN0IGVsZW1lbnRzTGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKXtcbiAgICAgICAgYXdhaXQgcmVtb3ZlU2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGVsZW1lbnRzW2ldLCBpbm5lclNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaChjb250ZXh0LCBpbmRleCwgcHJvcCwgdGVybSkge1xuICAgIGlmICghKHByb3AgaW4gaW5kZXgudG9rZW5PY2N1cnJlbmNlcykpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCB7IG5vZGUgLCB0eXBlICB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICBpZiAodHlwZSAhPT0gJ1JhZGl4Jykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignV1JPTkdfU0VBUkNIX1BST1BFUlRZX1RZUEUnLCBwcm9wKTtcbiAgICB9XG4gICAgY29uc3QgeyBleGFjdCAsIHRvbGVyYW5jZSAgfSA9IGNvbnRleHQucGFyYW1zO1xuICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHJhZGl4RmluZChub2RlLCB7XG4gICAgICAgIHRlcm0sXG4gICAgICAgIGV4YWN0LFxuICAgICAgICB0b2xlcmFuY2VcbiAgICB9KTtcbiAgICBjb25zdCBpZHMgPSBuZXcgU2V0KCk7XG4gICAgZm9yKGNvbnN0IGtleSBpbiBzZWFyY2hSZXN1bHQpe1xuICAgICAgICAvL3NraXAga2V5cyBpbmhlcml0ZWQgZnJvbSBwcm90b3R5cGVcbiAgICAgICAgY29uc3Qgb3duUHJvcGVydHkgPSBnZXRPd25Qcm9wZXJ0eShzZWFyY2hSZXN1bHQsIGtleSk7XG4gICAgICAgIGlmICghb3duUHJvcGVydHkpIGNvbnRpbnVlO1xuICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIHNlYXJjaFJlc3VsdFtrZXldKXtcbiAgICAgICAgICAgIGlkcy5hZGQoaWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0LmluZGV4LmNhbGN1bGF0ZVJlc3VsdFNjb3Jlcyhjb250ZXh0LCBpbmRleCwgcHJvcCwgdGVybSwgQXJyYXkuZnJvbShpZHMpKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hCeVdoZXJlQ2xhdXNlKGNvbnRleHQsIGluZGV4LCBmaWx0ZXJzKSB7XG4gICAgY29uc3QgZmlsdGVyS2V5cyA9IE9iamVjdC5rZXlzKGZpbHRlcnMpO1xuICAgIGNvbnN0IGZpbHRlcnNNYXAgPSBmaWx0ZXJLZXlzLnJlZHVjZSgoYWNjLCBrZXkpPT4oe1xuICAgICAgICAgICAgW2tleV06IFtdLFxuICAgICAgICAgICAgLi4uYWNjXG4gICAgICAgIH0pLCB7fSk7XG4gICAgZm9yIChjb25zdCBwYXJhbSBvZiBmaWx0ZXJLZXlzKXtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gZmlsdGVyc1twYXJhbV07XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXguaW5kZXhlc1twYXJhbV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5LTk9XTl9GSUxURVJfUFJPUEVSVFknLCBwYXJhbSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBub2RlICwgdHlwZSAsIGlzQXJyYXkgIH0gPSBpbmRleC5pbmRleGVzW3BhcmFtXTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdCb29sJykge1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gbm9kZTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSURzID0gaWR4W29wZXJhdGlvbi50b1N0cmluZygpXTtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIGZpbHRlcmVkSURzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnQktEJykge1xuICAgICAgICAgICAgbGV0IHJlcU9wZXJhdGlvbjtcbiAgICAgICAgICAgIGlmICgncmFkaXVzJyBpbiBvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXFPcGVyYXRpb24gPSAncmFkaXVzJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJ3BvbHlnb24nIGluIG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJlcU9wZXJhdGlvbiA9ICdwb2x5Z29uJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG9wZXJhdGlvbiAke29wZXJhdGlvbn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXFPcGVyYXRpb24gPT09ICdyYWRpdXMnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSAsIGNvb3JkaW5hdGVzICwgdW5pdCA9J20nICwgaW5zaWRlID10cnVlICwgaGlnaFByZWNpc2lvbiA9ZmFsc2UgIH0gPSBvcGVyYXRpb25bcmVxT3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZUluTWV0ZXJzID0gY29udmVydERpc3RhbmNlVG9NZXRlcnModmFsdWUsIHVuaXQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkcyA9IHNlYXJjaEJ5UmFkaXVzKG5vZGUucm9vdCwgY29vcmRpbmF0ZXMsIGRpc3RhbmNlSW5NZXRlcnMsIGluc2lkZSwgdW5kZWZpbmVkLCBoaWdoUHJlY2lzaW9uKTtcbiAgICAgICAgICAgICAgICAvLyBAdG9kbzogY29udmVydCB0aGlzIGludG8gYSBmb3IgbG9vcFxuICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIGlkcy5mbGF0TWFwKCh7IGRvY0lEcyAgfSk9PmRvY0lEcykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvb3JkaW5hdGVzICwgaW5zaWRlID10cnVlICwgaGlnaFByZWNpc2lvbiA9ZmFsc2UgIH0gPSBvcGVyYXRpb25bcmVxT3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSBzZWFyY2hCeVBvbHlnb24obm9kZS5yb290LCBjb29yZGluYXRlcywgaW5zaWRlLCB1bmRlZmluZWQsIGhpZ2hQcmVjaXNpb24pO1xuICAgICAgICAgICAgICAgIC8vIEB0b2RvOiBjb252ZXJ0IHRoaXMgaW50byBhIGZvciBsb29wXG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChmaWx0ZXJzTWFwW3BhcmFtXSwgaWRzLmZsYXRNYXAoKHsgZG9jSURzICB9KT0+ZG9jSURzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ1JhZGl4JyAmJiAodHlwZW9mIG9wZXJhdGlvbiA9PT0gJ3N0cmluZycgfHwgQXJyYXkuaXNBcnJheShvcGVyYXRpb24pKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCByYXcgb2YgW1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvblxuICAgICAgICAgICAgXS5mbGF0KCkpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm0gPSBhd2FpdCBjb250ZXh0LnRva2VuaXplci50b2tlbml6ZShyYXcsIGNvbnRleHQubGFuZ3VhZ2UsIHBhcmFtKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGVybSl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSURzUmVzdWx0cyA9IHJhZGl4RmluZChub2RlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtOiB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIE9iamVjdC52YWx1ZXMoZmlsdGVyZWRJRHNSZXN1bHRzKS5mbGF0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcGVyYXRpb24pO1xuICAgICAgICBpZiAob3BlcmF0aW9uS2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OJywgb3BlcmF0aW9uS2V5cy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnRmxhdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGZsYXRPcGVyYXRpb24gPSBpc0FycmF5ID8gZmxhdEZpbHRlckFyciA6IGZsYXRGaWx0ZXI7XG4gICAgICAgICAgICBzYWZlQXJyYXlQdXNoKGZpbHRlcnNNYXBbcGFyYW1dLCBmbGF0T3BlcmF0aW9uKG5vZGUsIG9wZXJhdGlvbikpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdBVkwnKSB7XG4gICAgICAgICAgICBjb25zdCBvcGVyYXRpb25PcHQgPSBvcGVyYXRpb25LZXlzWzBdO1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uVmFsdWUgPSBvcGVyYXRpb25bb3BlcmF0aW9uT3B0XTtcbiAgICAgICAgICAgIGxldCBmaWx0ZXJlZElEcyA9IFtdO1xuICAgICAgICAgICAgc3dpdGNoKG9wZXJhdGlvbk9wdCl7XG4gICAgICAgICAgICAgICAgY2FzZSAnZ3QnOlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IGF2bEdyZWF0ZXJUaGFuKG5vZGUsIG9wZXJhdGlvblZhbHVlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2d0ZSc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gYXZsR3JlYXRlclRoYW4obm9kZSwgb3BlcmF0aW9uVmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdsdCc6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gYXZsTGVzc1RoYW4obm9kZSwgb3BlcmF0aW9uVmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnbHRlJzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRJRHMgPSBhdmxMZXNzVGhhbihub2RlLCBvcGVyYXRpb25WYWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2VxJzpcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRJRHMgPSBhdmxGaW5kKG5vZGUsIG9wZXJhdGlvblZhbHVlKSA/PyBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnYmV0d2Vlbic6XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IFttaW4sIG1heF0gPSBvcGVyYXRpb25WYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gYXZsUmFuZ2VTZWFyY2gobm9kZSwgbWluLCBtYXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2goZmlsdGVyc01hcFtwYXJhbV0sIGZpbHRlcmVkSURzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBTkQgb3BlcmF0aW9uOiBjYWxjdWxhdGUgdGhlIGludGVyc2VjdGlvbiBiZXR3ZWVuIGFsbCB0aGUgSURzIGluIGZpbHRlck1hcFxuICAgIHJldHVybiBpbnRlcnNlY3QoT2JqZWN0LnZhbHVlcyhmaWx0ZXJzTWFwKSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXguc2VhcmNoYWJsZVByb3BlcnRpZXM7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXguc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXM7XG59XG5mdW5jdGlvbiBsb2FkUmFkaXhOb2RlKG5vZGUpIHtcbiAgICBjb25zdCBjb252ZXJ0ZWROb2RlID0gcmFkaXhDcmVhdGUobm9kZS5lLCBub2RlLnMsIG5vZGUuayk7XG4gICAgY29udmVydGVkTm9kZS5kID0gbm9kZS5kO1xuICAgIGNvbnZlcnRlZE5vZGUudyA9IG5vZGUudztcbiAgICBmb3IgKGNvbnN0IGNoaWxkcmVuS2V5IG9mIE9iamVjdC5rZXlzKG5vZGUuYykpe1xuICAgICAgICBjb252ZXJ0ZWROb2RlLmNbY2hpbGRyZW5LZXldID0gbG9hZFJhZGl4Tm9kZShub2RlLmNbY2hpbGRyZW5LZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnZlcnRlZE5vZGU7XG59XG5mdW5jdGlvbiBsb2FkRmxhdE5vZGUobm9kZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG51bWJlclRvRG9jdW1lbnRJZDogbmV3IE1hcChub2RlKVxuICAgIH07XG59XG5mdW5jdGlvbiBzYXZlRmxhdE5vZGUobm9kZSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKG5vZGUubnVtYmVyVG9Eb2N1bWVudElkLmVudHJpZXMoKSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZChzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHJhdykge1xuICAgIGNvbnN0IHsgaW5kZXhlczogcmF3SW5kZXhlcyAsIHZlY3RvckluZGV4ZXM6IHJhd1ZlY3RvckluZGV4ZXMgLCBzZWFyY2hhYmxlUHJvcGVydGllcyAsIHNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzICwgZnJlcXVlbmNpZXMgLCB0b2tlbk9jY3VycmVuY2VzICwgYXZnRmllbGRMZW5ndGggLCBmaWVsZExlbmd0aHMgIH0gPSByYXc7XG4gICAgY29uc3QgaW5kZXhlcyA9IHt9O1xuICAgIGNvbnN0IHZlY3RvckluZGV4ZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgT2JqZWN0LmtleXMocmF3SW5kZXhlcykpe1xuICAgICAgICBjb25zdCB7IG5vZGUgLCB0eXBlICwgaXNBcnJheSAgfSA9IHJhd0luZGV4ZXNbcHJvcF07XG4gICAgICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgICAgIGNhc2UgJ1JhZGl4JzpcbiAgICAgICAgICAgICAgICBpbmRleGVzW3Byb3BdID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUmFkaXgnLFxuICAgICAgICAgICAgICAgICAgICBub2RlOiBsb2FkUmFkaXhOb2RlKG5vZGUpLFxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0ZsYXQnOlxuICAgICAgICAgICAgICAgIGluZGV4ZXNbcHJvcF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdGbGF0JyxcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogbG9hZEZsYXROb2RlKG5vZGUpLFxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaW5kZXhlc1twcm9wXSA9IHJhd0luZGV4ZXNbcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBpZHggb2YgT2JqZWN0LmtleXMocmF3VmVjdG9ySW5kZXhlcykpe1xuICAgICAgICBjb25zdCB2ZWN0b3JzID0gcmF3VmVjdG9ySW5kZXhlc1tpZHhdLnZlY3RvcnM7XG4gICAgICAgIGZvcihjb25zdCB2ZWMgaW4gdmVjdG9ycyl7XG4gICAgICAgICAgICB2ZWN0b3JzW3ZlY10gPSBbXG4gICAgICAgICAgICAgICAgdmVjdG9yc1t2ZWNdWzBdLFxuICAgICAgICAgICAgICAgIG5ldyBGbG9hdDMyQXJyYXkodmVjdG9yc1t2ZWNdWzFdKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICB2ZWN0b3JJbmRleGVzW2lkeF0gPSB7XG4gICAgICAgICAgICBzaXplOiByYXdWZWN0b3JJbmRleGVzW2lkeF0uc2l6ZSxcbiAgICAgICAgICAgIHZlY3RvcnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBpbmRleGVzLFxuICAgICAgICB2ZWN0b3JJbmRleGVzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllcyxcbiAgICAgICAgc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMsXG4gICAgICAgIGZyZXF1ZW5jaWVzLFxuICAgICAgICB0b2tlbk9jY3VycmVuY2VzLFxuICAgICAgICBhdmdGaWVsZExlbmd0aCxcbiAgICAgICAgZmllbGRMZW5ndGhzXG4gICAgfTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlKGluZGV4KSB7XG4gICAgY29uc3QgeyBpbmRleGVzICwgdmVjdG9ySW5kZXhlcyAsIHNlYXJjaGFibGVQcm9wZXJ0aWVzICwgc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgLCBmcmVxdWVuY2llcyAsIHRva2VuT2NjdXJyZW5jZXMgLCBhdmdGaWVsZExlbmd0aCAsIGZpZWxkTGVuZ3RocyAgfSA9IGluZGV4O1xuICAgIGNvbnN0IHZlY3RvckluZGV4ZXNBc0FycmF5cyA9IHt9O1xuICAgIGZvciAoY29uc3QgaWR4IG9mIE9iamVjdC5rZXlzKHZlY3RvckluZGV4ZXMpKXtcbiAgICAgICAgY29uc3QgdmVjdG9ycyA9IHZlY3RvckluZGV4ZXNbaWR4XS52ZWN0b3JzO1xuICAgICAgICBmb3IoY29uc3QgdmVjIGluIHZlY3RvcnMpe1xuICAgICAgICAgICAgdmVjdG9yc1t2ZWNdID0gW1xuICAgICAgICAgICAgICAgIHZlY3RvcnNbdmVjXVswXSxcbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKHZlY3RvcnNbdmVjXVsxXSlcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgdmVjdG9ySW5kZXhlc0FzQXJyYXlzW2lkeF0gPSB7XG4gICAgICAgICAgICBzaXplOiB2ZWN0b3JJbmRleGVzW2lkeF0uc2l6ZSxcbiAgICAgICAgICAgIHZlY3RvcnNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjb25zdCBzYXZlZEluZGV4ZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgT2JqZWN0LmtleXMoaW5kZXhlcykpe1xuICAgICAgICBjb25zdCB7IHR5cGUgLCBub2RlICwgaXNBcnJheSAgfSA9IGluZGV4ZXNbbmFtZV07XG4gICAgICAgIGlmICh0eXBlICE9PSAnRmxhdCcpIHtcbiAgICAgICAgICAgIHNhdmVkSW5kZXhlc1tuYW1lXSA9IGluZGV4ZXNbbmFtZV07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzYXZlZEluZGV4ZXNbbmFtZV0gPSB7XG4gICAgICAgICAgICB0eXBlOiAnRmxhdCcsXG4gICAgICAgICAgICBub2RlOiBzYXZlRmxhdE5vZGUobm9kZSksXG4gICAgICAgICAgICBpc0FycmF5XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGluZGV4ZXM6IHNhdmVkSW5kZXhlcyxcbiAgICAgICAgdmVjdG9ySW5kZXhlczogdmVjdG9ySW5kZXhlc0FzQXJyYXlzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllcyxcbiAgICAgICAgc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMsXG4gICAgICAgIGZyZXF1ZW5jaWVzLFxuICAgICAgICB0b2tlbk9jY3VycmVuY2VzLFxuICAgICAgICBhdmdGaWVsZExlbmd0aCxcbiAgICAgICAgZmllbGRMZW5ndGhzXG4gICAgfTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVJbmRleCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUsXG4gICAgICAgIGluc2VydCxcbiAgICAgICAgcmVtb3ZlLFxuICAgICAgICBpbnNlcnREb2N1bWVudFNjb3JlUGFyYW1ldGVycyxcbiAgICAgICAgaW5zZXJ0VG9rZW5TY29yZVBhcmFtZXRlcnMsXG4gICAgICAgIHJlbW92ZURvY3VtZW50U2NvcmVQYXJhbWV0ZXJzLFxuICAgICAgICByZW1vdmVUb2tlblNjb3JlUGFyYW1ldGVycyxcbiAgICAgICAgY2FsY3VsYXRlUmVzdWx0U2NvcmVzLFxuICAgICAgICBzZWFyY2gsXG4gICAgICAgIHNlYXJjaEJ5V2hlcmVDbGF1c2UsXG4gICAgICAgIGdldFNlYXJjaGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBnZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgbG9hZCxcbiAgICAgICAgc2F2ZVxuICAgIH07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInternalDocumentIDStore: () => (/* binding */ createInternalDocumentIDStore),\n/* harmony export */   getDocumentIdFromInternalId: () => (/* binding */ getDocumentIdFromInternalId),\n/* harmony export */   getInternalDocumentId: () => (/* binding */ getInternalDocumentId),\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   save: () => (/* binding */ save)\n/* harmony export */ });\nfunction createInternalDocumentIDStore() {\n    return {\n        idToInternalId: new Map(),\n        internalIdToId: [],\n        save,\n        load\n    };\n}\nfunction save(store) {\n    return {\n        internalIdToId: store.internalIdToId\n    };\n}\nfunction load(orama, raw) {\n    const { internalIdToId  } = raw;\n    orama.internalDocumentIDStore.idToInternalId.clear();\n    orama.internalDocumentIDStore.internalIdToId = [];\n    const internalIdToIdLength = internalIdToId.length;\n    for(let i = 0; i < internalIdToIdLength; i++){\n        const internalIdItem = internalIdToId[i];\n        orama.internalDocumentIDStore.idToInternalId.set(internalIdItem, i + 1);\n        orama.internalDocumentIDStore.internalIdToId.push(internalIdItem);\n    }\n}\nfunction getInternalDocumentId(store, id) {\n    if (typeof id === 'string') {\n        const internalId = store.idToInternalId.get(id);\n        if (internalId) {\n            return internalId;\n        }\n        const currentId = store.idToInternalId.size + 1;\n        store.idToInternalId.set(id, currentId);\n        store.internalIdToId.push(id);\n        return currentId;\n    }\n    if (id > store.internalIdToId.length) {\n        return getInternalDocumentId(store, id.toString());\n    }\n    return id;\n}\nfunction getDocumentIdFromInternalId(store, internalId) {\n    if (store.internalIdToId.length < internalId) {\n        throw new Error(`Invalid internalId ${internalId}`);\n    }\n    return store.internalIdToId[internalId - 1];\n}\n\n//# sourceMappingURL=internal-document-id-store.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksa0JBQWtCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiwwQkFBMEI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDhDQUE4QyxXQUFXO0FBQ3pEO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxEb2N1bWVudElEU3RvcmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWRUb0ludGVybmFsSWQ6IG5ldyBNYXAoKSxcbiAgICAgICAgaW50ZXJuYWxJZFRvSWQ6IFtdLFxuICAgICAgICBzYXZlLFxuICAgICAgICBsb2FkXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzYXZlKHN0b3JlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW50ZXJuYWxJZFRvSWQ6IHN0b3JlLmludGVybmFsSWRUb0lkXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKG9yYW1hLCByYXcpIHtcbiAgICBjb25zdCB7IGludGVybmFsSWRUb0lkICB9ID0gcmF3O1xuICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmlkVG9JbnRlcm5hbElkLmNsZWFyKCk7XG4gICAgb3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUuaW50ZXJuYWxJZFRvSWQgPSBbXTtcbiAgICBjb25zdCBpbnRlcm5hbElkVG9JZExlbmd0aCA9IGludGVybmFsSWRUb0lkLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaW50ZXJuYWxJZFRvSWRMZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGludGVybmFsSWRJdGVtID0gaW50ZXJuYWxJZFRvSWRbaV07XG4gICAgICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmlkVG9JbnRlcm5hbElkLnNldChpbnRlcm5hbElkSXRlbSwgaSArIDEpO1xuICAgICAgICBvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZS5pbnRlcm5hbElkVG9JZC5wdXNoKGludGVybmFsSWRJdGVtKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLCBpZCkge1xuICAgIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IGludGVybmFsSWQgPSBzdG9yZS5pZFRvSW50ZXJuYWxJZC5nZXQoaWQpO1xuICAgICAgICBpZiAoaW50ZXJuYWxJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGludGVybmFsSWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3VycmVudElkID0gc3RvcmUuaWRUb0ludGVybmFsSWQuc2l6ZSArIDE7XG4gICAgICAgIHN0b3JlLmlkVG9JbnRlcm5hbElkLnNldChpZCwgY3VycmVudElkKTtcbiAgICAgICAgc3RvcmUuaW50ZXJuYWxJZFRvSWQucHVzaChpZCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50SWQ7XG4gICAgfVxuICAgIGlmIChpZCA+IHN0b3JlLmludGVybmFsSWRUb0lkLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLCBpZC50b1N0cmluZygpKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZChzdG9yZSwgaW50ZXJuYWxJZCkge1xuICAgIGlmIChzdG9yZS5pbnRlcm5hbElkVG9JZC5sZW5ndGggPCBpbnRlcm5hbElkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpbnRlcm5hbElkICR7aW50ZXJuYWxJZH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0b3JlLmludGVybmFsSWRUb0lkW2ludGVybmFsSWQgLSAxXTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/levenshtein.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/levenshtein.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boundedLevenshtein: () => (/* binding */ boundedLevenshtein),\n/* harmony export */   levenshtein: () => (/* binding */ levenshtein),\n/* harmony export */   syncBoundedLevenshtein: () => (/* binding */ syncBoundedLevenshtein)\n/* harmony export */ });\n/**\n * Inspired by:\n * https://github.com/Yomguithereal/talisman/blob/86ae55cbd040ff021d05e282e0e6c71f2dde21f8/src/metrics/levenshtein.js#L218-L340\n */ function _boundedLevenshtein(a, b, tolerance) {\n    // Handle base cases\n    if (tolerance < 0) return -1;\n    if (a === b) return 0;\n    const m = a.length;\n    const n = b.length;\n    // Special case for empty strings\n    if (m === 0) return n <= tolerance ? n : -1;\n    if (n === 0) return m <= tolerance ? m : -1;\n    a = a.toLowerCase();\n    b = b.toLowerCase();\n    // Special case for prefixes\n    if (b.startsWith(a) || a.startsWith(b)) return 0;\n    // If the length difference is greater than the tolerance, return early\n    if (Math.abs(m - n) > tolerance) return -1;\n    // Initialize the matrix\n    const matrix = [];\n    for(let i = 0; i <= m; i++){\n        matrix[i] = [\n            i\n        ];\n        for(let j = 1; j <= n; j++){\n            matrix[i][j] = i === 0 ? j : 0;\n        }\n    }\n    // Fill the matrix\n    for(let i = 1; i <= m; i++){\n        let rowMin = Infinity;\n        for(let j = 1; j <= n; j++){\n            if (a[i - 1] === b[j - 1]) {\n                matrix[i][j] = matrix[i - 1][j - 1];\n            } else {\n                matrix[i][j] = Math.min(matrix[i - 1][j] + 1, matrix[i][j - 1] + 1, matrix[i - 1][j - 1] + 1 // substitution\n                );\n            }\n            rowMin = Math.min(rowMin, matrix[i][j]);\n        }\n        // Early termination if all values in this row exceed tolerance\n        if (rowMin > tolerance) {\n            return -1;\n        }\n    }\n    return matrix[m][n] <= tolerance ? matrix[m][n] : -1;\n}\n/**\n * Computes the Levenshtein distance between two strings (a, b), returning early with -1 if the distance\n * is greater than the given tolerance.\n * It assumes that:\n * - tolerance >= ||a| - |b|| >= 0\n */ async function boundedLevenshtein(a, b, tolerance) {\n    const distance = _boundedLevenshtein(a, b, tolerance);\n    return {\n        distance,\n        isBounded: distance >= 0\n    };\n}\n// This is only used internally, keep in sync with the previous one\nfunction syncBoundedLevenshtein(a, b, tolerance) {\n    const distance = _boundedLevenshtein(a, b, tolerance);\n    return {\n        distance,\n        isBounded: distance >= 0\n    };\n}\nfunction levenshtein(a, b) {\n    /* c8 ignore next 3 */ if (!a.length) {\n        return b.length;\n    }\n    /* c8 ignore next 3 */ if (!b.length) {\n        return a.length;\n    }\n    const swap = a;\n    if (a.length > b.length) {\n        a = b;\n        b = swap;\n    }\n    const row = Array.from({\n        length: a.length + 1\n    }, (_, i)=>i);\n    let val = 0;\n    for(let i = 1; i <= b.length; i++){\n        let prev = i;\n        for(let j = 1; j <= a.length; j++){\n            if (b[i - 1] === a[j - 1]) {\n                val = row[j - 1];\n            } else {\n                val = Math.min(row[j - 1] + 1, Math.min(prev + 1, row[j] + 1));\n            }\n            row[j - 1] = prev;\n            prev = val;\n        }\n        row[a.length] = prev;\n    }\n    return row[a.length];\n}\n\n//# sourceMappingURL=levenshtein.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL2xldmVuc2h0ZWluLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsUUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsUUFBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixRQUFRO0FBQzNCO0FBQ0EsdUJBQXVCLFFBQVE7QUFDL0I7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsbUJBQW1CLGVBQWU7QUFDbEM7QUFDQSx1QkFBdUIsZUFBZTtBQUN0QztBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy9sZXZlbnNodGVpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEluc3BpcmVkIGJ5OlxuICogaHR0cHM6Ly9naXRodWIuY29tL1lvbWd1aXRoZXJlYWwvdGFsaXNtYW4vYmxvYi84NmFlNTVjYmQwNDBmZjAyMWQwNWUyODJlMGU2YzcxZjJkZGUyMWY4L3NyYy9tZXRyaWNzL2xldmVuc2h0ZWluLmpzI0wyMTgtTDM0MFxuICovIGZ1bmN0aW9uIF9ib3VuZGVkTGV2ZW5zaHRlaW4oYSwgYiwgdG9sZXJhbmNlKSB7XG4gICAgLy8gSGFuZGxlIGJhc2UgY2FzZXNcbiAgICBpZiAodG9sZXJhbmNlIDwgMCkgcmV0dXJuIC0xO1xuICAgIGlmIChhID09PSBiKSByZXR1cm4gMDtcbiAgICBjb25zdCBtID0gYS5sZW5ndGg7XG4gICAgY29uc3QgbiA9IGIubGVuZ3RoO1xuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgZW1wdHkgc3RyaW5nc1xuICAgIGlmIChtID09PSAwKSByZXR1cm4gbiA8PSB0b2xlcmFuY2UgPyBuIDogLTE7XG4gICAgaWYgKG4gPT09IDApIHJldHVybiBtIDw9IHRvbGVyYW5jZSA/IG0gOiAtMTtcbiAgICBhID0gYS50b0xvd2VyQ2FzZSgpO1xuICAgIGIgPSBiLnRvTG93ZXJDYXNlKCk7XG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBwcmVmaXhlc1xuICAgIGlmIChiLnN0YXJ0c1dpdGgoYSkgfHwgYS5zdGFydHNXaXRoKGIpKSByZXR1cm4gMDtcbiAgICAvLyBJZiB0aGUgbGVuZ3RoIGRpZmZlcmVuY2UgaXMgZ3JlYXRlciB0aGFuIHRoZSB0b2xlcmFuY2UsIHJldHVybiBlYXJseVxuICAgIGlmIChNYXRoLmFicyhtIC0gbikgPiB0b2xlcmFuY2UpIHJldHVybiAtMTtcbiAgICAvLyBJbml0aWFsaXplIHRoZSBtYXRyaXhcbiAgICBjb25zdCBtYXRyaXggPSBbXTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDw9IG07IGkrKyl7XG4gICAgICAgIG1hdHJpeFtpXSA9IFtcbiAgICAgICAgICAgIGlcbiAgICAgICAgXTtcbiAgICAgICAgZm9yKGxldCBqID0gMTsgaiA8PSBuOyBqKyspe1xuICAgICAgICAgICAgbWF0cml4W2ldW2pdID0gaSA9PT0gMCA/IGogOiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZpbGwgdGhlIG1hdHJpeFxuICAgIGZvcihsZXQgaSA9IDE7IGkgPD0gbTsgaSsrKXtcbiAgICAgICAgbGV0IHJvd01pbiA9IEluZmluaXR5O1xuICAgICAgICBmb3IobGV0IGogPSAxOyBqIDw9IG47IGorKyl7XG4gICAgICAgICAgICBpZiAoYVtpIC0gMV0gPT09IGJbaiAtIDFdKSB7XG4gICAgICAgICAgICAgICAgbWF0cml4W2ldW2pdID0gbWF0cml4W2kgLSAxXVtqIC0gMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IE1hdGgubWluKG1hdHJpeFtpIC0gMV1bal0gKyAxLCBtYXRyaXhbaV1baiAtIDFdICsgMSwgbWF0cml4W2kgLSAxXVtqIC0gMV0gKyAxIC8vIHN1YnN0aXR1dGlvblxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dNaW4gPSBNYXRoLm1pbihyb3dNaW4sIG1hdHJpeFtpXVtqXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWFybHkgdGVybWluYXRpb24gaWYgYWxsIHZhbHVlcyBpbiB0aGlzIHJvdyBleGNlZWQgdG9sZXJhbmNlXG4gICAgICAgIGlmIChyb3dNaW4gPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF0cml4W21dW25dIDw9IHRvbGVyYW5jZSA/IG1hdHJpeFttXVtuXSA6IC0xO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgTGV2ZW5zaHRlaW4gZGlzdGFuY2UgYmV0d2VlbiB0d28gc3RyaW5ncyAoYSwgYiksIHJldHVybmluZyBlYXJseSB3aXRoIC0xIGlmIHRoZSBkaXN0YW5jZVxuICogaXMgZ3JlYXRlciB0aGFuIHRoZSBnaXZlbiB0b2xlcmFuY2UuXG4gKiBJdCBhc3N1bWVzIHRoYXQ6XG4gKiAtIHRvbGVyYW5jZSA+PSB8fGF8IC0gfGJ8fCA+PSAwXG4gKi8gZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJvdW5kZWRMZXZlbnNodGVpbihhLCBiLCB0b2xlcmFuY2UpIHtcbiAgICBjb25zdCBkaXN0YW5jZSA9IF9ib3VuZGVkTGV2ZW5zaHRlaW4oYSwgYiwgdG9sZXJhbmNlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkaXN0YW5jZSxcbiAgICAgICAgaXNCb3VuZGVkOiBkaXN0YW5jZSA+PSAwXG4gICAgfTtcbn1cbi8vIFRoaXMgaXMgb25seSB1c2VkIGludGVybmFsbHksIGtlZXAgaW4gc3luYyB3aXRoIHRoZSBwcmV2aW91cyBvbmVcbmV4cG9ydCBmdW5jdGlvbiBzeW5jQm91bmRlZExldmVuc2h0ZWluKGEsIGIsIHRvbGVyYW5jZSkge1xuICAgIGNvbnN0IGRpc3RhbmNlID0gX2JvdW5kZWRMZXZlbnNodGVpbihhLCBiLCB0b2xlcmFuY2UpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3RhbmNlLFxuICAgICAgICBpc0JvdW5kZWQ6IGRpc3RhbmNlID49IDBcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxldmVuc2h0ZWluKGEsIGIpIHtcbiAgICAvKiBjOCBpZ25vcmUgbmV4dCAzICovIGlmICghYS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoO1xuICAgIH1cbiAgICAvKiBjOCBpZ25vcmUgbmV4dCAzICovIGlmICghYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGEubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCBzd2FwID0gYTtcbiAgICBpZiAoYS5sZW5ndGggPiBiLmxlbmd0aCkge1xuICAgICAgICBhID0gYjtcbiAgICAgICAgYiA9IHN3YXA7XG4gICAgfVxuICAgIGNvbnN0IHJvdyA9IEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IGEubGVuZ3RoICsgMVxuICAgIH0sIChfLCBpKT0+aSk7XG4gICAgbGV0IHZhbCA9IDA7XG4gICAgZm9yKGxldCBpID0gMTsgaSA8PSBiLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgbGV0IHByZXYgPSBpO1xuICAgICAgICBmb3IobGV0IGogPSAxOyBqIDw9IGEubGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgaWYgKGJbaSAtIDFdID09PSBhW2ogLSAxXSkge1xuICAgICAgICAgICAgICAgIHZhbCA9IHJvd1tqIC0gMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbCA9IE1hdGgubWluKHJvd1tqIC0gMV0gKyAxLCBNYXRoLm1pbihwcmV2ICsgMSwgcm93W2pdICsgMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93W2ogLSAxXSA9IHByZXY7XG4gICAgICAgICAgICBwcmV2ID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJvd1thLmxlbmd0aF0gPSBwcmV2O1xuICAgIH1cbiAgICByZXR1cm4gcm93W2EubGVuZ3RoXTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV2ZW5zaHRlaW4uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/levenshtein.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/plugins.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/plugins.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AVAILABLE_PLUGIN_HOOKS: () => (/* binding */ AVAILABLE_PLUGIN_HOOKS),\n/* harmony export */   getAllPluginsByHook: () => (/* binding */ getAllPluginsByHook)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n\nconst AVAILABLE_PLUGIN_HOOKS = [\n    'beforeInsert',\n    'afterInsert',\n    'beforeRemove',\n    'afterRemove',\n    'beforeUpdate',\n    'afterUpdate',\n    'beforeSearch',\n    'afterSearch',\n    'beforeInsertMultiple',\n    'afterInsertMultiple',\n    'beforeRemoveMultiple',\n    'afterRemoveMultiple',\n    'beforeUpdateMultiple',\n    'afterUpdateMultiple',\n    'beforeLoad',\n    'afterLoad',\n    'afterCreate'\n];\nasync function getAllPluginsByHook(orama, hook) {\n    var _orama_plugins;\n    const pluginsToRun = [];\n    const pluginsLength = (_orama_plugins = orama.plugins) === null || _orama_plugins === void 0 ? void 0 : _orama_plugins.length;\n    if (!pluginsLength) {\n        return pluginsToRun;\n    }\n    for(let i = 0; i < pluginsLength; i++){\n        try {\n            const plugin = await orama.plugins[i];\n            if (typeof plugin[hook] === 'function') {\n                pluginsToRun.push(plugin[hook]);\n            }\n        } catch (error) {\n            console.error('Caught error in getAllPluginsByHook:', error);\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('PLUGIN_CRASHED');\n        }\n    }\n    return pluginsToRun;\n}\n\n//# sourceMappingURL=plugins.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL3BsdWdpbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ3BDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxrQkFBa0IsdURBQVc7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvcGx1Z2lucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5leHBvcnQgY29uc3QgQVZBSUxBQkxFX1BMVUdJTl9IT09LUyA9IFtcbiAgICAnYmVmb3JlSW5zZXJ0JyxcbiAgICAnYWZ0ZXJJbnNlcnQnLFxuICAgICdiZWZvcmVSZW1vdmUnLFxuICAgICdhZnRlclJlbW92ZScsXG4gICAgJ2JlZm9yZVVwZGF0ZScsXG4gICAgJ2FmdGVyVXBkYXRlJyxcbiAgICAnYmVmb3JlU2VhcmNoJyxcbiAgICAnYWZ0ZXJTZWFyY2gnLFxuICAgICdiZWZvcmVJbnNlcnRNdWx0aXBsZScsXG4gICAgJ2FmdGVySW5zZXJ0TXVsdGlwbGUnLFxuICAgICdiZWZvcmVSZW1vdmVNdWx0aXBsZScsXG4gICAgJ2FmdGVyUmVtb3ZlTXVsdGlwbGUnLFxuICAgICdiZWZvcmVVcGRhdGVNdWx0aXBsZScsXG4gICAgJ2FmdGVyVXBkYXRlTXVsdGlwbGUnLFxuICAgICdiZWZvcmVMb2FkJyxcbiAgICAnYWZ0ZXJMb2FkJyxcbiAgICAnYWZ0ZXJDcmVhdGUnXG5dO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbFBsdWdpbnNCeUhvb2sob3JhbWEsIGhvb2spIHtcbiAgICB2YXIgX29yYW1hX3BsdWdpbnM7XG4gICAgY29uc3QgcGx1Z2luc1RvUnVuID0gW107XG4gICAgY29uc3QgcGx1Z2luc0xlbmd0aCA9IChfb3JhbWFfcGx1Z2lucyA9IG9yYW1hLnBsdWdpbnMpID09PSBudWxsIHx8IF9vcmFtYV9wbHVnaW5zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb3JhbWFfcGx1Z2lucy5sZW5ndGg7XG4gICAgaWYgKCFwbHVnaW5zTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5zVG9SdW47XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwbHVnaW5zTGVuZ3RoOyBpKyspe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGx1Z2luID0gYXdhaXQgb3JhbWEucGx1Z2luc1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcGx1Z2luW2hvb2tdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luc1RvUnVuLnB1c2gocGx1Z2luW2hvb2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhdWdodCBlcnJvciBpbiBnZXRBbGxQbHVnaW5zQnlIb29rOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdQTFVHSU5fQ1JBU0hFRCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwbHVnaW5zVG9SdW47XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsdWdpbnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/plugins.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/sorter.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/sorter.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSorter: () => (/* binding */ createSorter),\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   save: () => (/* binding */ save)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaults.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/defaults.js\");\n/* harmony import */ var _internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal-document-id-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n/* harmony import */ var _tokenizer_languages_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tokenizer/languages.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/languages.js\");\n\n\n\n\n\nfunction innerCreate(orama, sharedInternalDocumentStore, schema, sortableDeniedProperties, prefix) {\n    const sorter = {\n        language: orama.tokenizer.language,\n        sharedInternalDocumentStore,\n        enabled: true,\n        isSorted: true,\n        sortableProperties: [],\n        sortablePropertiesWithTypes: {},\n        sorts: {}\n    };\n    for (const [prop, type] of Object.entries(schema)){\n        const path = `${prefix}${prefix ? '.' : ''}${prop}`;\n        if (sortableDeniedProperties.includes(path)) {\n            continue;\n        }\n        if (typeof type === 'object' && !Array.isArray(type)) {\n            // Nested\n            const ret = innerCreate(orama, sharedInternalDocumentStore, type, sortableDeniedProperties, path);\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(sorter.sortableProperties, ret.sortableProperties);\n            sorter.sorts = {\n                ...sorter.sorts,\n                ...ret.sorts\n            };\n            sorter.sortablePropertiesWithTypes = {\n                ...sorter.sortablePropertiesWithTypes,\n                ...ret.sortablePropertiesWithTypes\n            };\n            continue;\n        }\n        if (!(0,_defaults_js__WEBPACK_IMPORTED_MODULE_1__.isVectorType)(type)) {\n            switch(type){\n                case 'boolean':\n                case 'number':\n                case 'string':\n                    sorter.sortableProperties.push(path);\n                    sorter.sortablePropertiesWithTypes[path] = type;\n                    sorter.sorts[path] = {\n                        docs: new Map(),\n                        orderedDocsToRemove: new Map(),\n                        orderedDocs: [],\n                        type: type\n                    };\n                    break;\n                case 'geopoint':\n                case 'enum':\n                    continue;\n                case 'enum[]':\n                case 'boolean[]':\n                case 'number[]':\n                case 'string[]':\n                    continue;\n                default:\n                    throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('INVALID_SORT_SCHEMA_TYPE', Array.isArray(type) ? 'array' : type, path);\n            }\n        }\n    }\n    return sorter;\n}\nasync function create(orama, sharedInternalDocumentStore, schema, config) {\n    const isSortEnabled = (config === null || config === void 0 ? void 0 : config.enabled) !== false;\n    if (!isSortEnabled) {\n        return {\n            disabled: true\n        };\n    }\n    return innerCreate(orama, sharedInternalDocumentStore, schema, (config || {}).unsortableProperties || [], '');\n}\nasync function insert(sorter, prop, id, value) {\n    if (!sorter.enabled) {\n        return;\n    }\n    sorter.isSorted = false;\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_3__.getInternalDocumentId)(sorter.sharedInternalDocumentStore, id);\n    const s = sorter.sorts[prop];\n    // This happen during a document updating\n    // Because we re-use the same internalId\n    // We need to clean-up the data structure before re-inserting\n    // to avoid duplicates in the orderedDocs array\n    // See: https://github.com/askorama/orama/issues/629\n    if (s.orderedDocsToRemove.has(internalId)) {\n        ensureOrderedDocsAreDeletedByProperty(sorter, prop);\n    }\n    s.docs.set(internalId, s.orderedDocs.length);\n    s.orderedDocs.push([\n        internalId,\n        value\n    ]);\n}\nfunction ensureIsSorted(sorter) {\n    if (sorter.isSorted || !sorter.enabled) {\n        return;\n    }\n    const properties = Object.keys(sorter.sorts);\n    for (const prop of properties){\n        ensurePropertyIsSorted(sorter, prop);\n    }\n    sorter.isSorted = true;\n}\nfunction stringSort(language, value, d) {\n    return value[1].localeCompare(d[1], (0,_tokenizer_languages_js__WEBPACK_IMPORTED_MODULE_4__.getLocale)(language));\n}\nfunction numberSort(value, d) {\n    return value[1] - d[1];\n}\nfunction booleanSort(value, d) {\n    return d[1] ? -1 : 1;\n}\nfunction ensurePropertyIsSorted(sorter, prop) {\n    const s = sorter.sorts[prop];\n    let predicate;\n    switch(s.type){\n        case 'string':\n            predicate = stringSort.bind(null, sorter.language);\n            break;\n        case 'number':\n            predicate = numberSort.bind(null);\n            break;\n        case 'boolean':\n            predicate = booleanSort.bind(null);\n            break;\n    }\n    s.orderedDocs.sort(predicate);\n    // Increment position for the greather documents\n    const orderedDocsLength = s.orderedDocs.length;\n    for(let i = 0; i < orderedDocsLength; i++){\n        const docId = s.orderedDocs[i][0];\n        s.docs.set(docId, i);\n    }\n}\nfunction ensureOrderedDocsAreDeleted(sorter) {\n    const properties = Object.keys(sorter.sorts);\n    for (const prop of properties){\n        ensureOrderedDocsAreDeletedByProperty(sorter, prop);\n    }\n}\nfunction ensureOrderedDocsAreDeletedByProperty(sorter, prop) {\n    const s = sorter.sorts[prop];\n    if (!s.orderedDocsToRemove.size) return;\n    s.orderedDocs = s.orderedDocs.filter((doc)=>!s.orderedDocsToRemove.has(doc[0]));\n    s.orderedDocsToRemove.clear();\n}\nasync function remove(sorter, prop, id) {\n    if (!sorter.enabled) {\n        return;\n    }\n    const s = sorter.sorts[prop];\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_3__.getInternalDocumentId)(sorter.sharedInternalDocumentStore, id);\n    const index = s.docs.get(internalId);\n    if (!index) return;\n    s.docs.delete(internalId);\n    s.orderedDocsToRemove.set(internalId, true);\n}\nasync function sortBy(sorter, docIds, by) {\n    if (!sorter.enabled) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('SORT_DISABLED');\n    }\n    const property = by.property;\n    const isDesc = by.order === 'DESC';\n    const s = sorter.sorts[property];\n    if (!s) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('UNABLE_TO_SORT_ON_UNKNOWN_FIELD', property, sorter.sortableProperties.join(', '));\n    }\n    ensureOrderedDocsAreDeletedByProperty(sorter, property);\n    ensureIsSorted(sorter);\n    docIds.sort((a, b)=>{\n        // This sort algorithm works leveraging on\n        // that s.docs is a map of docId -> position\n        // If a document is not indexed, it will be not present in the map\n        const indexOfA = s.docs.get((0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_3__.getInternalDocumentId)(sorter.sharedInternalDocumentStore, a[0]));\n        const indexOfB = s.docs.get((0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_3__.getInternalDocumentId)(sorter.sharedInternalDocumentStore, b[0]));\n        const isAIndexed = typeof indexOfA !== 'undefined';\n        const isBIndexed = typeof indexOfB !== 'undefined';\n        if (!isAIndexed && !isBIndexed) {\n            return 0;\n        }\n        // unindexed documents are always at the end\n        if (!isAIndexed) {\n            return 1;\n        }\n        if (!isBIndexed) {\n            return -1;\n        }\n        return isDesc ? indexOfB - indexOfA : indexOfA - indexOfB;\n    });\n    return docIds;\n}\nasync function getSortableProperties(sorter) {\n    if (!sorter.enabled) {\n        return [];\n    }\n    return sorter.sortableProperties;\n}\nasync function getSortablePropertiesWithTypes(sorter) {\n    if (!sorter.enabled) {\n        return {};\n    }\n    return sorter.sortablePropertiesWithTypes;\n}\nasync function load(sharedInternalDocumentStore, raw) {\n    const rawDocument = raw;\n    if (!rawDocument.enabled) {\n        return {\n            enabled: false\n        };\n    }\n    const sorts = Object.keys(rawDocument.sorts).reduce((acc, prop)=>{\n        const { docs , orderedDocs , type  } = rawDocument.sorts[prop];\n        acc[prop] = {\n            docs: new Map(Object.entries(docs).map(([k, v])=>[\n                    +k,\n                    v\n                ])),\n            orderedDocsToRemove: new Map(),\n            orderedDocs,\n            type\n        };\n        return acc;\n    }, {});\n    return {\n        sharedInternalDocumentStore,\n        language: rawDocument.language,\n        sortableProperties: rawDocument.sortableProperties,\n        sortablePropertiesWithTypes: rawDocument.sortablePropertiesWithTypes,\n        sorts,\n        enabled: true,\n        isSorted: rawDocument.isSorted\n    };\n}\nasync function save(sorter) {\n    if (!sorter.enabled) {\n        return {\n            enabled: false\n        };\n    }\n    ensureOrderedDocsAreDeleted(sorter);\n    ensureIsSorted(sorter);\n    const sorts = Object.keys(sorter.sorts).reduce((acc, prop)=>{\n        const { docs , orderedDocs , type  } = sorter.sorts[prop];\n        acc[prop] = {\n            docs: Object.fromEntries(docs.entries()),\n            orderedDocs,\n            type\n        };\n        return acc;\n    }, {});\n    return {\n        language: sorter.language,\n        sortableProperties: sorter.sortableProperties,\n        sortablePropertiesWithTypes: sorter.sortablePropertiesWithTypes,\n        sorts,\n        enabled: sorter.enabled,\n        isSorted: sorter.isSorted\n    };\n}\nasync function createSorter() {\n    return {\n        create,\n        insert,\n        remove,\n        save,\n        load,\n        sortBy,\n        getSortableProperties,\n        getSortablePropertiesWithTypes\n    };\n}\n\n//# sourceMappingURL=sorter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL3NvcnRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyQztBQUNFO0FBQzJCO0FBQzVCO0FBQ1M7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxLQUFLO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDBEQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msa0VBQVM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHVCQUF1QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1REFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1REFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxxRkFBcUI7QUFDekQsb0NBQW9DLHFGQUFxQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbXJiYWQvdmliZXByb2plY3RzL2Vhenl0YWJsZS9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL3NvcnRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBpc1ZlY3RvclR5cGUgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4vaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuaW1wb3J0IHsgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldExvY2FsZSB9IGZyb20gJy4vdG9rZW5pemVyL2xhbmd1YWdlcy5qcyc7XG5mdW5jdGlvbiBpbm5lckNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIHNvcnRhYmxlRGVuaWVkUHJvcGVydGllcywgcHJlZml4KSB7XG4gICAgY29uc3Qgc29ydGVyID0ge1xuICAgICAgICBsYW5ndWFnZTogb3JhbWEudG9rZW5pemVyLmxhbmd1YWdlLFxuICAgICAgICBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGlzU29ydGVkOiB0cnVlLFxuICAgICAgICBzb3J0YWJsZVByb3BlcnRpZXM6IFtdLFxuICAgICAgICBzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXM6IHt9LFxuICAgICAgICBzb3J0czoge31cbiAgICB9O1xuICAgIGZvciAoY29uc3QgW3Byb3AsIHR5cGVdIG9mIE9iamVjdC5lbnRyaWVzKHNjaGVtYSkpe1xuICAgICAgICBjb25zdCBwYXRoID0gYCR7cHJlZml4fSR7cHJlZml4ID8gJy4nIDogJyd9JHtwcm9wfWA7XG4gICAgICAgIGlmIChzb3J0YWJsZURlbmllZFByb3BlcnRpZXMuaW5jbHVkZXMocGF0aCkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgICAgIC8vIE5lc3RlZFxuICAgICAgICAgICAgY29uc3QgcmV0ID0gaW5uZXJDcmVhdGUob3JhbWEsIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgdHlwZSwgc29ydGFibGVEZW5pZWRQcm9wZXJ0aWVzLCBwYXRoKTtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2goc29ydGVyLnNvcnRhYmxlUHJvcGVydGllcywgcmV0LnNvcnRhYmxlUHJvcGVydGllcyk7XG4gICAgICAgICAgICBzb3J0ZXIuc29ydHMgPSB7XG4gICAgICAgICAgICAgICAgLi4uc29ydGVyLnNvcnRzLFxuICAgICAgICAgICAgICAgIC4uLnJldC5zb3J0c1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgPSB7XG4gICAgICAgICAgICAgICAgLi4uc29ydGVyLnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgICAgICAgICAuLi5yZXQuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1ZlY3RvclR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXMucHVzaChwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgc29ydGVyLnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twYXRoXSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRlci5zb3J0c1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3M6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyZWREb2NzVG9SZW1vdmU6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyZWREb2NzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZ2VvcG9pbnQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlICdlbnVtW10nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW5bXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyW10nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZ1tdJzpcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfU09SVF9TQ0hFTUFfVFlQRScsIEFycmF5LmlzQXJyYXkodHlwZSkgPyAnYXJyYXknIDogdHlwZSwgcGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNvcnRlcjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIGNvbmZpZykge1xuICAgIGNvbnN0IGlzU29ydEVuYWJsZWQgPSAoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLmVuYWJsZWQpICE9PSBmYWxzZTtcbiAgICBpZiAoIWlzU29ydEVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBpbm5lckNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIChjb25maWcgfHwge30pLnVuc29ydGFibGVQcm9wZXJ0aWVzIHx8IFtdLCAnJyk7XG59XG5hc3luYyBmdW5jdGlvbiBpbnNlcnQoc29ydGVyLCBwcm9wLCBpZCwgdmFsdWUpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc29ydGVyLmlzU29ydGVkID0gZmFsc2U7XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChzb3J0ZXIuc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBpZCk7XG4gICAgY29uc3QgcyA9IHNvcnRlci5zb3J0c1twcm9wXTtcbiAgICAvLyBUaGlzIGhhcHBlbiBkdXJpbmcgYSBkb2N1bWVudCB1cGRhdGluZ1xuICAgIC8vIEJlY2F1c2Ugd2UgcmUtdXNlIHRoZSBzYW1lIGludGVybmFsSWRcbiAgICAvLyBXZSBuZWVkIHRvIGNsZWFuLXVwIHRoZSBkYXRhIHN0cnVjdHVyZSBiZWZvcmUgcmUtaW5zZXJ0aW5nXG4gICAgLy8gdG8gYXZvaWQgZHVwbGljYXRlcyBpbiB0aGUgb3JkZXJlZERvY3MgYXJyYXlcbiAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hc2tvcmFtYS9vcmFtYS9pc3N1ZXMvNjI5XG4gICAgaWYgKHMub3JkZXJlZERvY3NUb1JlbW92ZS5oYXMoaW50ZXJuYWxJZCkpIHtcbiAgICAgICAgZW5zdXJlT3JkZXJlZERvY3NBcmVEZWxldGVkQnlQcm9wZXJ0eShzb3J0ZXIsIHByb3ApO1xuICAgIH1cbiAgICBzLmRvY3Muc2V0KGludGVybmFsSWQsIHMub3JkZXJlZERvY3MubGVuZ3RoKTtcbiAgICBzLm9yZGVyZWREb2NzLnB1c2goW1xuICAgICAgICBpbnRlcm5hbElkLFxuICAgICAgICB2YWx1ZVxuICAgIF0pO1xufVxuZnVuY3Rpb24gZW5zdXJlSXNTb3J0ZWQoc29ydGVyKSB7XG4gICAgaWYgKHNvcnRlci5pc1NvcnRlZCB8fCAhc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcyl7XG4gICAgICAgIGVuc3VyZVByb3BlcnR5SXNTb3J0ZWQoc29ydGVyLCBwcm9wKTtcbiAgICB9XG4gICAgc29ydGVyLmlzU29ydGVkID0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHN0cmluZ1NvcnQobGFuZ3VhZ2UsIHZhbHVlLCBkKSB7XG4gICAgcmV0dXJuIHZhbHVlWzFdLmxvY2FsZUNvbXBhcmUoZFsxXSwgZ2V0TG9jYWxlKGxhbmd1YWdlKSk7XG59XG5mdW5jdGlvbiBudW1iZXJTb3J0KHZhbHVlLCBkKSB7XG4gICAgcmV0dXJuIHZhbHVlWzFdIC0gZFsxXTtcbn1cbmZ1bmN0aW9uIGJvb2xlYW5Tb3J0KHZhbHVlLCBkKSB7XG4gICAgcmV0dXJuIGRbMV0gPyAtMSA6IDE7XG59XG5mdW5jdGlvbiBlbnN1cmVQcm9wZXJ0eUlzU29ydGVkKHNvcnRlciwgcHJvcCkge1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcF07XG4gICAgbGV0IHByZWRpY2F0ZTtcbiAgICBzd2l0Y2gocy50eXBlKXtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIHByZWRpY2F0ZSA9IHN0cmluZ1NvcnQuYmluZChudWxsLCBzb3J0ZXIubGFuZ3VhZ2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBudW1iZXJTb3J0LmJpbmQobnVsbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBib29sZWFuU29ydC5iaW5kKG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHMub3JkZXJlZERvY3Muc29ydChwcmVkaWNhdGUpO1xuICAgIC8vIEluY3JlbWVudCBwb3NpdGlvbiBmb3IgdGhlIGdyZWF0aGVyIGRvY3VtZW50c1xuICAgIGNvbnN0IG9yZGVyZWREb2NzTGVuZ3RoID0gcy5vcmRlcmVkRG9jcy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IG9yZGVyZWREb2NzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBkb2NJZCA9IHMub3JkZXJlZERvY3NbaV1bMF07XG4gICAgICAgIHMuZG9jcy5zZXQoZG9jSWQsIGkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZChzb3J0ZXIpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcyl7XG4gICAgICAgIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZEJ5UHJvcGVydHkoc29ydGVyLCBwcm9wKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcCkge1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcF07XG4gICAgaWYgKCFzLm9yZGVyZWREb2NzVG9SZW1vdmUuc2l6ZSkgcmV0dXJuO1xuICAgIHMub3JkZXJlZERvY3MgPSBzLm9yZGVyZWREb2NzLmZpbHRlcigoZG9jKT0+IXMub3JkZXJlZERvY3NUb1JlbW92ZS5oYXMoZG9jWzBdKSk7XG4gICAgcy5vcmRlcmVkRG9jc1RvUmVtb3ZlLmNsZWFyKCk7XG59XG5hc3luYyBmdW5jdGlvbiByZW1vdmUoc29ydGVyLCBwcm9wLCBpZCkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIGNvbnN0IGludGVybmFsSWQgPSBnZXRJbnRlcm5hbERvY3VtZW50SWQoc29ydGVyLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IGluZGV4ID0gcy5kb2NzLmdldChpbnRlcm5hbElkKTtcbiAgICBpZiAoIWluZGV4KSByZXR1cm47XG4gICAgcy5kb2NzLmRlbGV0ZShpbnRlcm5hbElkKTtcbiAgICBzLm9yZGVyZWREb2NzVG9SZW1vdmUuc2V0KGludGVybmFsSWQsIHRydWUpO1xufVxuYXN5bmMgZnVuY3Rpb24gc29ydEJ5KHNvcnRlciwgZG9jSWRzLCBieSkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1NPUlRfRElTQUJMRUQnKTtcbiAgICB9XG4gICAgY29uc3QgcHJvcGVydHkgPSBieS5wcm9wZXJ0eTtcbiAgICBjb25zdCBpc0Rlc2MgPSBieS5vcmRlciA9PT0gJ0RFU0MnO1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcGVydHldO1xuICAgIGlmICghcykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRCcsIHByb3BlcnR5LCBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzLmpvaW4oJywgJykpO1xuICAgIH1cbiAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcGVydHkpO1xuICAgIGVuc3VyZUlzU29ydGVkKHNvcnRlcik7XG4gICAgZG9jSWRzLnNvcnQoKGEsIGIpPT57XG4gICAgICAgIC8vIFRoaXMgc29ydCBhbGdvcml0aG0gd29ya3MgbGV2ZXJhZ2luZyBvblxuICAgICAgICAvLyB0aGF0IHMuZG9jcyBpcyBhIG1hcCBvZiBkb2NJZCAtPiBwb3NpdGlvblxuICAgICAgICAvLyBJZiBhIGRvY3VtZW50IGlzIG5vdCBpbmRleGVkLCBpdCB3aWxsIGJlIG5vdCBwcmVzZW50IGluIHRoZSBtYXBcbiAgICAgICAgY29uc3QgaW5kZXhPZkEgPSBzLmRvY3MuZ2V0KGdldEludGVybmFsRG9jdW1lbnRJZChzb3J0ZXIuc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBhWzBdKSk7XG4gICAgICAgIGNvbnN0IGluZGV4T2ZCID0gcy5kb2NzLmdldChnZXRJbnRlcm5hbERvY3VtZW50SWQoc29ydGVyLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgYlswXSkpO1xuICAgICAgICBjb25zdCBpc0FJbmRleGVkID0gdHlwZW9mIGluZGV4T2ZBICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgY29uc3QgaXNCSW5kZXhlZCA9IHR5cGVvZiBpbmRleE9mQiAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICAgIGlmICghaXNBSW5kZXhlZCAmJiAhaXNCSW5kZXhlZCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5pbmRleGVkIGRvY3VtZW50cyBhcmUgYWx3YXlzIGF0IHRoZSBlbmRcbiAgICAgICAgaWYgKCFpc0FJbmRleGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQkluZGV4ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNEZXNjID8gaW5kZXhPZkIgLSBpbmRleE9mQSA6IGluZGV4T2ZBIC0gaW5kZXhPZkI7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRvY0lkcztcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFNvcnRhYmxlUHJvcGVydGllcyhzb3J0ZXIpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXM7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRTb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoc29ydGVyKSB7XG4gICAgaWYgKCFzb3J0ZXIuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHJldHVybiBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWQoc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCByYXcpIHtcbiAgICBjb25zdCByYXdEb2N1bWVudCA9IHJhdztcbiAgICBpZiAoIXJhd0RvY3VtZW50LmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNvcnRzID0gT2JqZWN0LmtleXMocmF3RG9jdW1lbnQuc29ydHMpLnJlZHVjZSgoYWNjLCBwcm9wKT0+e1xuICAgICAgICBjb25zdCB7IGRvY3MgLCBvcmRlcmVkRG9jcyAsIHR5cGUgIH0gPSByYXdEb2N1bWVudC5zb3J0c1twcm9wXTtcbiAgICAgICAgYWNjW3Byb3BdID0ge1xuICAgICAgICAgICAgZG9jczogbmV3IE1hcChPYmplY3QuZW50cmllcyhkb2NzKS5tYXAoKFtrLCB2XSk9PltcbiAgICAgICAgICAgICAgICAgICAgK2ssXG4gICAgICAgICAgICAgICAgICAgIHZcbiAgICAgICAgICAgICAgICBdKSksXG4gICAgICAgICAgICBvcmRlcmVkRG9jc1RvUmVtb3ZlOiBuZXcgTWFwKCksXG4gICAgICAgICAgICBvcmRlcmVkRG9jcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLFxuICAgICAgICBsYW5ndWFnZTogcmF3RG9jdW1lbnQubGFuZ3VhZ2UsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogcmF3RG9jdW1lbnQuc29ydGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXM6IHJhd0RvY3VtZW50LnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgc29ydHMsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGlzU29ydGVkOiByYXdEb2N1bWVudC5pc1NvcnRlZFxuICAgIH07XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZShzb3J0ZXIpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWQoc29ydGVyKTtcbiAgICBlbnN1cmVJc1NvcnRlZChzb3J0ZXIpO1xuICAgIGNvbnN0IHNvcnRzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKS5yZWR1Y2UoKGFjYywgcHJvcCk9PntcbiAgICAgICAgY29uc3QgeyBkb2NzICwgb3JkZXJlZERvY3MgLCB0eXBlICB9ID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgICAgICBhY2NbcHJvcF0gPSB7XG4gICAgICAgICAgICBkb2NzOiBPYmplY3QuZnJvbUVudHJpZXMoZG9jcy5lbnRyaWVzKCkpLFxuICAgICAgICAgICAgb3JkZXJlZERvY3MsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGxhbmd1YWdlOiBzb3J0ZXIubGFuZ3VhZ2UsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllczogc29ydGVyLnNvcnRhYmxlUHJvcGVydGllcyxcbiAgICAgICAgc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzOiBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICBzb3J0cyxcbiAgICAgICAgZW5hYmxlZDogc29ydGVyLmVuYWJsZWQsXG4gICAgICAgIGlzU29ydGVkOiBzb3J0ZXIuaXNTb3J0ZWRcbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNvcnRlcigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUsXG4gICAgICAgIGluc2VydCxcbiAgICAgICAgcmVtb3ZlLFxuICAgICAgICBzYXZlLFxuICAgICAgICBsb2FkLFxuICAgICAgICBzb3J0QnksXG4gICAgICAgIGdldFNvcnRhYmxlUHJvcGVydGllcyxcbiAgICAgICAgZ2V0U29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c29ydGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/sorter.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/diacritics.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/diacritics.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   replaceDiacritics: () => (/* binding */ replaceDiacritics)\n/* harmony export */ });\nconst DIACRITICS_CHARCODE_START = 192;\nconst DIACRITICS_CHARCODE_END = 383;\nconst CHARCODE_REPLACE_MAPPING = [\n    65,\n    65,\n    65,\n    65,\n    65,\n    65,\n    65,\n    67,\n    69,\n    69,\n    69,\n    69,\n    73,\n    73,\n    73,\n    73,\n    69,\n    78,\n    79,\n    79,\n    79,\n    79,\n    79,\n    null,\n    79,\n    85,\n    85,\n    85,\n    85,\n    89,\n    80,\n    115,\n    97,\n    97,\n    97,\n    97,\n    97,\n    97,\n    97,\n    99,\n    101,\n    101,\n    101,\n    101,\n    105,\n    105,\n    105,\n    105,\n    101,\n    110,\n    111,\n    111,\n    111,\n    111,\n    111,\n    null,\n    111,\n    117,\n    117,\n    117,\n    117,\n    121,\n    112,\n    121,\n    65,\n    97,\n    65,\n    97,\n    65,\n    97,\n    67,\n    99,\n    67,\n    99,\n    67,\n    99,\n    67,\n    99,\n    68,\n    100,\n    68,\n    100,\n    69,\n    101,\n    69,\n    101,\n    69,\n    101,\n    69,\n    101,\n    69,\n    101,\n    71,\n    103,\n    71,\n    103,\n    71,\n    103,\n    71,\n    103,\n    72,\n    104,\n    72,\n    104,\n    73,\n    105,\n    73,\n    105,\n    73,\n    105,\n    73,\n    105,\n    73,\n    105,\n    73,\n    105,\n    74,\n    106,\n    75,\n    107,\n    107,\n    76,\n    108,\n    76,\n    108,\n    76,\n    108,\n    76,\n    108,\n    76,\n    108,\n    78,\n    110,\n    78,\n    110,\n    78,\n    110,\n    110,\n    78,\n    110,\n    79,\n    111,\n    79,\n    111,\n    79,\n    111,\n    79,\n    111,\n    82,\n    114,\n    82,\n    114,\n    82,\n    114,\n    83,\n    115,\n    83,\n    115,\n    83,\n    115,\n    83,\n    115,\n    84,\n    116,\n    84,\n    116,\n    84,\n    116,\n    85,\n    117,\n    85,\n    117,\n    85,\n    117,\n    85,\n    117,\n    85,\n    117,\n    85,\n    117,\n    87,\n    119,\n    89,\n    121,\n    89,\n    90,\n    122,\n    90,\n    122,\n    90,\n    122,\n    115\n];\nfunction replaceChar(charCode) {\n    if (charCode < DIACRITICS_CHARCODE_START || charCode > DIACRITICS_CHARCODE_END) return charCode;\n    /* c8 ignore next  */ return CHARCODE_REPLACE_MAPPING[charCode - DIACRITICS_CHARCODE_START] || charCode;\n}\nfunction replaceDiacritics(str) {\n    const stringCharCode = [];\n    for(let idx = 0; idx < str.length; idx++){\n        stringCharCode[idx] = replaceChar(str.charCodeAt(idx));\n    }\n    return String.fromCharCode(...stringCharCode);\n}\n\n//# sourceMappingURL=diacritics.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL3Rva2VuaXplci9kaWFjcml0aWNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLHFCQUFxQixrQkFBa0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvdG9rZW5pemVyL2RpYWNyaXRpY3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRElBQ1JJVElDU19DSEFSQ09ERV9TVEFSVCA9IDE5MjtcbmNvbnN0IERJQUNSSVRJQ1NfQ0hBUkNPREVfRU5EID0gMzgzO1xuY29uc3QgQ0hBUkNPREVfUkVQTEFDRV9NQVBQSU5HID0gW1xuICAgIDY1LFxuICAgIDY1LFxuICAgIDY1LFxuICAgIDY1LFxuICAgIDY1LFxuICAgIDY1LFxuICAgIDY1LFxuICAgIDY3LFxuICAgIDY5LFxuICAgIDY5LFxuICAgIDY5LFxuICAgIDY5LFxuICAgIDczLFxuICAgIDczLFxuICAgIDczLFxuICAgIDczLFxuICAgIDY5LFxuICAgIDc4LFxuICAgIDc5LFxuICAgIDc5LFxuICAgIDc5LFxuICAgIDc5LFxuICAgIDc5LFxuICAgIG51bGwsXG4gICAgNzksXG4gICAgODUsXG4gICAgODUsXG4gICAgODUsXG4gICAgODUsXG4gICAgODksXG4gICAgODAsXG4gICAgMTE1LFxuICAgIDk3LFxuICAgIDk3LFxuICAgIDk3LFxuICAgIDk3LFxuICAgIDk3LFxuICAgIDk3LFxuICAgIDk3LFxuICAgIDk5LFxuICAgIDEwMSxcbiAgICAxMDEsXG4gICAgMTAxLFxuICAgIDEwMSxcbiAgICAxMDUsXG4gICAgMTA1LFxuICAgIDEwNSxcbiAgICAxMDUsXG4gICAgMTAxLFxuICAgIDExMCxcbiAgICAxMTEsXG4gICAgMTExLFxuICAgIDExMSxcbiAgICAxMTEsXG4gICAgMTExLFxuICAgIG51bGwsXG4gICAgMTExLFxuICAgIDExNyxcbiAgICAxMTcsXG4gICAgMTE3LFxuICAgIDExNyxcbiAgICAxMjEsXG4gICAgMTEyLFxuICAgIDEyMSxcbiAgICA2NSxcbiAgICA5NyxcbiAgICA2NSxcbiAgICA5NyxcbiAgICA2NSxcbiAgICA5NyxcbiAgICA2NyxcbiAgICA5OSxcbiAgICA2NyxcbiAgICA5OSxcbiAgICA2NyxcbiAgICA5OSxcbiAgICA2NyxcbiAgICA5OSxcbiAgICA2OCxcbiAgICAxMDAsXG4gICAgNjgsXG4gICAgMTAwLFxuICAgIDY5LFxuICAgIDEwMSxcbiAgICA2OSxcbiAgICAxMDEsXG4gICAgNjksXG4gICAgMTAxLFxuICAgIDY5LFxuICAgIDEwMSxcbiAgICA2OSxcbiAgICAxMDEsXG4gICAgNzEsXG4gICAgMTAzLFxuICAgIDcxLFxuICAgIDEwMyxcbiAgICA3MSxcbiAgICAxMDMsXG4gICAgNzEsXG4gICAgMTAzLFxuICAgIDcyLFxuICAgIDEwNCxcbiAgICA3MixcbiAgICAxMDQsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzQsXG4gICAgMTA2LFxuICAgIDc1LFxuICAgIDEwNyxcbiAgICAxMDcsXG4gICAgNzYsXG4gICAgMTA4LFxuICAgIDc2LFxuICAgIDEwOCxcbiAgICA3NixcbiAgICAxMDgsXG4gICAgNzYsXG4gICAgMTA4LFxuICAgIDc2LFxuICAgIDEwOCxcbiAgICA3OCxcbiAgICAxMTAsXG4gICAgNzgsXG4gICAgMTEwLFxuICAgIDc4LFxuICAgIDExMCxcbiAgICAxMTAsXG4gICAgNzgsXG4gICAgMTEwLFxuICAgIDc5LFxuICAgIDExMSxcbiAgICA3OSxcbiAgICAxMTEsXG4gICAgNzksXG4gICAgMTExLFxuICAgIDc5LFxuICAgIDExMSxcbiAgICA4MixcbiAgICAxMTQsXG4gICAgODIsXG4gICAgMTE0LFxuICAgIDgyLFxuICAgIDExNCxcbiAgICA4MyxcbiAgICAxMTUsXG4gICAgODMsXG4gICAgMTE1LFxuICAgIDgzLFxuICAgIDExNSxcbiAgICA4MyxcbiAgICAxMTUsXG4gICAgODQsXG4gICAgMTE2LFxuICAgIDg0LFxuICAgIDExNixcbiAgICA4NCxcbiAgICAxMTYsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODcsXG4gICAgMTE5LFxuICAgIDg5LFxuICAgIDEyMSxcbiAgICA4OSxcbiAgICA5MCxcbiAgICAxMjIsXG4gICAgOTAsXG4gICAgMTIyLFxuICAgIDkwLFxuICAgIDEyMixcbiAgICAxMTVcbl07XG5mdW5jdGlvbiByZXBsYWNlQ2hhcihjaGFyQ29kZSkge1xuICAgIGlmIChjaGFyQ29kZSA8IERJQUNSSVRJQ1NfQ0hBUkNPREVfU1RBUlQgfHwgY2hhckNvZGUgPiBESUFDUklUSUNTX0NIQVJDT0RFX0VORCkgcmV0dXJuIGNoYXJDb2RlO1xuICAgIC8qIGM4IGlnbm9yZSBuZXh0ICAqLyByZXR1cm4gQ0hBUkNPREVfUkVQTEFDRV9NQVBQSU5HW2NoYXJDb2RlIC0gRElBQ1JJVElDU19DSEFSQ09ERV9TVEFSVF0gfHwgY2hhckNvZGU7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZURpYWNyaXRpY3Moc3RyKSB7XG4gICAgY29uc3Qgc3RyaW5nQ2hhckNvZGUgPSBbXTtcbiAgICBmb3IobGV0IGlkeCA9IDA7IGlkeCA8IHN0ci5sZW5ndGg7IGlkeCsrKXtcbiAgICAgICAgc3RyaW5nQ2hhckNvZGVbaWR4XSA9IHJlcGxhY2VDaGFyKHN0ci5jaGFyQ29kZUF0KGlkeCkpO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSguLi5zdHJpbmdDaGFyQ29kZSk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpYWNyaXRpY3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/diacritics.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/english-stemmer.js":
/*!***********************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/english-stemmer.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stemmer: () => (/* binding */ stemmer)\n/* harmony export */ });\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nconst step2List = {\n    ational: 'ate',\n    tional: 'tion',\n    enci: 'ence',\n    anci: 'ance',\n    izer: 'ize',\n    bli: 'ble',\n    alli: 'al',\n    entli: 'ent',\n    eli: 'e',\n    ousli: 'ous',\n    ization: 'ize',\n    ation: 'ate',\n    ator: 'ate',\n    alism: 'al',\n    iveness: 'ive',\n    fulness: 'ful',\n    ousness: 'ous',\n    aliti: 'al',\n    iviti: 'ive',\n    biliti: 'ble',\n    logi: 'log'\n};\nconst step3List = {\n    icate: 'ic',\n    ative: '',\n    alize: 'al',\n    iciti: 'ic',\n    ical: 'ic',\n    ful: '',\n    ness: ''\n};\n// Consonant\nconst c = '[^aeiou]';\n// Vowel\nconst v = '[aeiouy]';\n// Consonant sequence\nconst C = c + '[^aeiouy]*';\n// Vowel sequence\nconst V = v + '[aeiou]*';\n// [C]VC... is m>0\nconst mgr0 = '^(' + C + ')?' + V + C;\n// [C]VC[V] is m=1\nconst meq1 = '^(' + C + ')?' + V + C + '(' + V + ')?$';\n// [C]VCVC... is m>1\nconst mgr1 = '^(' + C + ')?' + V + C + V + C;\n// vowel in stem\nconst s_v = '^(' + C + ')?' + v;\nfunction stemmer(w) {\n    let stem;\n    let suffix;\n    let re;\n    let re2;\n    let re3;\n    let re4;\n    if (w.length < 3) {\n        return w;\n    }\n    const firstch = w.substring(0, 1);\n    if (firstch == 'y') {\n        w = firstch.toUpperCase() + w.substring(1);\n    }\n    re = /^(.+?)(ss|i)es$/;\n    re2 = /^(.+?)([^s])s$/;\n    if (re.test(w)) {\n        w = w.replace(re, '$1$2');\n    } else if (re2.test(w)) {\n        w = w.replace(re2, '$1$2');\n    }\n    re = /^(.+?)eed$/;\n    re2 = /^(.+?)(ed|ing)$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        re = new RegExp(mgr0);\n        if (re.test(fp[1])) {\n            re = /.$/;\n            w = w.replace(re, '');\n        }\n    } else if (re2.test(w)) {\n        const fp = re2.exec(w);\n        stem = fp[1];\n        re2 = new RegExp(s_v);\n        if (re2.test(stem)) {\n            w = stem;\n            re2 = /(at|bl|iz)$/;\n            re3 = new RegExp('([^aeiouylsz])\\\\1$');\n            re4 = new RegExp('^' + C + v + '[^aeiouwxy]$');\n            if (re2.test(w)) {\n                w = w + 'e';\n            } else if (re3.test(w)) {\n                re = /.$/;\n                w = w.replace(re, '');\n            } else if (re4.test(w)) {\n                w = w + 'e';\n            }\n        }\n    }\n    re = /^(.+?)y$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp === null || fp === void 0 ? void 0 : fp[1];\n        re = new RegExp(s_v);\n        if (stem && re.test(stem)) {\n            w = stem + 'i';\n        }\n    }\n    re = /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp === null || fp === void 0 ? void 0 : fp[1];\n        suffix = fp === null || fp === void 0 ? void 0 : fp[2];\n        re = new RegExp(mgr0);\n        if (stem && re.test(stem)) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            w = stem + step2List[suffix];\n        }\n    }\n    re = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp === null || fp === void 0 ? void 0 : fp[1];\n        suffix = fp === null || fp === void 0 ? void 0 : fp[2];\n        re = new RegExp(mgr0);\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        if (stem && re.test(stem)) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            w = stem + step3List[suffix];\n        }\n    }\n    re = /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;\n    re2 = /^(.+?)(s|t)(ion)$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp === null || fp === void 0 ? void 0 : fp[1];\n        re = new RegExp(mgr1);\n        if (stem && re.test(stem)) {\n            w = stem;\n        }\n    } else if (re2.test(w)) {\n        const fp = re2.exec(w);\n        stem = (fp === null || fp === void 0 ? void 0 : fp[1]) ?? '' + (fp === null || fp === void 0 ? void 0 : fp[2]) ?? '';\n        re2 = new RegExp(mgr1);\n        if (re2.test(stem)) {\n            w = stem;\n        }\n    }\n    re = /^(.+?)e$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp === null || fp === void 0 ? void 0 : fp[1];\n        re = new RegExp(mgr1);\n        re2 = new RegExp(meq1);\n        re3 = new RegExp('^' + C + v + '[^aeiouwxy]$');\n        if (stem && (re.test(stem) || re2.test(stem) && !re3.test(stem))) {\n            w = stem;\n        }\n    }\n    re = /ll$/;\n    re2 = new RegExp(mgr1);\n    if (re.test(w) && re2.test(w)) {\n        re = /.$/;\n        w = w.replace(re, '');\n    }\n    if (firstch == 'y') {\n        w = firstch.toLowerCase() + w.substring(1);\n    }\n    return w;\n}\n\n//# sourceMappingURL=english-stemmer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL3Rva2VuaXplci9lbmdsaXNoLXN0ZW1tZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbXJiYWQvdmliZXByb2plY3RzL2Vhenl0YWJsZS9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL3Rva2VuaXplci9lbmdsaXNoLXN0ZW1tZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuLy8gQHRzLW5vY2hlY2tcbmNvbnN0IHN0ZXAyTGlzdCA9IHtcbiAgICBhdGlvbmFsOiAnYXRlJyxcbiAgICB0aW9uYWw6ICd0aW9uJyxcbiAgICBlbmNpOiAnZW5jZScsXG4gICAgYW5jaTogJ2FuY2UnLFxuICAgIGl6ZXI6ICdpemUnLFxuICAgIGJsaTogJ2JsZScsXG4gICAgYWxsaTogJ2FsJyxcbiAgICBlbnRsaTogJ2VudCcsXG4gICAgZWxpOiAnZScsXG4gICAgb3VzbGk6ICdvdXMnLFxuICAgIGl6YXRpb246ICdpemUnLFxuICAgIGF0aW9uOiAnYXRlJyxcbiAgICBhdG9yOiAnYXRlJyxcbiAgICBhbGlzbTogJ2FsJyxcbiAgICBpdmVuZXNzOiAnaXZlJyxcbiAgICBmdWxuZXNzOiAnZnVsJyxcbiAgICBvdXNuZXNzOiAnb3VzJyxcbiAgICBhbGl0aTogJ2FsJyxcbiAgICBpdml0aTogJ2l2ZScsXG4gICAgYmlsaXRpOiAnYmxlJyxcbiAgICBsb2dpOiAnbG9nJ1xufTtcbmNvbnN0IHN0ZXAzTGlzdCA9IHtcbiAgICBpY2F0ZTogJ2ljJyxcbiAgICBhdGl2ZTogJycsXG4gICAgYWxpemU6ICdhbCcsXG4gICAgaWNpdGk6ICdpYycsXG4gICAgaWNhbDogJ2ljJyxcbiAgICBmdWw6ICcnLFxuICAgIG5lc3M6ICcnXG59O1xuLy8gQ29uc29uYW50XG5jb25zdCBjID0gJ1teYWVpb3VdJztcbi8vIFZvd2VsXG5jb25zdCB2ID0gJ1thZWlvdXldJztcbi8vIENvbnNvbmFudCBzZXF1ZW5jZVxuY29uc3QgQyA9IGMgKyAnW15hZWlvdXldKic7XG4vLyBWb3dlbCBzZXF1ZW5jZVxuY29uc3QgViA9IHYgKyAnW2FlaW91XSonO1xuLy8gW0NdVkMuLi4gaXMgbT4wXG5jb25zdCBtZ3IwID0gJ14oJyArIEMgKyAnKT8nICsgViArIEM7XG4vLyBbQ11WQ1tWXSBpcyBtPTFcbmNvbnN0IG1lcTEgPSAnXignICsgQyArICcpPycgKyBWICsgQyArICcoJyArIFYgKyAnKT8kJztcbi8vIFtDXVZDVkMuLi4gaXMgbT4xXG5jb25zdCBtZ3IxID0gJ14oJyArIEMgKyAnKT8nICsgViArIEMgKyBWICsgQztcbi8vIHZvd2VsIGluIHN0ZW1cbmNvbnN0IHNfdiA9ICdeKCcgKyBDICsgJyk/JyArIHY7XG5leHBvcnQgZnVuY3Rpb24gc3RlbW1lcih3KSB7XG4gICAgbGV0IHN0ZW07XG4gICAgbGV0IHN1ZmZpeDtcbiAgICBsZXQgcmU7XG4gICAgbGV0IHJlMjtcbiAgICBsZXQgcmUzO1xuICAgIGxldCByZTQ7XG4gICAgaWYgKHcubGVuZ3RoIDwgMykge1xuICAgICAgICByZXR1cm4gdztcbiAgICB9XG4gICAgY29uc3QgZmlyc3RjaCA9IHcuc3Vic3RyaW5nKDAsIDEpO1xuICAgIGlmIChmaXJzdGNoID09ICd5Jykge1xuICAgICAgICB3ID0gZmlyc3RjaC50b1VwcGVyQ2FzZSgpICsgdy5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIHJlID0gL14oLis/KShzc3xpKWVzJC87XG4gICAgcmUyID0gL14oLis/KShbXnNdKXMkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICB3ID0gdy5yZXBsYWNlKHJlLCAnJDEkMicpO1xuICAgIH0gZWxzZSBpZiAocmUyLnRlc3QodykpIHtcbiAgICAgICAgdyA9IHcucmVwbGFjZShyZTIsICckMSQyJyk7XG4gICAgfVxuICAgIHJlID0gL14oLis/KWVlZCQvO1xuICAgIHJlMiA9IC9eKC4rPykoZWR8aW5nKSQvO1xuICAgIGlmIChyZS50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUuZXhlYyh3KTtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKG1ncjApO1xuICAgICAgICBpZiAocmUudGVzdChmcFsxXSkpIHtcbiAgICAgICAgICAgIHJlID0gLy4kLztcbiAgICAgICAgICAgIHcgPSB3LnJlcGxhY2UocmUsICcnKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmUyLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZTIuZXhlYyh3KTtcbiAgICAgICAgc3RlbSA9IGZwWzFdO1xuICAgICAgICByZTIgPSBuZXcgUmVnRXhwKHNfdik7XG4gICAgICAgIGlmIChyZTIudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW07XG4gICAgICAgICAgICByZTIgPSAvKGF0fGJsfGl6KSQvO1xuICAgICAgICAgICAgcmUzID0gbmV3IFJlZ0V4cCgnKFteYWVpb3V5bHN6XSlcXFxcMSQnKTtcbiAgICAgICAgICAgIHJlNCA9IG5ldyBSZWdFeHAoJ14nICsgQyArIHYgKyAnW15hZWlvdXd4eV0kJyk7XG4gICAgICAgICAgICBpZiAocmUyLnRlc3QodykpIHtcbiAgICAgICAgICAgICAgICB3ID0gdyArICdlJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmUzLnRlc3QodykpIHtcbiAgICAgICAgICAgICAgICByZSA9IC8uJC87XG4gICAgICAgICAgICAgICAgdyA9IHcucmVwbGFjZShyZSwgJycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyZTQudGVzdCh3KSkge1xuICAgICAgICAgICAgICAgIHcgPSB3ICsgJ2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlID0gL14oLis/KXkkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChzX3YpO1xuICAgICAgICBpZiAoc3RlbSAmJiByZS50ZXN0KHN0ZW0pKSB7XG4gICAgICAgICAgICB3ID0gc3RlbSArICdpJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9eKC4rPykoYXRpb25hbHx0aW9uYWx8ZW5jaXxhbmNpfGl6ZXJ8YmxpfGFsbGl8ZW50bGl8ZWxpfG91c2xpfGl6YXRpb258YXRpb258YXRvcnxhbGlzbXxpdmVuZXNzfGZ1bG5lc3N8b3VzbmVzc3xhbGl0aXxpdml0aXxiaWxpdGl8bG9naSkkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV07XG4gICAgICAgIHN1ZmZpeCA9IGZwID09PSBudWxsIHx8IGZwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcFsyXTtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKG1ncjApO1xuICAgICAgICBpZiAoc3RlbSAmJiByZS50ZXN0KHN0ZW0pKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB3ID0gc3RlbSArIHN0ZXAyTGlzdFtzdWZmaXhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlID0gL14oLis/KShpY2F0ZXxhdGl2ZXxhbGl6ZXxpY2l0aXxpY2FsfGZ1bHxuZXNzKSQvO1xuICAgIGlmIChyZS50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUuZXhlYyh3KTtcbiAgICAgICAgc3RlbSA9IGZwID09PSBudWxsIHx8IGZwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcFsxXTtcbiAgICAgICAgc3VmZml4ID0gZnAgPT09IG51bGwgfHwgZnAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZwWzJdO1xuICAgICAgICByZSA9IG5ldyBSZWdFeHAobWdyMCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoc3RlbSAmJiByZS50ZXN0KHN0ZW0pKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB3ID0gc3RlbSArIHN0ZXAzTGlzdFtzdWZmaXhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlID0gL14oLis/KShhbHxhbmNlfGVuY2V8ZXJ8aWN8YWJsZXxpYmxlfGFudHxlbWVudHxtZW50fGVudHxvdXxpc218YXRlfGl0aXxvdXN8aXZlfGl6ZSkkLztcbiAgICByZTIgPSAvXiguKz8pKHN8dCkoaW9uKSQvO1xuICAgIGlmIChyZS50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUuZXhlYyh3KTtcbiAgICAgICAgc3RlbSA9IGZwID09PSBudWxsIHx8IGZwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcFsxXTtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKG1ncjEpO1xuICAgICAgICBpZiAoc3RlbSAmJiByZS50ZXN0KHN0ZW0pKSB7XG4gICAgICAgICAgICB3ID0gc3RlbTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmUyLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZTIuZXhlYyh3KTtcbiAgICAgICAgc3RlbSA9IChmcCA9PT0gbnVsbCB8fCBmcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZnBbMV0pID8/ICcnICsgKGZwID09PSBudWxsIHx8IGZwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcFsyXSkgPz8gJyc7XG4gICAgICAgIHJlMiA9IG5ldyBSZWdFeHAobWdyMSk7XG4gICAgICAgIGlmIChyZTIudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPSAvXiguKz8pZSQvO1xuICAgIGlmIChyZS50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUuZXhlYyh3KTtcbiAgICAgICAgc3RlbSA9IGZwID09PSBudWxsIHx8IGZwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBmcFsxXTtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKG1ncjEpO1xuICAgICAgICByZTIgPSBuZXcgUmVnRXhwKG1lcTEpO1xuICAgICAgICByZTMgPSBuZXcgUmVnRXhwKCdeJyArIEMgKyB2ICsgJ1teYWVpb3V3eHldJCcpO1xuICAgICAgICBpZiAoc3RlbSAmJiAocmUudGVzdChzdGVtKSB8fCByZTIudGVzdChzdGVtKSAmJiAhcmUzLnRlc3Qoc3RlbSkpKSB7XG4gICAgICAgICAgICB3ID0gc3RlbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9sbCQvO1xuICAgIHJlMiA9IG5ldyBSZWdFeHAobWdyMSk7XG4gICAgaWYgKHJlLnRlc3QodykgJiYgcmUyLnRlc3QodykpIHtcbiAgICAgICAgcmUgPSAvLiQvO1xuICAgICAgICB3ID0gdy5yZXBsYWNlKHJlLCAnJyk7XG4gICAgfVxuICAgIGlmIChmaXJzdGNoID09ICd5Jykge1xuICAgICAgICB3ID0gZmlyc3RjaC50b0xvd2VyQ2FzZSgpICsgdy5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIHJldHVybiB3O1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbmdsaXNoLXN0ZW1tZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/english-stemmer.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/index.js":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/index.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTokenizer: () => (/* binding */ createTokenizer),\n/* harmony export */   normalizeToken: () => (/* binding */ normalizeToken)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _diacritics_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./diacritics.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/diacritics.js\");\n/* harmony import */ var _languages_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./languages.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/languages.js\");\n/* harmony import */ var _english_stemmer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./english-stemmer.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/english-stemmer.js\");\n\n\n\n\nfunction normalizeToken(prop, token) {\n    var _this_stopWords;\n    const key = `${this.language}:${prop}:${token}`;\n    if (this.normalizationCache.has(key)) {\n        return this.normalizationCache.get(key);\n    }\n    // Remove stopwords if enabled\n    if ((_this_stopWords = this.stopWords) === null || _this_stopWords === void 0 ? void 0 : _this_stopWords.includes(token)) {\n        this.normalizationCache.set(key, '');\n        return '';\n    }\n    // Apply stemming if enabled\n    if (this.stemmer && !this.stemmerSkipProperties.has(prop)) {\n        token = this.stemmer(token);\n    }\n    token = (0,_diacritics_js__WEBPACK_IMPORTED_MODULE_0__.replaceDiacritics)(token);\n    this.normalizationCache.set(key, token);\n    return token;\n}\n/* c8 ignore next 10 */ function trim(text) {\n    while(text[text.length - 1] === ''){\n        text.pop();\n    }\n    while(text[0] === ''){\n        text.shift();\n    }\n    return text;\n}\nfunction tokenize(input, language, prop) {\n    if (language && language !== this.language) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('LANGUAGE_NOT_SUPPORTED', language);\n    }\n    /* c8 ignore next 3 */ if (typeof input !== 'string') {\n        return [\n            input\n        ];\n    }\n    let tokens;\n    if (prop && this.tokenizeSkipProperties.has(prop)) {\n        tokens = [\n            this.normalizeToken.bind(this, prop ?? '')(input)\n        ];\n    } else {\n        const splitRule = _languages_js__WEBPACK_IMPORTED_MODULE_2__.SPLITTERS[this.language];\n        tokens = input.toLowerCase().split(splitRule).map(this.normalizeToken.bind(this, prop ?? '')).filter(Boolean);\n    }\n    const trimTokens = trim(tokens);\n    if (!this.allowDuplicates) {\n        return Array.from(new Set(trimTokens));\n    }\n    return trimTokens;\n}\nasync function createTokenizer(config = {}) {\n    if (!config.language) {\n        config.language = 'english';\n    } else if (!_languages_js__WEBPACK_IMPORTED_MODULE_2__.SUPPORTED_LANGUAGES.includes(config.language)) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('LANGUAGE_NOT_SUPPORTED', config.language);\n    }\n    // Handle stemming - It is disabled by default\n    let stemmer;\n    if (config.stemming || config.stemmer && !('stemming' in config)) {\n        if (config.stemmer) {\n            if (typeof config.stemmer !== 'function') {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('INVALID_STEMMER_FUNCTION_TYPE');\n            }\n            stemmer = config.stemmer;\n        } else {\n            if (config.language === 'english') {\n                stemmer = _english_stemmer_js__WEBPACK_IMPORTED_MODULE_3__.stemmer;\n            } else {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('MISSING_STEMMER', config.language);\n            }\n        }\n    }\n    // Handle stopwords\n    let stopWords;\n    if (config.stopWords !== false) {\n        stopWords = [];\n        if (Array.isArray(config.stopWords)) {\n            stopWords = config.stopWords;\n        } else if (typeof config.stopWords === 'function') {\n            stopWords = await config.stopWords(stopWords);\n        } else if (config.stopWords) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY');\n        }\n        // Make sure stopWords is just an array of strings\n        if (!Array.isArray(stopWords)) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY');\n        }\n        for (const s of stopWords){\n            if (typeof s !== 'string') {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY');\n            }\n        }\n    }\n    // Create the tokenizer\n    const tokenizer = {\n        tokenize,\n        language: config.language,\n        stemmer,\n        stemmerSkipProperties: new Set(config.stemmerSkipProperties ? [\n            config.stemmerSkipProperties\n        ].flat() : []),\n        tokenizeSkipProperties: new Set(config.tokenizeSkipProperties ? [\n            config.tokenizeSkipProperties\n        ].flat() : []),\n        stopWords,\n        allowDuplicates: Boolean(config.allowDuplicates),\n        normalizeToken,\n        normalizationCache: new Map()\n    };\n    tokenizer.tokenize = tokenize.bind(tokenizer);\n    tokenizer.normalizeToken = normalizeToken;\n    return tokenizer;\n}\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL3Rva2VuaXplci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBOEM7QUFDTTtBQUNZO0FBQ047QUFDbkQ7QUFDUDtBQUNBLG1CQUFtQixjQUFjLEdBQUcsS0FBSyxHQUFHLE1BQU07QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpRUFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsdURBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTiwwQkFBMEIsb0RBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDBDQUEwQztBQUNqRDtBQUNBO0FBQ0EsTUFBTSxVQUFVLDhEQUFtQjtBQUNuQyxjQUFjLHVEQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1REFBVztBQUNqQztBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsMEJBQTBCLHdEQUFPO0FBQ2pDLGNBQWM7QUFDZCxzQkFBc0IsdURBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsVUFBVTtBQUNWLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVc7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2NvbXBvbmVudHMvdG9rZW5pemVyL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IHJlcGxhY2VEaWFjcml0aWNzIH0gZnJvbSAnLi9kaWFjcml0aWNzLmpzJztcbmltcG9ydCB7IFNQTElUVEVSUywgU1VQUE9SVEVEX0xBTkdVQUdFUyB9IGZyb20gJy4vbGFuZ3VhZ2VzLmpzJztcbmltcG9ydCB7IHN0ZW1tZXIgYXMgZW5nbGlzaCB9IGZyb20gJy4vZW5nbGlzaC1zdGVtbWVyLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVUb2tlbihwcm9wLCB0b2tlbikge1xuICAgIHZhciBfdGhpc19zdG9wV29yZHM7XG4gICAgY29uc3Qga2V5ID0gYCR7dGhpcy5sYW5ndWFnZX06JHtwcm9wfToke3Rva2VufWA7XG4gICAgaWYgKHRoaXMubm9ybWFsaXphdGlvbkNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6YXRpb25DYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIHN0b3B3b3JkcyBpZiBlbmFibGVkXG4gICAgaWYgKChfdGhpc19zdG9wV29yZHMgPSB0aGlzLnN0b3BXb3JkcykgPT09IG51bGwgfHwgX3RoaXNfc3RvcFdvcmRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpc19zdG9wV29yZHMuaW5jbHVkZXModG9rZW4pKSB7XG4gICAgICAgIHRoaXMubm9ybWFsaXphdGlvbkNhY2hlLnNldChrZXksICcnKTtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICAvLyBBcHBseSBzdGVtbWluZyBpZiBlbmFibGVkXG4gICAgaWYgKHRoaXMuc3RlbW1lciAmJiAhdGhpcy5zdGVtbWVyU2tpcFByb3BlcnRpZXMuaGFzKHByb3ApKSB7XG4gICAgICAgIHRva2VuID0gdGhpcy5zdGVtbWVyKHRva2VuKTtcbiAgICB9XG4gICAgdG9rZW4gPSByZXBsYWNlRGlhY3JpdGljcyh0b2tlbik7XG4gICAgdGhpcy5ub3JtYWxpemF0aW9uQ2FjaGUuc2V0KGtleSwgdG9rZW4pO1xuICAgIHJldHVybiB0b2tlbjtcbn1cbi8qIGM4IGlnbm9yZSBuZXh0IDEwICovIGZ1bmN0aW9uIHRyaW0odGV4dCkge1xuICAgIHdoaWxlKHRleHRbdGV4dC5sZW5ndGggLSAxXSA9PT0gJycpe1xuICAgICAgICB0ZXh0LnBvcCgpO1xuICAgIH1cbiAgICB3aGlsZSh0ZXh0WzBdID09PSAnJyl7XG4gICAgICAgIHRleHQuc2hpZnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG5mdW5jdGlvbiB0b2tlbml6ZShpbnB1dCwgbGFuZ3VhZ2UsIHByb3ApIHtcbiAgICBpZiAobGFuZ3VhZ2UgJiYgbGFuZ3VhZ2UgIT09IHRoaXMubGFuZ3VhZ2UpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0xBTkdVQUdFX05PVF9TVVBQT1JURUQnLCBsYW5ndWFnZSk7XG4gICAgfVxuICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi8gaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGlucHV0XG4gICAgICAgIF07XG4gICAgfVxuICAgIGxldCB0b2tlbnM7XG4gICAgaWYgKHByb3AgJiYgdGhpcy50b2tlbml6ZVNraXBQcm9wZXJ0aWVzLmhhcyhwcm9wKSkge1xuICAgICAgICB0b2tlbnMgPSBbXG4gICAgICAgICAgICB0aGlzLm5vcm1hbGl6ZVRva2VuLmJpbmQodGhpcywgcHJvcCA/PyAnJykoaW5wdXQpXG4gICAgICAgIF07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3BsaXRSdWxlID0gU1BMSVRURVJTW3RoaXMubGFuZ3VhZ2VdO1xuICAgICAgICB0b2tlbnMgPSBpbnB1dC50b0xvd2VyQ2FzZSgpLnNwbGl0KHNwbGl0UnVsZSkubWFwKHRoaXMubm9ybWFsaXplVG9rZW4uYmluZCh0aGlzLCBwcm9wID8/ICcnKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgIH1cbiAgICBjb25zdCB0cmltVG9rZW5zID0gdHJpbSh0b2tlbnMpO1xuICAgIGlmICghdGhpcy5hbGxvd0R1cGxpY2F0ZXMpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldCh0cmltVG9rZW5zKSk7XG4gICAgfVxuICAgIHJldHVybiB0cmltVG9rZW5zO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRva2VuaXplcihjb25maWcgPSB7fSkge1xuICAgIGlmICghY29uZmlnLmxhbmd1YWdlKSB7XG4gICAgICAgIGNvbmZpZy5sYW5ndWFnZSA9ICdlbmdsaXNoJztcbiAgICB9IGVsc2UgaWYgKCFTVVBQT1JURURfTEFOR1VBR0VTLmluY2x1ZGVzKGNvbmZpZy5sYW5ndWFnZSkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0xBTkdVQUdFX05PVF9TVVBQT1JURUQnLCBjb25maWcubGFuZ3VhZ2UpO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgc3RlbW1pbmcgLSBJdCBpcyBkaXNhYmxlZCBieSBkZWZhdWx0XG4gICAgbGV0IHN0ZW1tZXI7XG4gICAgaWYgKGNvbmZpZy5zdGVtbWluZyB8fCBjb25maWcuc3RlbW1lciAmJiAhKCdzdGVtbWluZycgaW4gY29uZmlnKSkge1xuICAgICAgICBpZiAoY29uZmlnLnN0ZW1tZXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLnN0ZW1tZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9TVEVNTUVSX0ZVTkNUSU9OX1RZUEUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ZW1tZXIgPSBjb25maWcuc3RlbW1lcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb25maWcubGFuZ3VhZ2UgPT09ICdlbmdsaXNoJykge1xuICAgICAgICAgICAgICAgIHN0ZW1tZXIgPSBlbmdsaXNoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignTUlTU0lOR19TVEVNTUVSJywgY29uZmlnLmxhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBIYW5kbGUgc3RvcHdvcmRzXG4gICAgbGV0IHN0b3BXb3JkcztcbiAgICBpZiAoY29uZmlnLnN0b3BXb3JkcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgc3RvcFdvcmRzID0gW107XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbmZpZy5zdG9wV29yZHMpKSB7XG4gICAgICAgICAgICBzdG9wV29yZHMgPSBjb25maWcuc3RvcFdvcmRzO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb25maWcuc3RvcFdvcmRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBzdG9wV29yZHMgPSBhd2FpdCBjb25maWcuc3RvcFdvcmRzKHN0b3BXb3Jkcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnN0b3BXb3Jkcykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0NVU1RPTV9TVE9QX1dPUkRTX01VU1RfQkVfRlVOQ1RJT05fT1JfQVJSQVknKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHN1cmUgc3RvcFdvcmRzIGlzIGp1c3QgYW4gYXJyYXkgb2Ygc3RyaW5nc1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc3RvcFdvcmRzKSkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0NVU1RPTV9TVE9QX1dPUkRTX01VU1RfQkVfRlVOQ1RJT05fT1JfQVJSQVknKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHMgb2Ygc3RvcFdvcmRzKXtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcyAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgdG9rZW5pemVyXG4gICAgY29uc3QgdG9rZW5pemVyID0ge1xuICAgICAgICB0b2tlbml6ZSxcbiAgICAgICAgbGFuZ3VhZ2U6IGNvbmZpZy5sYW5ndWFnZSxcbiAgICAgICAgc3RlbW1lcixcbiAgICAgICAgc3RlbW1lclNraXBQcm9wZXJ0aWVzOiBuZXcgU2V0KGNvbmZpZy5zdGVtbWVyU2tpcFByb3BlcnRpZXMgPyBbXG4gICAgICAgICAgICBjb25maWcuc3RlbW1lclNraXBQcm9wZXJ0aWVzXG4gICAgICAgIF0uZmxhdCgpIDogW10pLFxuICAgICAgICB0b2tlbml6ZVNraXBQcm9wZXJ0aWVzOiBuZXcgU2V0KGNvbmZpZy50b2tlbml6ZVNraXBQcm9wZXJ0aWVzID8gW1xuICAgICAgICAgICAgY29uZmlnLnRva2VuaXplU2tpcFByb3BlcnRpZXNcbiAgICAgICAgXS5mbGF0KCkgOiBbXSksXG4gICAgICAgIHN0b3BXb3JkcyxcbiAgICAgICAgYWxsb3dEdXBsaWNhdGVzOiBCb29sZWFuKGNvbmZpZy5hbGxvd0R1cGxpY2F0ZXMpLFxuICAgICAgICBub3JtYWxpemVUb2tlbixcbiAgICAgICAgbm9ybWFsaXphdGlvbkNhY2hlOiBuZXcgTWFwKClcbiAgICB9O1xuICAgIHRva2VuaXplci50b2tlbml6ZSA9IHRva2VuaXplLmJpbmQodG9rZW5pemVyKTtcbiAgICB0b2tlbml6ZXIubm9ybWFsaXplVG9rZW4gPSBub3JtYWxpemVUb2tlbjtcbiAgICByZXR1cm4gdG9rZW5pemVyO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/languages.js":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/languages.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SPLITTERS: () => (/* binding */ SPLITTERS),\n/* harmony export */   STEMMERS: () => (/* binding */ STEMMERS),\n/* harmony export */   SUPPORTED_LANGUAGES: () => (/* binding */ SUPPORTED_LANGUAGES),\n/* harmony export */   getLocale: () => (/* binding */ getLocale)\n/* harmony export */ });\nconst STEMMERS = {\n    arabic: 'ar',\n    armenian: 'am',\n    bulgarian: 'bg',\n    danish: 'dk',\n    dutch: 'nl',\n    english: 'en',\n    finnish: 'fi',\n    french: 'fr',\n    german: 'de',\n    greek: 'gr',\n    hungarian: 'hu',\n    indian: 'in',\n    indonesian: 'id',\n    irish: 'ie',\n    italian: 'it',\n    lithuanian: 'lt',\n    nepali: 'np',\n    norwegian: 'no',\n    portuguese: 'pt',\n    romanian: 'ro',\n    russian: 'ru',\n    serbian: 'rs',\n    slovenian: 'ru',\n    spanish: 'es',\n    swedish: 'se',\n    tamil: 'ta',\n    turkish: 'tr',\n    ukrainian: 'uk',\n    sanskrit: 'sk'\n};\nconst SPLITTERS = {\n    dutch: /[^A-Za-z0-9_'-]+/gim,\n    english: /[^A-Za-z0-9_'-]+/gim,\n    french: /[^a-z0-9-]+/gim,\n    italian: /[^A-Za-z0-9_'-]+/gim,\n    norwegian: /[^a-z0-9_]+/gim,\n    portuguese: /[^a-z0-9--]/gim,\n    russian: /[^a-z0-9--]+/gim,\n    spanish: /[^a-z0-9A-Z--]+/gim,\n    swedish: /[^a-z0-9_-]+/gim,\n    german: /[^a-z0-9A-Z]+/gim,\n    finnish: /[^a-z0-9]+/gim,\n    danish: /[^a-z0-9]+/gim,\n    hungarian: /[^a-z0-9]+/gim,\n    romanian: /[^a-z0-9]+/gim,\n    serbian: /[^a-z0-9]+/gim,\n    turkish: /[^a-z0-9]+/gim,\n    lithuanian: /[^a-z0-9]+/gim,\n    arabic: /[^a-z0-9-]+/gim,\n    nepali: /[^a-z0-9-]+/gim,\n    irish: /[^a-z0-9]+/gim,\n    indian: /[^a-z0-9-]+/gim,\n    armenian: /[^a-z0-9-]+/gim,\n    greek: /[^a-z0-9--]+/gim,\n    indonesian: /[^a-z0-9]+/gim,\n    ukrainian: /[^a-z0-9--]+/gim,\n    slovenian: /[^a-z0-9]+/gim,\n    bulgarian: /[^a-z0-9--]+/gim,\n    tamil: /[^a-z0-9-]+/gim,\n    sanskrit: /[^a-z0-9A-Z]+/gim\n};\nconst SUPPORTED_LANGUAGES = Object.keys(STEMMERS);\nfunction getLocale(language) {\n    return language !== undefined && SUPPORTED_LANGUAGES.includes(language) ? STEMMERS[language] : undefined;\n}\n\n//# sourceMappingURL=languages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb21wb25lbnRzL3Rva2VuaXplci9sYW5ndWFnZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvY29tcG9uZW50cy90b2tlbml6ZXIvbGFuZ3VhZ2VzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBTVEVNTUVSUyA9IHtcbiAgICBhcmFiaWM6ICdhcicsXG4gICAgYXJtZW5pYW46ICdhbScsXG4gICAgYnVsZ2FyaWFuOiAnYmcnLFxuICAgIGRhbmlzaDogJ2RrJyxcbiAgICBkdXRjaDogJ25sJyxcbiAgICBlbmdsaXNoOiAnZW4nLFxuICAgIGZpbm5pc2g6ICdmaScsXG4gICAgZnJlbmNoOiAnZnInLFxuICAgIGdlcm1hbjogJ2RlJyxcbiAgICBncmVlazogJ2dyJyxcbiAgICBodW5nYXJpYW46ICdodScsXG4gICAgaW5kaWFuOiAnaW4nLFxuICAgIGluZG9uZXNpYW46ICdpZCcsXG4gICAgaXJpc2g6ICdpZScsXG4gICAgaXRhbGlhbjogJ2l0JyxcbiAgICBsaXRodWFuaWFuOiAnbHQnLFxuICAgIG5lcGFsaTogJ25wJyxcbiAgICBub3J3ZWdpYW46ICdubycsXG4gICAgcG9ydHVndWVzZTogJ3B0JyxcbiAgICByb21hbmlhbjogJ3JvJyxcbiAgICBydXNzaWFuOiAncnUnLFxuICAgIHNlcmJpYW46ICdycycsXG4gICAgc2xvdmVuaWFuOiAncnUnLFxuICAgIHNwYW5pc2g6ICdlcycsXG4gICAgc3dlZGlzaDogJ3NlJyxcbiAgICB0YW1pbDogJ3RhJyxcbiAgICB0dXJraXNoOiAndHInLFxuICAgIHVrcmFpbmlhbjogJ3VrJyxcbiAgICBzYW5za3JpdDogJ3NrJ1xufTtcbmV4cG9ydCBjb25zdCBTUExJVFRFUlMgPSB7XG4gICAgZHV0Y2g6IC9bXkEtWmEtesOgw6jDqcOsw7LDs8O5MC05XyctXSsvZ2ltLFxuICAgIGVuZ2xpc2g6IC9bXkEtWmEtesOgw6jDqcOsw7LDs8O5MC05XyctXSsvZ2ltLFxuICAgIGZyZW5jaDogL1teYS16MC05w6TDosOgw6nDqMOrw6rDr8Ouw7bDtMO5w7zDu8WTw6ctXSsvZ2ltLFxuICAgIGl0YWxpYW46IC9bXkEtWmEtesOgw6jDqcOsw7LDs8O5MC05XyctXSsvZ2ltLFxuICAgIG5vcndlZ2lhbjogL1teYS16MC05X8Omw7jDpcOGw5jDhcOkw4TDtsOWw7zDnF0rL2dpbSxcbiAgICBwb3J0dWd1ZXNlOiAvW15hLXowLTnDoC3DusOALcOaXS9naW0sXG4gICAgcnVzc2lhbjogL1teYS16MC050LAt0Y/QkC3Qr9GR0IFdKy9naW0sXG4gICAgc3BhbmlzaDogL1teYS16MC05QS1aw6Etw7rDgS3DmsOxw5HDvMOcXSsvZ2ltLFxuICAgIHN3ZWRpc2g6IC9bXmEtejAtOV/DpcOFw6TDhMO2w5bDvMOcLV0rL2dpbSxcbiAgICBnZXJtYW46IC9bXmEtejAtOUEtWsOkw7bDvMOEw5bDnMOfXSsvZ2ltLFxuICAgIGZpbm5pc2g6IC9bXmEtejAtOcOkw7bDhMOWXSsvZ2ltLFxuICAgIGRhbmlzaDogL1teYS16MC05w6bDuMOlw4bDmMOFXSsvZ2ltLFxuICAgIGh1bmdhcmlhbjogL1teYS16MC05w6HDqcOtw7PDtsWRw7rDvMWxw4HDicONw5PDlsWQw5rDnMWwXSsvZ2ltLFxuICAgIHJvbWFuaWFuOiAvW15hLXowLTnEg8Oiw67ImcibxILDgsOOyJjIml0rL2dpbSxcbiAgICBzZXJiaWFuOiAvW15hLXowLTnEjcSHxb7FocSRxIzEhsW9xaDEkF0rL2dpbSxcbiAgICB0dXJraXNoOiAvW15hLXowLTnDp8OHxJ/EnsSxxLDDtsOWxZ/FnsO8w5xdKy9naW0sXG4gICAgbGl0aHVhbmlhbjogL1teYS16MC05xIXEjcSZxJfEr8WhxbPFq8W+xITEjMSYxJbErsWgxbLFqsW9XSsvZ2ltLFxuICAgIGFyYWJpYzogL1teYS16MC052KMt2YpdKy9naW0sXG4gICAgbmVwYWxpOiAvW15hLXowLTngpIUt4KS5XSsvZ2ltLFxuICAgIGlyaXNoOiAvW15hLXowLTnDocOpw63Ds8O6w4HDicONw5PDml0rL2dpbSxcbiAgICBpbmRpYW46IC9bXmEtejAtOeCkhS3gpLldKy9naW0sXG4gICAgYXJtZW5pYW46IC9bXmEtejAtOdWhLdaGXSsvZ2ltLFxuICAgIGdyZWVrOiAvW15hLXowLTnOsS3Pic6sLc+OXSsvZ2ltLFxuICAgIGluZG9uZXNpYW46IC9bXmEtejAtOV0rL2dpbSxcbiAgICB1a3JhaW5pYW46IC9bXmEtejAtOdCwLdGP0JAt0K/RltGX0ZTQhtCH0IRdKy9naW0sXG4gICAgc2xvdmVuaWFuOiAvW15hLXowLTnEjcW+xaHEjMW9xaBdKy9naW0sXG4gICAgYnVsZ2FyaWFuOiAvW15hLXowLTnQsC3Rj9CQLdCvXSsvZ2ltLFxuICAgIHRhbWlsOiAvW15hLXowLTngroUt4K65XSsvZ2ltLFxuICAgIHNhbnNrcml0OiAvW15hLXowLTlBLVrEgcSrxavhuZvhuLfhuYPhuYHhuKXFm+G5o+G5reG4jeG5h+G5hcOx4bi74bi54bmdXSsvZ2ltXG59O1xuZXhwb3J0IGNvbnN0IFNVUFBPUlRFRF9MQU5HVUFHRVMgPSBPYmplY3Qua2V5cyhTVEVNTUVSUyk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYWxlKGxhbmd1YWdlKSB7XG4gICAgcmV0dXJuIGxhbmd1YWdlICE9PSB1bmRlZmluZWQgJiYgU1VQUE9SVEVEX0xBTkdVQUdFUy5pbmNsdWRlcyhsYW5ndWFnZSkgPyBTVEVNTUVSU1tsYW5ndWFnZV0gOiB1bmRlZmluZWQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhbmd1YWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/languages.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/constants.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/constants.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MODE_FULLTEXT_SEARCH: () => (/* binding */ MODE_FULLTEXT_SEARCH),\n/* harmony export */   MODE_HYBRID_SEARCH: () => (/* binding */ MODE_HYBRID_SEARCH),\n/* harmony export */   MODE_VECTOR_SEARCH: () => (/* binding */ MODE_VECTOR_SEARCH)\n/* harmony export */ });\nconst MODE_FULLTEXT_SEARCH = 'fulltext';\nconst MODE_HYBRID_SEARCH = 'hybrid';\nconst MODE_VECTOR_SEARCH = 'vector';\n\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU87QUFDQTtBQUNBOztBQUVQIiwic291cmNlcyI6WyIvVXNlcnMvbXJiYWQvdmliZXByb2plY3RzL2Vhenl0YWJsZS9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IE1PREVfRlVMTFRFWFRfU0VBUkNIID0gJ2Z1bGx0ZXh0JztcbmV4cG9ydCBjb25zdCBNT0RFX0hZQlJJRF9TRUFSQ0ggPSAnaHlicmlkJztcbmV4cG9ydCBjb25zdCBNT0RFX1ZFQ1RPUl9TRUFSQ0ggPSAndmVjdG9yJztcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/constants.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js":
/*!*****************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createError: () => (/* binding */ createError)\n/* harmony export */ });\n/* harmony import */ var _components_tokenizer_languages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/tokenizer/languages.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/languages.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n\n\nconst allLanguages = _components_tokenizer_languages_js__WEBPACK_IMPORTED_MODULE_0__.SUPPORTED_LANGUAGES.join('\\n - ');\nconst errors = {\n    NO_LANGUAGE_WITH_CUSTOM_TOKENIZER: 'Do not pass the language option to create when using a custom tokenizer.',\n    LANGUAGE_NOT_SUPPORTED: `Language \"%s\" is not supported.\\nSupported languages are:\\n - ${allLanguages}`,\n    INVALID_STEMMER_FUNCTION_TYPE: `config.stemmer property must be a function.`,\n    MISSING_STEMMER: `As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the \"%s\" stemmer from the package @orama/stemmers. See https://docs.oramasearch.com/open-source/text-analysis/stemming for more information.`,\n    CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY: 'Custom stop words array must only contain strings.',\n    UNSUPPORTED_COMPONENT: `Unsupported component \"%s\".`,\n    COMPONENT_MUST_BE_FUNCTION: `The component \"%s\" must be a function.`,\n    COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS: `The component \"%s\" must be a function or an array of functions.`,\n    INVALID_SCHEMA_TYPE: `Unsupported schema type \"%s\" at \"%s\". Expected \"string\", \"boolean\" or \"number\" or array of them.`,\n    DOCUMENT_ID_MUST_BE_STRING: `Document id must be of type \"string\". Got \"%s\" instead.`,\n    DOCUMENT_ALREADY_EXISTS: `A document with id \"%s\" already exists.`,\n    DOCUMENT_DOES_NOT_EXIST: `A document with id \"%s\" does not exists.`,\n    MISSING_DOCUMENT_PROPERTY: `Missing searchable property \"%s\".`,\n    INVALID_DOCUMENT_PROPERTY: `Invalid document property \"%s\": expected \"%s\", got \"%s\"`,\n    UNKNOWN_INDEX: `Invalid property name \"%s\". Expected a wildcard string (\"*\") or array containing one of the following properties: %s`,\n    INVALID_BOOST_VALUE: `Boost value must be a number greater than, or less than 0.`,\n    INVALID_FILTER_OPERATION: `You can only use one operation per filter, you requested %d.`,\n    SCHEMA_VALIDATION_FAILURE: `Cannot insert document due schema validation failure on \"%s\" property.`,\n    INVALID_SORT_SCHEMA_TYPE: `Unsupported sort schema type \"%s\" at \"%s\". Expected \"string\" or \"number\".`,\n    CANNOT_SORT_BY_ARRAY: `Cannot configure sort for \"%s\" because it is an array (%s).`,\n    UNABLE_TO_SORT_ON_UNKNOWN_FIELD: `Unable to sort on unknown field \"%s\". Allowed fields: %s`,\n    SORT_DISABLED: `Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.`,\n    UNKNOWN_GROUP_BY_PROPERTY: `Unknown groupBy property \"%s\".`,\n    INVALID_GROUP_BY_PROPERTY: `Invalid groupBy property \"%s\". Allowed types: \"%s\", but given \"%s\".`,\n    UNKNOWN_FILTER_PROPERTY: `Unknown filter property \"%s\".`,\n    INVALID_VECTOR_SIZE: `Vector size must be a number greater than 0. Got \"%s\" instead.`,\n    INVALID_VECTOR_VALUE: `Vector value must be a number greater than 0. Got \"%s\" instead.`,\n    INVALID_INPUT_VECTOR: `Property \"%s\" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.\\nInput vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,\n    WRONG_SEARCH_PROPERTY_TYPE: `Property \"%s\" is not searchable. Only \"string\" properties are searchable.`,\n    FACET_NOT_SUPPORTED: `Facet doens't support the type \"%s\".`,\n    INVALID_DISTANCE_SUFFIX: `Invalid distance suffix \"%s\". Valid suffixes are: cm, m, km, mi, yd, ft.`,\n    INVALID_SEARCH_MODE: `Invalid search mode \"%s\". Valid modes are: \"fulltext\", \"vector\", \"hybrid\".`,\n    MISSING_VECTOR_AND_SECURE_PROXY: `No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.`,\n    MISSING_TERM: `\"term\" is a required parameter when performing hybrid search. Please provide a search term.`,\n    INVALID_VECTOR_INPUT: `Invalid \"vector\" property. Expected an object with \"value\" and \"property\" properties, but got \"%s\" instead.`,\n    PLUGIN_CRASHED: `A plugin crashed during initialization. Please check the error message for more information:`\n};\nfunction createError(code, ...args) {\n    const error = new Error((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.sprintf)(errors[code] ?? `Unsupported Orama Error code: ${code}`, ...args));\n    error.code = code;\n    if ('captureStackTrace' in Error.prototype) {\n        Error.captureStackTrace(error);\n    }\n    return error;\n}\n\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBFO0FBQ3JDO0FBQ3JDLHFCQUFxQixtRkFBbUI7QUFDeEM7QUFDQTtBQUNBLDZGQUE2RixhQUFhO0FBQzFHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDRCQUE0QixrREFBTyxrREFBa0QsS0FBSztBQUMxRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Vycm9ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTVVBQT1JURURfTEFOR1VBR0VTIH0gZnJvbSAnLi9jb21wb25lbnRzL3Rva2VuaXplci9sYW5ndWFnZXMuanMnO1xuaW1wb3J0IHsgc3ByaW50ZiB9IGZyb20gJy4vdXRpbHMuanMnO1xuY29uc3QgYWxsTGFuZ3VhZ2VzID0gU1VQUE9SVEVEX0xBTkdVQUdFUy5qb2luKCdcXG4gLSAnKTtcbmNvbnN0IGVycm9ycyA9IHtcbiAgICBOT19MQU5HVUFHRV9XSVRIX0NVU1RPTV9UT0tFTklaRVI6ICdEbyBub3QgcGFzcyB0aGUgbGFuZ3VhZ2Ugb3B0aW9uIHRvIGNyZWF0ZSB3aGVuIHVzaW5nIGEgY3VzdG9tIHRva2VuaXplci4nLFxuICAgIExBTkdVQUdFX05PVF9TVVBQT1JURUQ6IGBMYW5ndWFnZSBcIiVzXCIgaXMgbm90IHN1cHBvcnRlZC5cXG5TdXBwb3J0ZWQgbGFuZ3VhZ2VzIGFyZTpcXG4gLSAke2FsbExhbmd1YWdlc31gLFxuICAgIElOVkFMSURfU1RFTU1FUl9GVU5DVElPTl9UWVBFOiBgY29uZmlnLnN0ZW1tZXIgcHJvcGVydHkgbXVzdCBiZSBhIGZ1bmN0aW9uLmAsXG4gICAgTUlTU0lOR19TVEVNTUVSOiBgQXMgb2YgdmVyc2lvbiAxLjAuMCBAb3JhbWEvb3JhbWEgZG9lcyBub3Qgc2hpcCBub24gRW5nbGlzaCBzdGVtbWVycyBieSBkZWZhdWx0LiBUbyBzb2x2ZSB0aGlzLCBwbGVhc2UgZXhwbGljaXRseSBpbXBvcnQgYW5kIHNwZWNpZnkgdGhlIFwiJXNcIiBzdGVtbWVyIGZyb20gdGhlIHBhY2thZ2UgQG9yYW1hL3N0ZW1tZXJzLiBTZWUgaHR0cHM6Ly9kb2NzLm9yYW1hc2VhcmNoLmNvbS9vcGVuLXNvdXJjZS90ZXh0LWFuYWx5c2lzL3N0ZW1taW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLmAsXG4gICAgQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWTogJ0N1c3RvbSBzdG9wIHdvcmRzIGFycmF5IG11c3Qgb25seSBjb250YWluIHN0cmluZ3MuJyxcbiAgICBVTlNVUFBPUlRFRF9DT01QT05FTlQ6IGBVbnN1cHBvcnRlZCBjb21wb25lbnQgXCIlc1wiLmAsXG4gICAgQ09NUE9ORU5UX01VU1RfQkVfRlVOQ1RJT046IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24uYCxcbiAgICBDT01QT05FTlRfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWV9GVU5DVElPTlM6IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYW4gYXJyYXkgb2YgZnVuY3Rpb25zLmAsXG4gICAgSU5WQUxJRF9TQ0hFTUFfVFlQRTogYFVuc3VwcG9ydGVkIHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIsIFwiYm9vbGVhblwiIG9yIFwibnVtYmVyXCIgb3IgYXJyYXkgb2YgdGhlbS5gLFxuICAgIERPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HOiBgRG9jdW1lbnQgaWQgbXVzdCBiZSBvZiB0eXBlIFwic3RyaW5nXCIuIEdvdCBcIiVzXCIgaW5zdGVhZC5gLFxuICAgIERPQ1VNRU5UX0FMUkVBRFlfRVhJU1RTOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBhbHJlYWR5IGV4aXN0cy5gLFxuICAgIERPQ1VNRU5UX0RPRVNfTk9UX0VYSVNUOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBkb2VzIG5vdCBleGlzdHMuYCxcbiAgICBNSVNTSU5HX0RPQ1VNRU5UX1BST1BFUlRZOiBgTWlzc2luZyBzZWFyY2hhYmxlIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfRE9DVU1FTlRfUFJPUEVSVFk6IGBJbnZhbGlkIGRvY3VtZW50IHByb3BlcnR5IFwiJXNcIjogZXhwZWN0ZWQgXCIlc1wiLCBnb3QgXCIlc1wiYCxcbiAgICBVTktOT1dOX0lOREVYOiBgSW52YWxpZCBwcm9wZXJ0eSBuYW1lIFwiJXNcIi4gRXhwZWN0ZWQgYSB3aWxkY2FyZCBzdHJpbmcgKFwiKlwiKSBvciBhcnJheSBjb250YWluaW5nIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6ICVzYCxcbiAgICBJTlZBTElEX0JPT1NUX1ZBTFVFOiBgQm9vc3QgdmFsdWUgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4sIG9yIGxlc3MgdGhhbiAwLmAsXG4gICAgSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OOiBgWW91IGNhbiBvbmx5IHVzZSBvbmUgb3BlcmF0aW9uIHBlciBmaWx0ZXIsIHlvdSByZXF1ZXN0ZWQgJWQuYCxcbiAgICBTQ0hFTUFfVkFMSURBVElPTl9GQUlMVVJFOiBgQ2Fubm90IGluc2VydCBkb2N1bWVudCBkdWUgc2NoZW1hIHZhbGlkYXRpb24gZmFpbHVyZSBvbiBcIiVzXCIgcHJvcGVydHkuYCxcbiAgICBJTlZBTElEX1NPUlRfU0NIRU1BX1RZUEU6IGBVbnN1cHBvcnRlZCBzb3J0IHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIgb3IgXCJudW1iZXJcIi5gLFxuICAgIENBTk5PVF9TT1JUX0JZX0FSUkFZOiBgQ2Fubm90IGNvbmZpZ3VyZSBzb3J0IGZvciBcIiVzXCIgYmVjYXVzZSBpdCBpcyBhbiBhcnJheSAoJXMpLmAsXG4gICAgVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRDogYFVuYWJsZSB0byBzb3J0IG9uIHVua25vd24gZmllbGQgXCIlc1wiLiBBbGxvd2VkIGZpZWxkczogJXNgLFxuICAgIFNPUlRfRElTQUJMRUQ6IGBTb3J0IGlzIGRpc2FibGVkLiBQbGVhc2UgcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBhdCBodHRwczovL2RvY3Mub3JhbWFzZWFyY2ggZm9yIG1vcmUgaW5mb3JtYXRpb24uYCxcbiAgICBVTktOT1dOX0dST1VQX0JZX1BST1BFUlRZOiBgVW5rbm93biBncm91cEJ5IHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfR1JPVVBfQllfUFJPUEVSVFk6IGBJbnZhbGlkIGdyb3VwQnkgcHJvcGVydHkgXCIlc1wiLiBBbGxvd2VkIHR5cGVzOiBcIiVzXCIsIGJ1dCBnaXZlbiBcIiVzXCIuYCxcbiAgICBVTktOT1dOX0ZJTFRFUl9QUk9QRVJUWTogYFVua25vd24gZmlsdGVyIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfVkVDVE9SX1NJWkU6IGBWZWN0b3Igc2l6ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX1ZFQ1RPUl9WQUxVRTogYFZlY3RvciB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX0lOUFVUX1ZFQ1RPUjogYFByb3BlcnR5IFwiJXNcIiB3YXMgZGVjbGFyZWQgYXMgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IsIGJ1dCBnb3QgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IgaW5zdGVhZC5cXG5JbnB1dCB2ZWN0b3JzIG11c3QgYmUgb2YgdGhlIHNpemUgZGVjbGFyZWQgaW4gdGhlIHNjaGVtYSwgYXMgY2FsY3VsYXRpbmcgc2ltaWxhcml0eSBiZXR3ZWVuIHZlY3RvcnMgb2YgZGlmZmVyZW50IHNpemVzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgcmVzdWx0cy5gLFxuICAgIFdST05HX1NFQVJDSF9QUk9QRVJUWV9UWVBFOiBgUHJvcGVydHkgXCIlc1wiIGlzIG5vdCBzZWFyY2hhYmxlLiBPbmx5IFwic3RyaW5nXCIgcHJvcGVydGllcyBhcmUgc2VhcmNoYWJsZS5gLFxuICAgIEZBQ0VUX05PVF9TVVBQT1JURUQ6IGBGYWNldCBkb2Vucyd0IHN1cHBvcnQgdGhlIHR5cGUgXCIlc1wiLmAsXG4gICAgSU5WQUxJRF9ESVNUQU5DRV9TVUZGSVg6IGBJbnZhbGlkIGRpc3RhbmNlIHN1ZmZpeCBcIiVzXCIuIFZhbGlkIHN1ZmZpeGVzIGFyZTogY20sIG0sIGttLCBtaSwgeWQsIGZ0LmAsXG4gICAgSU5WQUxJRF9TRUFSQ0hfTU9ERTogYEludmFsaWQgc2VhcmNoIG1vZGUgXCIlc1wiLiBWYWxpZCBtb2RlcyBhcmU6IFwiZnVsbHRleHRcIiwgXCJ2ZWN0b3JcIiwgXCJoeWJyaWRcIi5gLFxuICAgIE1JU1NJTkdfVkVDVE9SX0FORF9TRUNVUkVfUFJPWFk6IGBObyB2ZWN0b3Igd2FzIHByb3ZpZGVkIGFuZCBubyBzZWN1cmUgcHJveHkgd2FzIGNvbmZpZ3VyZWQuIFBsZWFzZSBwcm92aWRlIGEgdmVjdG9yIG9yIGNvbmZpZ3VyZSBhbiBPcmFtYSBTZWN1cmUgUHJveHkgdG8gcGVyZm9ybSBoeWJyaWQgc2VhcmNoLmAsXG4gICAgTUlTU0lOR19URVJNOiBgXCJ0ZXJtXCIgaXMgYSByZXF1aXJlZCBwYXJhbWV0ZXIgd2hlbiBwZXJmb3JtaW5nIGh5YnJpZCBzZWFyY2guIFBsZWFzZSBwcm92aWRlIGEgc2VhcmNoIHRlcm0uYCxcbiAgICBJTlZBTElEX1ZFQ1RPUl9JTlBVVDogYEludmFsaWQgXCJ2ZWN0b3JcIiBwcm9wZXJ0eS4gRXhwZWN0ZWQgYW4gb2JqZWN0IHdpdGggXCJ2YWx1ZVwiIGFuZCBcInByb3BlcnR5XCIgcHJvcGVydGllcywgYnV0IGdvdCBcIiVzXCIgaW5zdGVhZC5gLFxuICAgIFBMVUdJTl9DUkFTSEVEOiBgQSBwbHVnaW4gY3Jhc2hlZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uIFBsZWFzZSBjaGVjayB0aGUgZXJyb3IgbWVzc2FnZSBmb3IgbW9yZSBpbmZvcm1hdGlvbjpgXG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKGNvZGUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihzcHJpbnRmKGVycm9yc1tjb2RlXSA/PyBgVW5zdXBwb3J0ZWQgT3JhbWEgRXJyb3IgY29kZTogJHtjb2RlfWAsIC4uLmFyZ3MpKTtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgICBpZiAoJ2NhcHR1cmVTdGFja1RyYWNlJyBpbiBFcnJvci5wcm90b3R5cGUpIHtcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3I7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/create.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/create.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: () => (/* binding */ create)\n/* harmony export */ });\n/* harmony import */ var _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/defaults.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/defaults.js\");\n/* harmony import */ var _components_defaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n/* harmony import */ var _components_documents_store_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/documents-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/documents-store.js\");\n/* harmony import */ var _components_plugins_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/plugins.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/plugins.js\");\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/hooks.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/index.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/index.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\");\n/* harmony import */ var _components_sorter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/sorter.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/sorter.js\");\n/* harmony import */ var _components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/tokenizer/index.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/tokenizer/index.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n\n\n\n\n\n\n\n\n\n\nfunction validateComponents(components) {\n    const defaultComponents = {\n        formatElapsedTime: _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.formatElapsedTime,\n        getDocumentIndexId: _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.getDocumentIndexId,\n        getDocumentProperties: _components_defaults_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentProperties,\n        validateSchema: _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.validateSchema\n    };\n    for (const rawKey of _components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.FUNCTION_COMPONENTS){\n        const key = rawKey;\n        if (components[key]) {\n            if (typeof components[key] !== 'function') {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_3__.createError)('COMPONENT_MUST_BE_FUNCTION', key);\n            }\n        } else {\n            // @ts-expect-error TSC is unable to resolve this\n            components[key] = defaultComponents[key];\n        }\n    }\n    for (const rawKey of Object.keys(components)){\n        if (!_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.OBJECT_COMPONENTS.includes(rawKey) && !_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.FUNCTION_COMPONENTS.includes(rawKey)) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_3__.createError)('UNSUPPORTED_COMPONENT', rawKey);\n        }\n    }\n}\nasync function create({ schema , sort , language , components , id , plugins  }) {\n    if (!components) {\n        components = {};\n    }\n    if (!id) {\n        id = await (0,_components_defaults_js__WEBPACK_IMPORTED_MODULE_1__.uniqueId)();\n    }\n    let tokenizer = components.tokenizer;\n    let index = components.index;\n    let documentsStore = components.documentsStore;\n    let sorter = components.sorter;\n    if (!tokenizer) {\n        // Use the default tokenizer\n        tokenizer = await (0,_components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_4__.createTokenizer)({\n            language: language ?? 'english'\n        });\n    } else if (!tokenizer.tokenize) {\n        // If there is no tokenizer function, we assume this is a TokenizerConfig\n        tokenizer = await (0,_components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_4__.createTokenizer)(tokenizer);\n    } else {\n        const customTokenizer = tokenizer;\n        tokenizer = customTokenizer;\n    }\n    if (components.tokenizer && language) {\n        // Accept language only if a tokenizer is not provided\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_3__.createError)('NO_LANGUAGE_WITH_CUSTOM_TOKENIZER');\n    }\n    const internalDocumentStore = (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__.createInternalDocumentIDStore)();\n    index ||= await (0,_components_index_js__WEBPACK_IMPORTED_MODULE_6__.createIndex)();\n    sorter ||= await (0,_components_sorter_js__WEBPACK_IMPORTED_MODULE_7__.createSorter)();\n    documentsStore ||= await (0,_components_documents_store_js__WEBPACK_IMPORTED_MODULE_8__.createDocumentsStore)();\n    // Validate all other components\n    validateComponents(components);\n    // Assign only recognized components and hooks\n    const { getDocumentProperties , getDocumentIndexId , validateSchema , formatElapsedTime  } = components;\n    const orama = {\n        data: {},\n        caches: {},\n        schema,\n        tokenizer,\n        index,\n        sorter,\n        documentsStore,\n        internalDocumentIDStore: internalDocumentStore,\n        getDocumentProperties,\n        getDocumentIndexId,\n        validateSchema,\n        beforeInsert: [],\n        afterInsert: [],\n        beforeRemove: [],\n        afterRemove: [],\n        beforeUpdate: [],\n        afterUpdate: [],\n        beforeSearch: [],\n        afterSearch: [],\n        beforeInsertMultiple: [],\n        afterInsertMultiple: [],\n        beforeRemoveMultiple: [],\n        afterRemoveMultiple: [],\n        afterUpdateMultiple: [],\n        beforeUpdateMultiple: [],\n        afterCreate: [],\n        formatElapsedTime,\n        id,\n        plugins,\n        version: getVersion()\n    };\n    orama.data = {\n        index: await orama.index.create(orama, internalDocumentStore, schema),\n        docs: await orama.documentsStore.create(orama, internalDocumentStore),\n        sorting: await orama.sorter.create(orama, internalDocumentStore, schema, sort)\n    };\n    for (const hook of _components_plugins_js__WEBPACK_IMPORTED_MODULE_9__.AVAILABLE_PLUGIN_HOOKS){\n        orama[hook] = (orama[hook] ?? []).concat(await (0,_components_plugins_js__WEBPACK_IMPORTED_MODULE_9__.getAllPluginsByHook)(orama, hook));\n    }\n    const afterCreate = orama['afterCreate'];\n    if (afterCreate) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.runAfterCreate)(afterCreate, orama);\n    }\n    return orama;\n}\nfunction getVersion() {\n    return '2.1.1';\n}\n\n//# sourceMappingURL=create.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL2NyZWF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF5SDtBQUNqRDtBQUNlO0FBQ1M7QUFDM0M7QUFDdUM7QUFDckM7QUFDWTtBQUN4QjtBQUNKO0FBQ3ZDO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsMEJBQTBCO0FBQzFCLDZCQUE2QjtBQUM3QixzQkFBc0I7QUFDdEI7QUFDQSx5QkFBeUIscUVBQW1CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1REFBVztBQUNqQztBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtRUFBaUIsc0JBQXNCLHFFQUFtQjtBQUN2RSxrQkFBa0IsdURBQVc7QUFDN0I7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLHVEQUF1RDtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpRUFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwrRUFBZTtBQUN6QztBQUNBLFNBQVM7QUFDVCxNQUFNO0FBQ047QUFDQSwwQkFBMEIsK0VBQWU7QUFDekMsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHVEQUFXO0FBQ3pCO0FBQ0Esa0NBQWtDLHdHQUE2QjtBQUMvRCxvQkFBb0IsaUVBQVc7QUFDL0IscUJBQXFCLG1FQUFZO0FBQ2pDLDZCQUE2QixvRkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSxtRkFBbUY7QUFDL0Y7QUFDQSxnQkFBZ0I7QUFDaEIsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBFQUFzQjtBQUM3Qyx1REFBdUQsMkVBQW1CO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLGNBQWMsb0VBQWM7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbXJiYWQvdmliZXByb2plY3RzL2Vhenl0YWJsZS9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL2NyZWF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXRFbGFwc2VkVGltZSwgZ2V0RG9jdW1lbnRJbmRleElkLCBnZXREb2N1bWVudFByb3BlcnRpZXMsIHZhbGlkYXRlU2NoZW1hIH0gZnJvbSAnLi4vY29tcG9uZW50cy9kZWZhdWx0cy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVEb2N1bWVudHNTdG9yZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvZG9jdW1lbnRzLXN0b3JlLmpzJztcbmltcG9ydCB7IEFWQUlMQUJMRV9QTFVHSU5fSE9PS1MsIGdldEFsbFBsdWdpbnNCeUhvb2sgfSBmcm9tICcuLi9jb21wb25lbnRzL3BsdWdpbnMuanMnO1xuaW1wb3J0IHsgRlVOQ1RJT05fQ09NUE9ORU5UUywgT0JKRUNUX0NPTVBPTkVOVFMsIHJ1bkFmdGVyQ3JlYXRlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVJbmRleCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW5kZXguanMnO1xuaW1wb3J0IHsgY3JlYXRlSW50ZXJuYWxEb2N1bWVudElEU3RvcmUgfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmltcG9ydCB7IGNyZWF0ZVNvcnRlciB9IGZyb20gJy4uL2NvbXBvbmVudHMvc29ydGVyLmpzJztcbmltcG9ydCB7IGNyZWF0ZVRva2VuaXplciB9IGZyb20gJy4uL2NvbXBvbmVudHMvdG9rZW5pemVyL2luZGV4LmpzJztcbmltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IHVuaXF1ZUlkIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnRzKGNvbXBvbmVudHMpIHtcbiAgICBjb25zdCBkZWZhdWx0Q29tcG9uZW50cyA9IHtcbiAgICAgICAgZm9ybWF0RWxhcHNlZFRpbWUsXG4gICAgICAgIGdldERvY3VtZW50SW5kZXhJZCxcbiAgICAgICAgZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzLFxuICAgICAgICB2YWxpZGF0ZVNjaGVtYVxuICAgIH07XG4gICAgZm9yIChjb25zdCByYXdLZXkgb2YgRlVOQ1RJT05fQ09NUE9ORU5UUyl7XG4gICAgICAgIGNvbnN0IGtleSA9IHJhd0tleTtcbiAgICAgICAgaWYgKGNvbXBvbmVudHNba2V5XSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb21wb25lbnRzW2tleV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQ09NUE9ORU5UX01VU1RfQkVfRlVOQ1RJT04nLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUU0MgaXMgdW5hYmxlIHRvIHJlc29sdmUgdGhpc1xuICAgICAgICAgICAgY29tcG9uZW50c1trZXldID0gZGVmYXVsdENvbXBvbmVudHNba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHJhd0tleSBvZiBPYmplY3Qua2V5cyhjb21wb25lbnRzKSl7XG4gICAgICAgIGlmICghT0JKRUNUX0NPTVBPTkVOVFMuaW5jbHVkZXMocmF3S2V5KSAmJiAhRlVOQ1RJT05fQ09NUE9ORU5UUy5pbmNsdWRlcyhyYXdLZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5TVVBQT1JURURfQ09NUE9ORU5UJywgcmF3S2V5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGUoeyBzY2hlbWEgLCBzb3J0ICwgbGFuZ3VhZ2UgLCBjb21wb25lbnRzICwgaWQgLCBwbHVnaW5zICB9KSB7XG4gICAgaWYgKCFjb21wb25lbnRzKSB7XG4gICAgICAgIGNvbXBvbmVudHMgPSB7fTtcbiAgICB9XG4gICAgaWYgKCFpZCkge1xuICAgICAgICBpZCA9IGF3YWl0IHVuaXF1ZUlkKCk7XG4gICAgfVxuICAgIGxldCB0b2tlbml6ZXIgPSBjb21wb25lbnRzLnRva2VuaXplcjtcbiAgICBsZXQgaW5kZXggPSBjb21wb25lbnRzLmluZGV4O1xuICAgIGxldCBkb2N1bWVudHNTdG9yZSA9IGNvbXBvbmVudHMuZG9jdW1lbnRzU3RvcmU7XG4gICAgbGV0IHNvcnRlciA9IGNvbXBvbmVudHMuc29ydGVyO1xuICAgIGlmICghdG9rZW5pemVyKSB7XG4gICAgICAgIC8vIFVzZSB0aGUgZGVmYXVsdCB0b2tlbml6ZXJcbiAgICAgICAgdG9rZW5pemVyID0gYXdhaXQgY3JlYXRlVG9rZW5pemVyKHtcbiAgICAgICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSA/PyAnZW5nbGlzaCdcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghdG9rZW5pemVyLnRva2VuaXplKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHRva2VuaXplciBmdW5jdGlvbiwgd2UgYXNzdW1lIHRoaXMgaXMgYSBUb2tlbml6ZXJDb25maWdcbiAgICAgICAgdG9rZW5pemVyID0gYXdhaXQgY3JlYXRlVG9rZW5pemVyKHRva2VuaXplcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY3VzdG9tVG9rZW5pemVyID0gdG9rZW5pemVyO1xuICAgICAgICB0b2tlbml6ZXIgPSBjdXN0b21Ub2tlbml6ZXI7XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRzLnRva2VuaXplciAmJiBsYW5ndWFnZSkge1xuICAgICAgICAvLyBBY2NlcHQgbGFuZ3VhZ2Ugb25seSBpZiBhIHRva2VuaXplciBpcyBub3QgcHJvdmlkZWRcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ05PX0xBTkdVQUdFX1dJVEhfQ1VTVE9NX1RPS0VOSVpFUicpO1xuICAgIH1cbiAgICBjb25zdCBpbnRlcm5hbERvY3VtZW50U3RvcmUgPSBjcmVhdGVJbnRlcm5hbERvY3VtZW50SURTdG9yZSgpO1xuICAgIGluZGV4IHx8PSBhd2FpdCBjcmVhdGVJbmRleCgpO1xuICAgIHNvcnRlciB8fD0gYXdhaXQgY3JlYXRlU29ydGVyKCk7XG4gICAgZG9jdW1lbnRzU3RvcmUgfHw9IGF3YWl0IGNyZWF0ZURvY3VtZW50c1N0b3JlKCk7XG4gICAgLy8gVmFsaWRhdGUgYWxsIG90aGVyIGNvbXBvbmVudHNcbiAgICB2YWxpZGF0ZUNvbXBvbmVudHMoY29tcG9uZW50cyk7XG4gICAgLy8gQXNzaWduIG9ubHkgcmVjb2duaXplZCBjb21wb25lbnRzIGFuZCBob29rc1xuICAgIGNvbnN0IHsgZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzICwgZ2V0RG9jdW1lbnRJbmRleElkICwgdmFsaWRhdGVTY2hlbWEgLCBmb3JtYXRFbGFwc2VkVGltZSAgfSA9IGNvbXBvbmVudHM7XG4gICAgY29uc3Qgb3JhbWEgPSB7XG4gICAgICAgIGRhdGE6IHt9LFxuICAgICAgICBjYWNoZXM6IHt9LFxuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHRva2VuaXplcixcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHNvcnRlcixcbiAgICAgICAgZG9jdW1lbnRzU3RvcmUsXG4gICAgICAgIGludGVybmFsRG9jdW1lbnRJRFN0b3JlOiBpbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGdldERvY3VtZW50UHJvcGVydGllcyxcbiAgICAgICAgZ2V0RG9jdW1lbnRJbmRleElkLFxuICAgICAgICB2YWxpZGF0ZVNjaGVtYSxcbiAgICAgICAgYmVmb3JlSW5zZXJ0OiBbXSxcbiAgICAgICAgYWZ0ZXJJbnNlcnQ6IFtdLFxuICAgICAgICBiZWZvcmVSZW1vdmU6IFtdLFxuICAgICAgICBhZnRlclJlbW92ZTogW10sXG4gICAgICAgIGJlZm9yZVVwZGF0ZTogW10sXG4gICAgICAgIGFmdGVyVXBkYXRlOiBbXSxcbiAgICAgICAgYmVmb3JlU2VhcmNoOiBbXSxcbiAgICAgICAgYWZ0ZXJTZWFyY2g6IFtdLFxuICAgICAgICBiZWZvcmVJbnNlcnRNdWx0aXBsZTogW10sXG4gICAgICAgIGFmdGVySW5zZXJ0TXVsdGlwbGU6IFtdLFxuICAgICAgICBiZWZvcmVSZW1vdmVNdWx0aXBsZTogW10sXG4gICAgICAgIGFmdGVyUmVtb3ZlTXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlclVwZGF0ZU11bHRpcGxlOiBbXSxcbiAgICAgICAgYmVmb3JlVXBkYXRlTXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlckNyZWF0ZTogW10sXG4gICAgICAgIGZvcm1hdEVsYXBzZWRUaW1lLFxuICAgICAgICBpZCxcbiAgICAgICAgcGx1Z2lucyxcbiAgICAgICAgdmVyc2lvbjogZ2V0VmVyc2lvbigpXG4gICAgfTtcbiAgICBvcmFtYS5kYXRhID0ge1xuICAgICAgICBpbmRleDogYXdhaXQgb3JhbWEuaW5kZXguY3JlYXRlKG9yYW1hLCBpbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSksXG4gICAgICAgIGRvY3M6IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlKSxcbiAgICAgICAgc29ydGluZzogYXdhaXQgb3JhbWEuc29ydGVyLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIHNvcnQpXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGhvb2sgb2YgQVZBSUxBQkxFX1BMVUdJTl9IT09LUyl7XG4gICAgICAgIG9yYW1hW2hvb2tdID0gKG9yYW1hW2hvb2tdID8/IFtdKS5jb25jYXQoYXdhaXQgZ2V0QWxsUGx1Z2luc0J5SG9vayhvcmFtYSwgaG9vaykpO1xuICAgIH1cbiAgICBjb25zdCBhZnRlckNyZWF0ZSA9IG9yYW1hWydhZnRlckNyZWF0ZSddO1xuICAgIGlmIChhZnRlckNyZWF0ZSkge1xuICAgICAgICBhd2FpdCBydW5BZnRlckNyZWF0ZShhZnRlckNyZWF0ZSwgb3JhbWEpO1xuICAgIH1cbiAgICByZXR1cm4gb3JhbWE7XG59XG5mdW5jdGlvbiBnZXRWZXJzaW9uKCkge1xuICAgIHJldHVybiAnMi4xLjEnO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/create.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/docs.js":
/*!***********************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/docs.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   count: () => (/* binding */ count),\n/* harmony export */   getByID: () => (/* binding */ getByID)\n/* harmony export */ });\nfunction getByID(db, id) {\n    return db.documentsStore.get(db.data.docs, id);\n}\nfunction count(db) {\n    return db.documentsStore.count(db.data.docs);\n}\n\n//# sourceMappingURL=docs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL2RvY3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvZG9jcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZ2V0QnlJRChkYiwgaWQpIHtcbiAgICByZXR1cm4gZGIuZG9jdW1lbnRzU3RvcmUuZ2V0KGRiLmRhdGEuZG9jcywgaWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50KGRiKSB7XG4gICAgcmV0dXJuIGRiLmRvY3VtZW50c1N0b3JlLmNvdW50KGRiLmRhdGEuZG9jcyk7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvY3MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/docs.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-fulltext.js":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-fulltext.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fullTextSearch: () => (/* binding */ fullTextSearch)\n/* harmony export */ });\n/* harmony import */ var _components_algorithms_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/algorithms.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/algorithms.js\");\n/* harmony import */ var _components_facets_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/facets.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/facets.js\");\n/* harmony import */ var _components_filters_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/filters.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/filters.js\");\n/* harmony import */ var _components_groups_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/groups.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/groups.js\");\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/hooks.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n/* harmony import */ var _search_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./search.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search.js\");\n\n\n\n\n\n\n\n\n\nasync function fullTextSearch(orama, params, language) {\n    const timeStart = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n    if (orama.beforeSearch) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_1__.runBeforeSearch)(orama.beforeSearch, orama, params, language);\n    }\n    params.relevance = Object.assign(_search_js__WEBPACK_IMPORTED_MODULE_2__.defaultBM25Params, params.relevance ?? {});\n    const vectorProperties = Object.keys(orama.data.index.vectorIndexes);\n    const shouldCalculateFacets = params.facets && Object.keys(params.facets).length > 0;\n    const { limit =10 , offset =0 , term , properties , threshold =0 , distinctOn , includeVectors =false  } = params;\n    const isPreflight = params.preflight === true;\n    const { index , docs  } = orama.data;\n    const tokens = await orama.tokenizer.tokenize(term ?? '', language);\n    // Get searchable string properties\n    let propertiesToSearch = orama.caches['propertiesToSearch'];\n    if (!propertiesToSearch) {\n        const propertiesToSearchWithTypes = await orama.index.getSearchablePropertiesWithTypes(index);\n        propertiesToSearch = await orama.index.getSearchableProperties(index);\n        propertiesToSearch = propertiesToSearch.filter((prop)=>propertiesToSearchWithTypes[prop].startsWith('string'));\n        orama.caches['propertiesToSearch'] = propertiesToSearch;\n    }\n    if (properties && properties !== '*') {\n        for (const prop of properties){\n            if (!propertiesToSearch.includes(prop)) {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_3__.createError)('UNKNOWN_INDEX', prop, propertiesToSearch.join(', '));\n            }\n        }\n        propertiesToSearch = propertiesToSearch.filter((prop)=>properties.includes(prop));\n    }\n    // Create the search context and the results\n    const context = await (0,_search_js__WEBPACK_IMPORTED_MODULE_2__.createSearchContext)(orama.tokenizer, orama.index, orama.documentsStore, language, params, propertiesToSearch, tokens, await orama.documentsStore.count(docs), timeStart);\n    // If filters are enabled, we need to get the IDs of the documents that match the filters.\n    const hasFilters = Object.keys(params.where ?? {}).length > 0;\n    let whereFiltersIDs = [];\n    if (hasFilters) {\n        whereFiltersIDs = await orama.index.searchByWhereClause(context, index, params.where);\n    }\n    const tokensLength = tokens.length;\n    if (tokensLength || (properties === null || properties === void 0 ? void 0 : properties.length)) {\n        // Now it's time to loop over all the indices and get the documents IDs for every single term\n        const indexesLength = propertiesToSearch.length;\n        for(let i = 0; i < indexesLength; i++){\n            var _params_boost;\n            const prop = propertiesToSearch[i];\n            const docIds = context.indexMap[prop];\n            if (tokensLength !== 0) {\n                for(let j = 0; j < tokensLength; j++){\n                    const term = tokens[j];\n                    // Lookup\n                    const scoreList = await orama.index.search(context, index, prop, term);\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(docIds[term], scoreList);\n                }\n            } else {\n                docIds[''] = [];\n                const scoreList = await orama.index.search(context, index, prop, '');\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(docIds[''], scoreList);\n            }\n            const vals = Object.values(docIds);\n            context.docsIntersection[prop] = (0,_components_algorithms_js__WEBPACK_IMPORTED_MODULE_4__.prioritizeTokenScores)(vals, (params === null || params === void 0 ? void 0 : (_params_boost = params.boost) === null || _params_boost === void 0 ? void 0 : _params_boost[prop]) ?? 1, threshold, tokensLength);\n            const uniqueDocs = context.docsIntersection[prop];\n            const uniqueDocsLength = uniqueDocs.length;\n            for(let i = 0; i < uniqueDocsLength; i++){\n                const [id, score] = uniqueDocs[i];\n                const prevScore = context.uniqueDocsIDs[id];\n                if (prevScore) {\n                    context.uniqueDocsIDs[id] = prevScore + score + 0.5;\n                } else {\n                    context.uniqueDocsIDs[id] = score;\n                }\n            }\n        }\n    } else if (tokens.length === 0 && term) {\n        // This case is hard to handle correctly.\n        // For the time being, if tokenizer returns empty array but the term is not empty,\n        // we returns an empty result set\n        context.uniqueDocsIDs = {};\n    } else {\n        context.uniqueDocsIDs = Object.fromEntries(Object.keys(await orama.documentsStore.getAll(orama.data.docs)).map((k)=>[\n                k,\n                0\n            ]));\n    }\n    // Get unique doc IDs from uniqueDocsIDs map\n    let uniqueDocsArray = Object.entries(context.uniqueDocsIDs).map(([id, score])=>[\n            +id,\n            score\n        ]);\n    // If filters are enabled, we need to remove the IDs of the documents that don't match the filters.\n    if (hasFilters) {\n        uniqueDocsArray = (0,_components_filters_js__WEBPACK_IMPORTED_MODULE_5__.intersectFilteredIDs)(whereFiltersIDs, uniqueDocsArray);\n    }\n    if (params.sortBy) {\n        if (typeof params.sortBy === 'function') {\n            const ids = uniqueDocsArray.map(([id])=>id);\n            const docs = await orama.documentsStore.getMultiple(orama.data.docs, ids);\n            const docsWithIdAndScore = docs.map((d, i)=>[\n                    uniqueDocsArray[i][0],\n                    uniqueDocsArray[i][1],\n                    d\n                ]);\n            docsWithIdAndScore.sort(params.sortBy);\n            uniqueDocsArray = docsWithIdAndScore.map(([id, score])=>[\n                    id,\n                    score\n                ]);\n        } else {\n            uniqueDocsArray = await orama.sorter.sortBy(orama.data.sorting, uniqueDocsArray, params.sortBy).then((results)=>results.map(([id, score])=>[\n                        (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_6__.getInternalDocumentId)(orama.internalDocumentIDStore, id),\n                        score\n                    ]));\n        }\n    } else {\n        uniqueDocsArray = uniqueDocsArray.sort(_utils_js__WEBPACK_IMPORTED_MODULE_0__.sortTokenScorePredicate);\n    }\n    let results;\n    if (!isPreflight) {\n        results = await (distinctOn ? (0,_search_js__WEBPACK_IMPORTED_MODULE_2__.fetchDocumentsWithDistinct)(orama, uniqueDocsArray, offset, limit, distinctOn) : (0,_search_js__WEBPACK_IMPORTED_MODULE_2__.fetchDocuments)(orama, uniqueDocsArray, offset, limit));\n    }\n    const searchResult = {\n        elapsed: {\n            formatted: '',\n            raw: 0\n        },\n        // We keep the hits array empty if it's a preflight request.\n        hits: [],\n        count: uniqueDocsArray.length\n    };\n    if (typeof results !== 'undefined') {\n        searchResult.hits = results.filter(Boolean);\n        // Vectors can be very large, so we remove them from the result if not needed\n        if (!includeVectors) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeVectorsFromHits)(searchResult, vectorProperties);\n        }\n    }\n    if (shouldCalculateFacets) {\n        // Populate facets if needed\n        const facets = await (0,_components_facets_js__WEBPACK_IMPORTED_MODULE_7__.getFacets)(orama, uniqueDocsArray, params.facets);\n        searchResult.facets = facets;\n    }\n    if (params.groupBy) {\n        searchResult.groups = await (0,_components_groups_js__WEBPACK_IMPORTED_MODULE_8__.getGroups)(orama, uniqueDocsArray, params.groupBy);\n    }\n    if (orama.afterSearch) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_1__.runAfterSearch)(orama.afterSearch, orama, params, language, searchResult);\n    }\n    // Calculate elapsed time only at the end of the function\n    searchResult.elapsed = await orama.formatElapsedTime(await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)() - context.timeStart);\n    return searchResult;\n}\n\n//# sourceMappingURL=search-fulltext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3NlYXJjaC1mdWxsdGV4dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQW9FO0FBQ2hCO0FBQ1k7QUFDWjtBQUNxQjtBQUNXO0FBQ3pDO0FBQ3FFO0FBQ0M7QUFDMUc7QUFDUCw0QkFBNEIsNkRBQWtCO0FBQzlDO0FBQ0EsY0FBYyxxRUFBZTtBQUM3QjtBQUNBLHFDQUFxQyx5REFBaUIsd0JBQXdCO0FBQzlFO0FBQ0E7QUFDQSxZQUFZLGlHQUFpRztBQUM3RztBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1REFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtEQUFtQjtBQUM3QztBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1CQUFtQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixrQkFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdEQUFhO0FBQ2pDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxnQkFBZ0Isd0RBQWE7QUFDN0I7QUFDQTtBQUNBLDZDQUE2QyxnRkFBcUI7QUFDbEU7QUFDQTtBQUNBLDJCQUEyQixzQkFBc0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDRFQUFvQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSx3QkFBd0IsZ0dBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTiwrQ0FBK0MsOERBQXVCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxzRUFBMEIsc0RBQXNELDBEQUFjO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0VBQXFCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdFQUFTO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxnRUFBUztBQUM3QztBQUNBO0FBQ0EsY0FBYyxvRUFBYztBQUM1QjtBQUNBO0FBQ0EsK0RBQStELDZEQUFrQjtBQUNqRjtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbXJiYWQvdmliZXByb2plY3RzL2Vhenl0YWJsZS9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3NlYXJjaC1mdWxsdGV4dC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmlvcml0aXplVG9rZW5TY29yZXMgfSBmcm9tICcuLi9jb21wb25lbnRzL2FsZ29yaXRobXMuanMnO1xuaW1wb3J0IHsgZ2V0RmFjZXRzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9mYWNldHMuanMnO1xuaW1wb3J0IHsgaW50ZXJzZWN0RmlsdGVyZWRJRHMgfSBmcm9tICcuLi9jb21wb25lbnRzL2ZpbHRlcnMuanMnO1xuaW1wb3J0IHsgZ2V0R3JvdXBzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ncm91cHMuanMnO1xuaW1wb3J0IHsgcnVuQWZ0ZXJTZWFyY2gsIHJ1bkJlZm9yZVNlYXJjaCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaG9va3MuanMnO1xuaW1wb3J0IHsgZ2V0SW50ZXJuYWxEb2N1bWVudElkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXROYW5vc2Vjb25kc1RpbWUsIHJlbW92ZVZlY3RvcnNGcm9tSGl0cywgc2FmZUFycmF5UHVzaCwgc29ydFRva2VuU2NvcmVQcmVkaWNhdGUgfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTZWFyY2hDb250ZXh0LCBkZWZhdWx0Qk0yNVBhcmFtcywgZmV0Y2hEb2N1bWVudHMsIGZldGNoRG9jdW1lbnRzV2l0aERpc3RpbmN0IH0gZnJvbSAnLi9zZWFyY2guanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZ1bGxUZXh0U2VhcmNoKG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlKSB7XG4gICAgY29uc3QgdGltZVN0YXJ0ID0gYXdhaXQgZ2V0TmFub3NlY29uZHNUaW1lKCk7XG4gICAgaWYgKG9yYW1hLmJlZm9yZVNlYXJjaCkge1xuICAgICAgICBhd2FpdCBydW5CZWZvcmVTZWFyY2gob3JhbWEuYmVmb3JlU2VhcmNoLCBvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSk7XG4gICAgfVxuICAgIHBhcmFtcy5yZWxldmFuY2UgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRCTTI1UGFyYW1zLCBwYXJhbXMucmVsZXZhbmNlID8/IHt9KTtcbiAgICBjb25zdCB2ZWN0b3JQcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMob3JhbWEuZGF0YS5pbmRleC52ZWN0b3JJbmRleGVzKTtcbiAgICBjb25zdCBzaG91bGRDYWxjdWxhdGVGYWNldHMgPSBwYXJhbXMuZmFjZXRzICYmIE9iamVjdC5rZXlzKHBhcmFtcy5mYWNldHMpLmxlbmd0aCA+IDA7XG4gICAgY29uc3QgeyBsaW1pdCA9MTAgLCBvZmZzZXQgPTAgLCB0ZXJtICwgcHJvcGVydGllcyAsIHRocmVzaG9sZCA9MCAsIGRpc3RpbmN0T24gLCBpbmNsdWRlVmVjdG9ycyA9ZmFsc2UgIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgaXNQcmVmbGlnaHQgPSBwYXJhbXMucHJlZmxpZ2h0ID09PSB0cnVlO1xuICAgIGNvbnN0IHsgaW5kZXggLCBkb2NzICB9ID0gb3JhbWEuZGF0YTtcbiAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBvcmFtYS50b2tlbml6ZXIudG9rZW5pemUodGVybSA/PyAnJywgbGFuZ3VhZ2UpO1xuICAgIC8vIEdldCBzZWFyY2hhYmxlIHN0cmluZyBwcm9wZXJ0aWVzXG4gICAgbGV0IHByb3BlcnRpZXNUb1NlYXJjaCA9IG9yYW1hLmNhY2hlc1sncHJvcGVydGllc1RvU2VhcmNoJ107XG4gICAgaWYgKCFwcm9wZXJ0aWVzVG9TZWFyY2gpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydGllc1RvU2VhcmNoV2l0aFR5cGVzID0gYXdhaXQgb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoaW5kZXgpO1xuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCk7XG4gICAgICAgIHByb3BlcnRpZXNUb1NlYXJjaCA9IHByb3BlcnRpZXNUb1NlYXJjaC5maWx0ZXIoKHByb3ApPT5wcm9wZXJ0aWVzVG9TZWFyY2hXaXRoVHlwZXNbcHJvcF0uc3RhcnRzV2l0aCgnc3RyaW5nJykpO1xuICAgICAgICBvcmFtYS5jYWNoZXNbJ3Byb3BlcnRpZXNUb1NlYXJjaCddID0gcHJvcGVydGllc1RvU2VhcmNoO1xuICAgIH1cbiAgICBpZiAocHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzICE9PSAnKicpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BlcnRpZXMpe1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzVG9TZWFyY2guaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5LTk9XTl9JTkRFWCcsIHByb3AsIHByb3BlcnRpZXNUb1NlYXJjaC5qb2luKCcsICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBwcm9wZXJ0aWVzVG9TZWFyY2guZmlsdGVyKChwcm9wKT0+cHJvcGVydGllcy5pbmNsdWRlcyhwcm9wKSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgc2VhcmNoIGNvbnRleHQgYW5kIHRoZSByZXN1bHRzXG4gICAgY29uc3QgY29udGV4dCA9IGF3YWl0IGNyZWF0ZVNlYXJjaENvbnRleHQob3JhbWEudG9rZW5pemVyLCBvcmFtYS5pbmRleCwgb3JhbWEuZG9jdW1lbnRzU3RvcmUsIGxhbmd1YWdlLCBwYXJhbXMsIHByb3BlcnRpZXNUb1NlYXJjaCwgdG9rZW5zLCBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5jb3VudChkb2NzKSwgdGltZVN0YXJ0KTtcbiAgICAvLyBJZiBmaWx0ZXJzIGFyZSBlbmFibGVkLCB3ZSBuZWVkIHRvIGdldCB0aGUgSURzIG9mIHRoZSBkb2N1bWVudHMgdGhhdCBtYXRjaCB0aGUgZmlsdGVycy5cbiAgICBjb25zdCBoYXNGaWx0ZXJzID0gT2JqZWN0LmtleXMocGFyYW1zLndoZXJlID8/IHt9KS5sZW5ndGggPiAwO1xuICAgIGxldCB3aGVyZUZpbHRlcnNJRHMgPSBbXTtcbiAgICBpZiAoaGFzRmlsdGVycykge1xuICAgICAgICB3aGVyZUZpbHRlcnNJRHMgPSBhd2FpdCBvcmFtYS5pbmRleC5zZWFyY2hCeVdoZXJlQ2xhdXNlKGNvbnRleHQsIGluZGV4LCBwYXJhbXMud2hlcmUpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbnNMZW5ndGggPSB0b2tlbnMubGVuZ3RoO1xuICAgIGlmICh0b2tlbnNMZW5ndGggfHwgKHByb3BlcnRpZXMgPT09IG51bGwgfHwgcHJvcGVydGllcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcGVydGllcy5sZW5ndGgpKSB7XG4gICAgICAgIC8vIE5vdyBpdCdzIHRpbWUgdG8gbG9vcCBvdmVyIGFsbCB0aGUgaW5kaWNlcyBhbmQgZ2V0IHRoZSBkb2N1bWVudHMgSURzIGZvciBldmVyeSBzaW5nbGUgdGVybVxuICAgICAgICBjb25zdCBpbmRleGVzTGVuZ3RoID0gcHJvcGVydGllc1RvU2VhcmNoLmxlbmd0aDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGluZGV4ZXNMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICB2YXIgX3BhcmFtc19ib29zdDtcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBwcm9wZXJ0aWVzVG9TZWFyY2hbaV07XG4gICAgICAgICAgICBjb25zdCBkb2NJZHMgPSBjb250ZXh0LmluZGV4TWFwW3Byb3BdO1xuICAgICAgICAgICAgaWYgKHRva2Vuc0xlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0b2tlbnNMZW5ndGg7IGorKyl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm0gPSB0b2tlbnNbal07XG4gICAgICAgICAgICAgICAgICAgIC8vIExvb2t1cFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY29yZUxpc3QgPSBhd2FpdCBvcmFtYS5pbmRleC5zZWFyY2goY29udGV4dCwgaW5kZXgsIHByb3AsIHRlcm0pO1xuICAgICAgICAgICAgICAgICAgICBzYWZlQXJyYXlQdXNoKGRvY0lkc1t0ZXJtXSwgc2NvcmVMaXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY0lkc1snJ10gPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZUxpc3QgPSBhd2FpdCBvcmFtYS5pbmRleC5zZWFyY2goY29udGV4dCwgaW5kZXgsIHByb3AsICcnKTtcbiAgICAgICAgICAgICAgICBzYWZlQXJyYXlQdXNoKGRvY0lkc1snJ10sIHNjb3JlTGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWxzID0gT2JqZWN0LnZhbHVlcyhkb2NJZHMpO1xuICAgICAgICAgICAgY29udGV4dC5kb2NzSW50ZXJzZWN0aW9uW3Byb3BdID0gcHJpb3JpdGl6ZVRva2VuU2NvcmVzKHZhbHMsIChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3BhcmFtc19ib29zdCA9IHBhcmFtcy5ib29zdCkgPT09IG51bGwgfHwgX3BhcmFtc19ib29zdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BhcmFtc19ib29zdFtwcm9wXSkgPz8gMSwgdGhyZXNob2xkLCB0b2tlbnNMZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgdW5pcXVlRG9jcyA9IGNvbnRleHQuZG9jc0ludGVyc2VjdGlvbltwcm9wXTtcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZURvY3NMZW5ndGggPSB1bmlxdWVEb2NzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB1bmlxdWVEb2NzTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGNvbnN0IFtpZCwgc2NvcmVdID0gdW5pcXVlRG9jc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2U2NvcmUgPSBjb250ZXh0LnVuaXF1ZURvY3NJRHNbaWRdO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2U2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC51bmlxdWVEb2NzSURzW2lkXSA9IHByZXZTY29yZSArIHNjb3JlICsgMC41O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQudW5pcXVlRG9jc0lEc1tpZF0gPSBzY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRva2Vucy5sZW5ndGggPT09IDAgJiYgdGVybSkge1xuICAgICAgICAvLyBUaGlzIGNhc2UgaXMgaGFyZCB0byBoYW5kbGUgY29ycmVjdGx5LlxuICAgICAgICAvLyBGb3IgdGhlIHRpbWUgYmVpbmcsIGlmIHRva2VuaXplciByZXR1cm5zIGVtcHR5IGFycmF5IGJ1dCB0aGUgdGVybSBpcyBub3QgZW1wdHksXG4gICAgICAgIC8vIHdlIHJldHVybnMgYW4gZW1wdHkgcmVzdWx0IHNldFxuICAgICAgICBjb250ZXh0LnVuaXF1ZURvY3NJRHMgPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZXh0LnVuaXF1ZURvY3NJRHMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMoYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuZ2V0QWxsKG9yYW1hLmRhdGEuZG9jcykpLm1hcCgoayk9PltcbiAgICAgICAgICAgICAgICBrLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgIF0pKTtcbiAgICB9XG4gICAgLy8gR2V0IHVuaXF1ZSBkb2MgSURzIGZyb20gdW5pcXVlRG9jc0lEcyBtYXBcbiAgICBsZXQgdW5pcXVlRG9jc0FycmF5ID0gT2JqZWN0LmVudHJpZXMoY29udGV4dC51bmlxdWVEb2NzSURzKS5tYXAoKFtpZCwgc2NvcmVdKT0+W1xuICAgICAgICAgICAgK2lkLFxuICAgICAgICAgICAgc2NvcmVcbiAgICAgICAgXSk7XG4gICAgLy8gSWYgZmlsdGVycyBhcmUgZW5hYmxlZCwgd2UgbmVlZCB0byByZW1vdmUgdGhlIElEcyBvZiB0aGUgZG9jdW1lbnRzIHRoYXQgZG9uJ3QgbWF0Y2ggdGhlIGZpbHRlcnMuXG4gICAgaWYgKGhhc0ZpbHRlcnMpIHtcbiAgICAgICAgdW5pcXVlRG9jc0FycmF5ID0gaW50ZXJzZWN0RmlsdGVyZWRJRHMod2hlcmVGaWx0ZXJzSURzLCB1bmlxdWVEb2NzQXJyYXkpO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLnNvcnRCeSkge1xuICAgICAgICBpZiAodHlwZW9mIHBhcmFtcy5zb3J0QnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkcyA9IHVuaXF1ZURvY3NBcnJheS5tYXAoKFtpZF0pPT5pZCk7XG4gICAgICAgICAgICBjb25zdCBkb2NzID0gYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuZ2V0TXVsdGlwbGUob3JhbWEuZGF0YS5kb2NzLCBpZHMpO1xuICAgICAgICAgICAgY29uc3QgZG9jc1dpdGhJZEFuZFNjb3JlID0gZG9jcy5tYXAoKGQsIGkpPT5bXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZURvY3NBcnJheVtpXVswXSxcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlRG9jc0FycmF5W2ldWzFdLFxuICAgICAgICAgICAgICAgICAgICBkXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBkb2NzV2l0aElkQW5kU2NvcmUuc29ydChwYXJhbXMuc29ydEJ5KTtcbiAgICAgICAgICAgIHVuaXF1ZURvY3NBcnJheSA9IGRvY3NXaXRoSWRBbmRTY29yZS5tYXAoKFtpZCwgc2NvcmVdKT0+W1xuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVuaXF1ZURvY3NBcnJheSA9IGF3YWl0IG9yYW1hLnNvcnRlci5zb3J0Qnkob3JhbWEuZGF0YS5zb3J0aW5nLCB1bmlxdWVEb2NzQXJyYXksIHBhcmFtcy5zb3J0QnkpLnRoZW4oKHJlc3VsdHMpPT5yZXN1bHRzLm1hcCgoW2lkLCBzY29yZV0pPT5bXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRJbnRlcm5hbERvY3VtZW50SWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlXG4gICAgICAgICAgICAgICAgICAgIF0pKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHVuaXF1ZURvY3NBcnJheSA9IHVuaXF1ZURvY3NBcnJheS5zb3J0KHNvcnRUb2tlblNjb3JlUHJlZGljYXRlKTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdHM7XG4gICAgaWYgKCFpc1ByZWZsaWdodCkge1xuICAgICAgICByZXN1bHRzID0gYXdhaXQgKGRpc3RpbmN0T24gPyBmZXRjaERvY3VtZW50c1dpdGhEaXN0aW5jdChvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBvZmZzZXQsIGxpbWl0LCBkaXN0aW5jdE9uKSA6IGZldGNoRG9jdW1lbnRzKG9yYW1hLCB1bmlxdWVEb2NzQXJyYXksIG9mZnNldCwgbGltaXQpKTtcbiAgICB9XG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0ge1xuICAgICAgICBlbGFwc2VkOiB7XG4gICAgICAgICAgICBmb3JtYXR0ZWQ6ICcnLFxuICAgICAgICAgICAgcmF3OiAwXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIGtlZXAgdGhlIGhpdHMgYXJyYXkgZW1wdHkgaWYgaXQncyBhIHByZWZsaWdodCByZXF1ZXN0LlxuICAgICAgICBoaXRzOiBbXSxcbiAgICAgICAgY291bnQ6IHVuaXF1ZURvY3NBcnJheS5sZW5ndGhcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgcmVzdWx0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2VhcmNoUmVzdWx0LmhpdHMgPSByZXN1bHRzLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgLy8gVmVjdG9ycyBjYW4gYmUgdmVyeSBsYXJnZSwgc28gd2UgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgcmVzdWx0IGlmIG5vdCBuZWVkZWRcbiAgICAgICAgaWYgKCFpbmNsdWRlVmVjdG9ycykge1xuICAgICAgICAgICAgcmVtb3ZlVmVjdG9yc0Zyb21IaXRzKHNlYXJjaFJlc3VsdCwgdmVjdG9yUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNob3VsZENhbGN1bGF0ZUZhY2V0cykge1xuICAgICAgICAvLyBQb3B1bGF0ZSBmYWNldHMgaWYgbmVlZGVkXG4gICAgICAgIGNvbnN0IGZhY2V0cyA9IGF3YWl0IGdldEZhY2V0cyhvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBwYXJhbXMuZmFjZXRzKTtcbiAgICAgICAgc2VhcmNoUmVzdWx0LmZhY2V0cyA9IGZhY2V0cztcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5ncm91cEJ5KSB7XG4gICAgICAgIHNlYXJjaFJlc3VsdC5ncm91cHMgPSBhd2FpdCBnZXRHcm91cHMob3JhbWEsIHVuaXF1ZURvY3NBcnJheSwgcGFyYW1zLmdyb3VwQnkpO1xuICAgIH1cbiAgICBpZiAob3JhbWEuYWZ0ZXJTZWFyY2gpIHtcbiAgICAgICAgYXdhaXQgcnVuQWZ0ZXJTZWFyY2gob3JhbWEuYWZ0ZXJTZWFyY2gsIG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlLCBzZWFyY2hSZXN1bHQpO1xuICAgIH1cbiAgICAvLyBDYWxjdWxhdGUgZWxhcHNlZCB0aW1lIG9ubHkgYXQgdGhlIGVuZCBvZiB0aGUgZnVuY3Rpb25cbiAgICBzZWFyY2hSZXN1bHQuZWxhcHNlZCA9IGF3YWl0IG9yYW1hLmZvcm1hdEVsYXBzZWRUaW1lKGF3YWl0IGdldE5hbm9zZWNvbmRzVGltZSgpIC0gY29udGV4dC50aW1lU3RhcnQpO1xuICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlYXJjaC1mdWxsdGV4dC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-fulltext.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-hybrid.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-hybrid.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getVectorSearchIDs: () => (/* binding */ getVectorSearchIDs),\n/* harmony export */   hybridSearch: () => (/* binding */ hybridSearch)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n/* harmony import */ var _components_filters_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/filters.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/filters.js\");\n/* harmony import */ var _components_algorithms_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/algorithms.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/algorithms.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./search.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search.js\");\n/* harmony import */ var _components_facets_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/facets.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/facets.js\");\n/* harmony import */ var _components_groups_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/groups.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/groups.js\");\n/* harmony import */ var _components_cosine_similarity_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/cosine-similarity.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/cosine-similarity.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\");\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/hooks.js\");\n\n\n\n\n\n\n\n\n\n\n\nasync function hybridSearch(orama, params, language) {\n    const timeStart = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n    if (orama.beforeSearch) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_1__.runBeforeSearch)(orama.beforeSearch, orama, params, language);\n    }\n    const { offset =0 , limit =10 , includeVectors =false  } = params;\n    const shouldCalculateFacets = params.facets && Object.keys(params.facets).length > 0;\n    const [fullTextIDs, vectorIDs] = await Promise.all([\n        getFullTextSearchIDs(orama, params, language),\n        getVectorSearchIDs(orama, params)\n    ]);\n    const { index , docs  } = orama.data;\n    const hybridWeights = params.hybridWeights;\n    let uniqueTokenScores = mergeAndRankResults(fullTextIDs, vectorIDs, params.term ?? '', hybridWeights);\n    // @todo avoid tokenize twice\n    const tokens = await orama.tokenizer.tokenize(params.term ?? '', language);\n    let propertiesToSearch = orama.caches['propertiesToSearch'];\n    if (!propertiesToSearch) {\n        const propertiesToSearchWithTypes = await orama.index.getSearchablePropertiesWithTypes(index);\n        propertiesToSearch = await orama.index.getSearchableProperties(index);\n        propertiesToSearch = propertiesToSearch.filter((prop)=>propertiesToSearchWithTypes[prop].startsWith('string'));\n        orama.caches['propertiesToSearch'] = propertiesToSearch;\n    }\n    if (params.properties && params.properties !== '*') {\n        for (const prop of params.properties){\n            if (!propertiesToSearch.includes(prop)) {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('UNKNOWN_INDEX', prop, propertiesToSearch.join(', '));\n            }\n        }\n        propertiesToSearch = propertiesToSearch.filter((prop)=>params.properties.includes(prop));\n    }\n    // @todo avoid create context twice\n    const context = await (0,_search_js__WEBPACK_IMPORTED_MODULE_3__.createSearchContext)(orama.tokenizer, orama.index, orama.documentsStore, language, params, propertiesToSearch, tokens, await orama.documentsStore.count(docs), timeStart);\n    const hasFilters = Object.keys(params.where ?? {}).length > 0;\n    let whereFiltersIDs = [];\n    if (hasFilters) {\n        whereFiltersIDs = await orama.index.searchByWhereClause(context, index, params.where);\n        uniqueTokenScores = (0,_components_filters_js__WEBPACK_IMPORTED_MODULE_4__.intersectFilteredIDs)(whereFiltersIDs, uniqueTokenScores);\n    }\n    let facetsResults;\n    if (shouldCalculateFacets) {\n        const facets = await (0,_components_facets_js__WEBPACK_IMPORTED_MODULE_5__.getFacets)(orama, uniqueTokenScores, params.facets);\n        facetsResults = facets;\n    }\n    let groups;\n    if (params.groupBy) {\n        groups = await (0,_components_groups_js__WEBPACK_IMPORTED_MODULE_6__.getGroups)(orama, uniqueTokenScores, params.groupBy);\n    }\n    const results = (await (0,_search_js__WEBPACK_IMPORTED_MODULE_3__.fetchDocuments)(orama, uniqueTokenScores, offset, limit)).filter(Boolean);\n    if (orama.afterSearch) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_1__.runAfterSearch)(orama.afterSearch, orama, params, language, results);\n    }\n    const timeEnd = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n    const returningResults = {\n        count: uniqueTokenScores.length,\n        elapsed: {\n            raw: Number(timeEnd - timeStart),\n            formatted: await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.formatNanoseconds)(timeEnd - timeStart)\n        },\n        hits: results,\n        ...facetsResults ? {\n            facets: facetsResults\n        } : {},\n        ...groups ? {\n            groups\n        } : {}\n    };\n    if (!includeVectors) {\n        const vectorProperties = Object.keys(orama.data.index.vectorIndexes);\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeVectorsFromHits)(returningResults, vectorProperties);\n    }\n    return returningResults;\n}\nasync function getFullTextSearchIDs(orama, params, language) {\n    const timeStart = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n    params.relevance = Object.assign(_search_js__WEBPACK_IMPORTED_MODULE_3__.defaultBM25Params, params.relevance ?? {});\n    const { term ='' , properties , threshold =0  } = params;\n    const { index , docs  } = orama.data;\n    const tokens = await orama.tokenizer.tokenize(term, language);\n    // Get searchable string properties\n    let propertiesToSearch = orama.caches['propertiesToSearch'];\n    if (!propertiesToSearch) {\n        const propertiesToSearchWithTypes = await orama.index.getSearchablePropertiesWithTypes(index);\n        propertiesToSearch = await orama.index.getSearchableProperties(index);\n        propertiesToSearch = propertiesToSearch.filter((prop)=>propertiesToSearchWithTypes[prop].startsWith('string'));\n        orama.caches['propertiesToSearch'] = propertiesToSearch;\n    }\n    if (properties && properties !== '*') {\n        const propertiesToSearchSet = new Set(propertiesToSearch);\n        const propertiesSet = new Set(properties);\n        for (const prop of properties){\n            if (!propertiesToSearchSet.has(prop)) {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('UNKNOWN_INDEX', prop, propertiesToSearch.join(', '));\n            }\n        }\n        propertiesToSearch = propertiesToSearch.filter((prop)=>propertiesSet.has(prop));\n    }\n    // Create the search context and the results\n    const context = await (0,_search_js__WEBPACK_IMPORTED_MODULE_3__.createSearchContext)(orama.tokenizer, orama.index, orama.documentsStore, language, params, propertiesToSearch, tokens, await orama.documentsStore.count(docs), timeStart);\n    const tokensLength = tokens.length;\n    if (tokensLength || properties && properties.length > 0) {\n        // Now it's time to loop over all the indices and get the documents IDs for every single term\n        const indexesLength = propertiesToSearch.length;\n        for(let i = 0; i < indexesLength; i++){\n            var _params_boost;\n            const prop = propertiesToSearch[i];\n            if (tokensLength !== 0) {\n                for(let j = 0; j < tokensLength; j++){\n                    const term = tokens[j];\n                    // Lookup\n                    const scoreList = await orama.index.search(context, index, prop, term);\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(context.indexMap[prop][term], scoreList);\n                }\n            } else {\n                const indexMapContent = [];\n                context.indexMap[prop][''] = indexMapContent;\n                const scoreList = await orama.index.search(context, index, prop, '');\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(indexMapContent, scoreList);\n            }\n            const docIds = context.indexMap[prop];\n            const vals = Object.values(docIds);\n            context.docsIntersection[prop] = (0,_components_algorithms_js__WEBPACK_IMPORTED_MODULE_7__.prioritizeTokenScores)(vals, (params === null || params === void 0 ? void 0 : (_params_boost = params.boost) === null || _params_boost === void 0 ? void 0 : _params_boost[prop]) ?? 1, threshold, tokensLength);\n            const uniqueDocs = context.docsIntersection[prop];\n            const uniqueDocsLength = uniqueDocs.length;\n            for(let i = 0; i < uniqueDocsLength; i++){\n                const [id, score] = uniqueDocs[i];\n                const prevScore = context.uniqueDocsIDs[id];\n                context.uniqueDocsIDs[id] = prevScore ? prevScore + score + 0.5 : score;\n            }\n        }\n    } else if (tokens.length === 0 && term) {\n        // This case is hard to handle correctly.\n        // For the time being, if tokenizer returns empty array but the term is not empty,\n        // we returns an empty result set\n        context.uniqueDocsIDs = {};\n    } else {\n        context.uniqueDocsIDs = Object.fromEntries(Object.keys(await orama.documentsStore.getAll(orama.data.docs)).map((k)=>[\n                k,\n                0\n            ]));\n    }\n    const uniqueIDs = Object.entries(context.uniqueDocsIDs).map(([id, score])=>[\n            +id,\n            score\n        ]).sort((a, b)=>b[1] - a[1]);\n    return minMaxScoreNormalization(uniqueIDs);\n}\nasync function getVectorSearchIDs(orama, params) {\n    const vector = params.vector;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-asserted-optional-chain\n    const vectorIndex = orama.data.index.vectorIndexes[vector === null || vector === void 0 ? void 0 : vector.property];\n    const vectorSize = vectorIndex.size;\n    const vectors = vectorIndex.vectors;\n    if (vector && (!vector.value || !vector.property)) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('INVALID_VECTOR_INPUT', Object.keys(vector).join(', '));\n    }\n    if (vector.value.length !== vectorSize) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('INVALID_INPUT_VECTOR', vector.property, vectorSize, vector.value.length);\n    }\n    if (!(vector instanceof Float32Array)) {\n        vector.value = new Float32Array(vector.value);\n    }\n    const uniqueIDs = (0,_components_cosine_similarity_js__WEBPACK_IMPORTED_MODULE_8__.findSimilarVectors)(vector.value, vectors, vectorSize, params.similarity).map(([id, score])=>[\n            (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_9__.getInternalDocumentId)(orama.internalDocumentIDStore, id),\n            score\n        ]);\n    return minMaxScoreNormalization(uniqueIDs);\n}\nfunction extractScore([, score]) {\n    return score;\n}\nfunction minMaxScoreNormalization(results) {\n    // In this case I disabled the `prefer-spread` rule because spread seems to be slower\n    // eslint-disable-next-line prefer-spread\n    const maxScore = Math.max.apply(Math, results.map(extractScore));\n    return results.map(([id, score])=>[\n            id,\n            score / maxScore\n        ]);\n}\nfunction normalizeScore(score, maxScore) {\n    return score / maxScore;\n}\nfunction hybridScoreBuilder(textWeight, vectorWeight) {\n    return (textScore, vectorScore)=>textScore * textWeight + vectorScore * vectorWeight;\n}\nfunction mergeAndRankResults(textResults, vectorResults, query, hybridWeights) {\n    // eslint-disable-next-line prefer-spread\n    const maxTextScore = Math.max.apply(Math, textResults.map(extractScore));\n    // eslint-disable-next-line prefer-spread\n    const maxVectorScore = Math.max.apply(Math, vectorResults.map(extractScore));\n    const hasHybridWeights = hybridWeights && hybridWeights.text && hybridWeights.vector;\n    const { text: textWeight , vector: vectorWeight  } = hasHybridWeights ? hybridWeights : getQueryWeights(query);\n    const mergedResults = new Map();\n    const textResultsLength = textResults.length;\n    const hybridScore = hybridScoreBuilder(textWeight, vectorWeight);\n    for(let i = 0; i < textResultsLength; i++){\n        const [id, score] = textResults[i];\n        const normalizedScore = normalizeScore(score, maxTextScore);\n        const hybridScoreValue = hybridScore(normalizedScore, 0);\n        mergedResults.set(id, hybridScoreValue);\n    }\n    const vectorResultsLength = vectorResults.length;\n    for(let i = 0; i < vectorResultsLength; i++){\n        const [resultId, score] = vectorResults[i];\n        const normalizedScore = normalizeScore(score, maxVectorScore);\n        const existingRes = mergedResults.get(resultId) ?? 0;\n        mergedResults.set(resultId, existingRes + hybridScore(0, normalizedScore));\n    }\n    return [\n        ...mergedResults\n    ].sort((a, b)=>b[1] - a[1]);\n}\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction getQueryWeights(query) {\n    // In the next versions of Orama, we will ship a plugin containing a ML model to adjust the weights\n    // based on whether the query is keyword-focused, conceptual, etc.\n    // For now, we just return a fixed value.\n    return {\n        text: 0.5,\n        vector: 0.5\n    };\n}\n\n//# sourceMappingURL=search-hybrid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3NlYXJjaC1oeWJyaWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQTBHO0FBQzFDO0FBQ0k7QUFDekI7QUFDMEI7QUFDakI7QUFDQTtBQUNvQjtBQUNZO0FBQ3ZDO0FBQzRCO0FBQ2xFO0FBQ1AsNEJBQTRCLDZEQUFrQjtBQUM5QztBQUNBLGNBQWMscUVBQWU7QUFDN0I7QUFDQSxZQUFZLGlEQUFpRDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnQkFBZ0I7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1REFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtEQUFtQjtBQUM3QyxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDRFQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0VBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0VBQVM7QUFDaEM7QUFDQSwyQkFBMkIsMERBQWM7QUFDekM7QUFDQSxjQUFjLG9FQUFjO0FBQzVCO0FBQ0EsMEJBQTBCLDZEQUFrQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBaUI7QUFDOUMsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFVBQVUsSUFBSTtBQUNkO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnRUFBcUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkRBQWtCO0FBQzlDLHFDQUFxQyx5REFBaUIsd0JBQXdCO0FBQzlFLFlBQVksd0NBQXdDO0FBQ3BELFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdURBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwrREFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsbUJBQW1CO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixrQkFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdEQUFhO0FBQ2pDO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3REFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsZ0ZBQXFCO0FBQ2xFO0FBQ0E7QUFDQSwyQkFBMkIsc0JBQXNCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1REFBVztBQUN6QjtBQUNBO0FBQ0EsY0FBYyx1REFBVztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixvRkFBa0I7QUFDeEMsWUFBWSxnR0FBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUEyQztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsdUJBQXVCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5QkFBeUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L21ldGhvZHMvc2VhcmNoLWh5YnJpZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXROYW5vc2Vjb25kc1RpbWUsIHNhZmVBcnJheVB1c2gsIGZvcm1hdE5hbm9zZWNvbmRzLCByZW1vdmVWZWN0b3JzRnJvbUhpdHMgfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RGaWx0ZXJlZElEcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvZmlsdGVycy5qcyc7XG5pbXBvcnQgeyBwcmlvcml0aXplVG9rZW5TY29yZXMgfSBmcm9tICcuLi9jb21wb25lbnRzL2FsZ29yaXRobXMuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgY3JlYXRlU2VhcmNoQ29udGV4dCwgZGVmYXVsdEJNMjVQYXJhbXMgfSBmcm9tICcuL3NlYXJjaC5qcyc7XG5pbXBvcnQgeyBnZXRGYWNldHMgfSBmcm9tICcuLi9jb21wb25lbnRzL2ZhY2V0cy5qcyc7XG5pbXBvcnQgeyBnZXRHcm91cHMgfSBmcm9tICcuLi9jb21wb25lbnRzL2dyb3Vwcy5qcyc7XG5pbXBvcnQgeyBmaW5kU2ltaWxhclZlY3RvcnMgfSBmcm9tICcuLi9jb21wb25lbnRzL2Nvc2luZS1zaW1pbGFyaXR5LmpzJztcbmltcG9ydCB7IGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuaW1wb3J0IHsgZmV0Y2hEb2N1bWVudHMgfSBmcm9tICcuL3NlYXJjaC5qcyc7XG5pbXBvcnQgeyBydW5CZWZvcmVTZWFyY2gsIHJ1bkFmdGVyU2VhcmNoIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaHlicmlkU2VhcmNoKG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlKSB7XG4gICAgY29uc3QgdGltZVN0YXJ0ID0gYXdhaXQgZ2V0TmFub3NlY29uZHNUaW1lKCk7XG4gICAgaWYgKG9yYW1hLmJlZm9yZVNlYXJjaCkge1xuICAgICAgICBhd2FpdCBydW5CZWZvcmVTZWFyY2gob3JhbWEuYmVmb3JlU2VhcmNoLCBvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSk7XG4gICAgfVxuICAgIGNvbnN0IHsgb2Zmc2V0ID0wICwgbGltaXQgPTEwICwgaW5jbHVkZVZlY3RvcnMgPWZhbHNlICB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHNob3VsZENhbGN1bGF0ZUZhY2V0cyA9IHBhcmFtcy5mYWNldHMgJiYgT2JqZWN0LmtleXMocGFyYW1zLmZhY2V0cykubGVuZ3RoID4gMDtcbiAgICBjb25zdCBbZnVsbFRleHRJRHMsIHZlY3RvcklEc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGdldEZ1bGxUZXh0U2VhcmNoSURzKG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlKSxcbiAgICAgICAgZ2V0VmVjdG9yU2VhcmNoSURzKG9yYW1hLCBwYXJhbXMpXG4gICAgXSk7XG4gICAgY29uc3QgeyBpbmRleCAsIGRvY3MgIH0gPSBvcmFtYS5kYXRhO1xuICAgIGNvbnN0IGh5YnJpZFdlaWdodHMgPSBwYXJhbXMuaHlicmlkV2VpZ2h0cztcbiAgICBsZXQgdW5pcXVlVG9rZW5TY29yZXMgPSBtZXJnZUFuZFJhbmtSZXN1bHRzKGZ1bGxUZXh0SURzLCB2ZWN0b3JJRHMsIHBhcmFtcy50ZXJtID8/ICcnLCBoeWJyaWRXZWlnaHRzKTtcbiAgICAvLyBAdG9kbyBhdm9pZCB0b2tlbml6ZSB0d2ljZVxuICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IG9yYW1hLnRva2VuaXplci50b2tlbml6ZShwYXJhbXMudGVybSA/PyAnJywgbGFuZ3VhZ2UpO1xuICAgIGxldCBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBvcmFtYS5jYWNoZXNbJ3Byb3BlcnRpZXNUb1NlYXJjaCddO1xuICAgIGlmICghcHJvcGVydGllc1RvU2VhcmNoKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXNUb1NlYXJjaFdpdGhUeXBlcyA9IGF3YWl0IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKGluZGV4KTtcbiAgICAgICAgcHJvcGVydGllc1RvU2VhcmNoID0gYXdhaXQgb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpO1xuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBwcm9wZXJ0aWVzVG9TZWFyY2guZmlsdGVyKChwcm9wKT0+cHJvcGVydGllc1RvU2VhcmNoV2l0aFR5cGVzW3Byb3BdLnN0YXJ0c1dpdGgoJ3N0cmluZycpKTtcbiAgICAgICAgb3JhbWEuY2FjaGVzWydwcm9wZXJ0aWVzVG9TZWFyY2gnXSA9IHByb3BlcnRpZXNUb1NlYXJjaDtcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5wcm9wZXJ0aWVzICYmIHBhcmFtcy5wcm9wZXJ0aWVzICE9PSAnKicpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHBhcmFtcy5wcm9wZXJ0aWVzKXtcbiAgICAgICAgICAgIGlmICghcHJvcGVydGllc1RvU2VhcmNoLmluY2x1ZGVzKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1VOS05PV05fSU5ERVgnLCBwcm9wLCBwcm9wZXJ0aWVzVG9TZWFyY2guam9pbignLCAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydGllc1RvU2VhcmNoID0gcHJvcGVydGllc1RvU2VhcmNoLmZpbHRlcigocHJvcCk9PnBhcmFtcy5wcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3ApKTtcbiAgICB9XG4gICAgLy8gQHRvZG8gYXZvaWQgY3JlYXRlIGNvbnRleHQgdHdpY2VcbiAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgY3JlYXRlU2VhcmNoQ29udGV4dChvcmFtYS50b2tlbml6ZXIsIG9yYW1hLmluZGV4LCBvcmFtYS5kb2N1bWVudHNTdG9yZSwgbGFuZ3VhZ2UsIHBhcmFtcywgcHJvcGVydGllc1RvU2VhcmNoLCB0b2tlbnMsIGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmNvdW50KGRvY3MpLCB0aW1lU3RhcnQpO1xuICAgIGNvbnN0IGhhc0ZpbHRlcnMgPSBPYmplY3Qua2V5cyhwYXJhbXMud2hlcmUgPz8ge30pLmxlbmd0aCA+IDA7XG4gICAgbGV0IHdoZXJlRmlsdGVyc0lEcyA9IFtdO1xuICAgIGlmIChoYXNGaWx0ZXJzKSB7XG4gICAgICAgIHdoZXJlRmlsdGVyc0lEcyA9IGF3YWl0IG9yYW1hLmluZGV4LnNlYXJjaEJ5V2hlcmVDbGF1c2UoY29udGV4dCwgaW5kZXgsIHBhcmFtcy53aGVyZSk7XG4gICAgICAgIHVuaXF1ZVRva2VuU2NvcmVzID0gaW50ZXJzZWN0RmlsdGVyZWRJRHMod2hlcmVGaWx0ZXJzSURzLCB1bmlxdWVUb2tlblNjb3Jlcyk7XG4gICAgfVxuICAgIGxldCBmYWNldHNSZXN1bHRzO1xuICAgIGlmIChzaG91bGRDYWxjdWxhdGVGYWNldHMpIHtcbiAgICAgICAgY29uc3QgZmFjZXRzID0gYXdhaXQgZ2V0RmFjZXRzKG9yYW1hLCB1bmlxdWVUb2tlblNjb3JlcywgcGFyYW1zLmZhY2V0cyk7XG4gICAgICAgIGZhY2V0c1Jlc3VsdHMgPSBmYWNldHM7XG4gICAgfVxuICAgIGxldCBncm91cHM7XG4gICAgaWYgKHBhcmFtcy5ncm91cEJ5KSB7XG4gICAgICAgIGdyb3VwcyA9IGF3YWl0IGdldEdyb3VwcyhvcmFtYSwgdW5pcXVlVG9rZW5TY29yZXMsIHBhcmFtcy5ncm91cEJ5KTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IChhd2FpdCBmZXRjaERvY3VtZW50cyhvcmFtYSwgdW5pcXVlVG9rZW5TY29yZXMsIG9mZnNldCwgbGltaXQpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKG9yYW1hLmFmdGVyU2VhcmNoKSB7XG4gICAgICAgIGF3YWl0IHJ1bkFmdGVyU2VhcmNoKG9yYW1hLmFmdGVyU2VhcmNoLCBvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSwgcmVzdWx0cyk7XG4gICAgfVxuICAgIGNvbnN0IHRpbWVFbmQgPSBhd2FpdCBnZXROYW5vc2Vjb25kc1RpbWUoKTtcbiAgICBjb25zdCByZXR1cm5pbmdSZXN1bHRzID0ge1xuICAgICAgICBjb3VudDogdW5pcXVlVG9rZW5TY29yZXMubGVuZ3RoLFxuICAgICAgICBlbGFwc2VkOiB7XG4gICAgICAgICAgICByYXc6IE51bWJlcih0aW1lRW5kIC0gdGltZVN0YXJ0KSxcbiAgICAgICAgICAgIGZvcm1hdHRlZDogYXdhaXQgZm9ybWF0TmFub3NlY29uZHModGltZUVuZCAtIHRpbWVTdGFydClcbiAgICAgICAgfSxcbiAgICAgICAgaGl0czogcmVzdWx0cyxcbiAgICAgICAgLi4uZmFjZXRzUmVzdWx0cyA/IHtcbiAgICAgICAgICAgIGZhY2V0czogZmFjZXRzUmVzdWx0c1xuICAgICAgICB9IDoge30sXG4gICAgICAgIC4uLmdyb3VwcyA/IHtcbiAgICAgICAgICAgIGdyb3Vwc1xuICAgICAgICB9IDoge31cbiAgICB9O1xuICAgIGlmICghaW5jbHVkZVZlY3RvcnMpIHtcbiAgICAgICAgY29uc3QgdmVjdG9yUHJvcGVydGllcyA9IE9iamVjdC5rZXlzKG9yYW1hLmRhdGEuaW5kZXgudmVjdG9ySW5kZXhlcyk7XG4gICAgICAgIHJlbW92ZVZlY3RvcnNGcm9tSGl0cyhyZXR1cm5pbmdSZXN1bHRzLCB2ZWN0b3JQcm9wZXJ0aWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldHVybmluZ1Jlc3VsdHM7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRGdWxsVGV4dFNlYXJjaElEcyhvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IHRpbWVTdGFydCA9IGF3YWl0IGdldE5hbm9zZWNvbmRzVGltZSgpO1xuICAgIHBhcmFtcy5yZWxldmFuY2UgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRCTTI1UGFyYW1zLCBwYXJhbXMucmVsZXZhbmNlID8/IHt9KTtcbiAgICBjb25zdCB7IHRlcm0gPScnICwgcHJvcGVydGllcyAsIHRocmVzaG9sZCA9MCAgfSA9IHBhcmFtcztcbiAgICBjb25zdCB7IGluZGV4ICwgZG9jcyAgfSA9IG9yYW1hLmRhdGE7XG4gICAgY29uc3QgdG9rZW5zID0gYXdhaXQgb3JhbWEudG9rZW5pemVyLnRva2VuaXplKHRlcm0sIGxhbmd1YWdlKTtcbiAgICAvLyBHZXQgc2VhcmNoYWJsZSBzdHJpbmcgcHJvcGVydGllc1xuICAgIGxldCBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBvcmFtYS5jYWNoZXNbJ3Byb3BlcnRpZXNUb1NlYXJjaCddO1xuICAgIGlmICghcHJvcGVydGllc1RvU2VhcmNoKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXNUb1NlYXJjaFdpdGhUeXBlcyA9IGF3YWl0IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKGluZGV4KTtcbiAgICAgICAgcHJvcGVydGllc1RvU2VhcmNoID0gYXdhaXQgb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpO1xuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBwcm9wZXJ0aWVzVG9TZWFyY2guZmlsdGVyKChwcm9wKT0+cHJvcGVydGllc1RvU2VhcmNoV2l0aFR5cGVzW3Byb3BdLnN0YXJ0c1dpdGgoJ3N0cmluZycpKTtcbiAgICAgICAgb3JhbWEuY2FjaGVzWydwcm9wZXJ0aWVzVG9TZWFyY2gnXSA9IHByb3BlcnRpZXNUb1NlYXJjaDtcbiAgICB9XG4gICAgaWYgKHByb3BlcnRpZXMgJiYgcHJvcGVydGllcyAhPT0gJyonKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXNUb1NlYXJjaFNldCA9IG5ldyBTZXQocHJvcGVydGllc1RvU2VhcmNoKTtcbiAgICAgICAgY29uc3QgcHJvcGVydGllc1NldCA9IG5ldyBTZXQocHJvcGVydGllcyk7XG4gICAgICAgIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wZXJ0aWVzKXtcbiAgICAgICAgICAgIGlmICghcHJvcGVydGllc1RvU2VhcmNoU2V0Lmhhcyhwcm9wKSkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdVTktOT1dOX0lOREVYJywgcHJvcCwgcHJvcGVydGllc1RvU2VhcmNoLmpvaW4oJywgJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHByb3BlcnRpZXNUb1NlYXJjaCA9IHByb3BlcnRpZXNUb1NlYXJjaC5maWx0ZXIoKHByb3ApPT5wcm9wZXJ0aWVzU2V0Lmhhcyhwcm9wKSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSB0aGUgc2VhcmNoIGNvbnRleHQgYW5kIHRoZSByZXN1bHRzXG4gICAgY29uc3QgY29udGV4dCA9IGF3YWl0IGNyZWF0ZVNlYXJjaENvbnRleHQob3JhbWEudG9rZW5pemVyLCBvcmFtYS5pbmRleCwgb3JhbWEuZG9jdW1lbnRzU3RvcmUsIGxhbmd1YWdlLCBwYXJhbXMsIHByb3BlcnRpZXNUb1NlYXJjaCwgdG9rZW5zLCBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5jb3VudChkb2NzKSwgdGltZVN0YXJ0KTtcbiAgICBjb25zdCB0b2tlbnNMZW5ndGggPSB0b2tlbnMubGVuZ3RoO1xuICAgIGlmICh0b2tlbnNMZW5ndGggfHwgcHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gTm93IGl0J3MgdGltZSB0byBsb29wIG92ZXIgYWxsIHRoZSBpbmRpY2VzIGFuZCBnZXQgdGhlIGRvY3VtZW50cyBJRHMgZm9yIGV2ZXJ5IHNpbmdsZSB0ZXJtXG4gICAgICAgIGNvbnN0IGluZGV4ZXNMZW5ndGggPSBwcm9wZXJ0aWVzVG9TZWFyY2gubGVuZ3RoO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaW5kZXhlc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHZhciBfcGFyYW1zX2Jvb3N0O1xuICAgICAgICAgICAgY29uc3QgcHJvcCA9IHByb3BlcnRpZXNUb1NlYXJjaFtpXTtcbiAgICAgICAgICAgIGlmICh0b2tlbnNMZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgdG9rZW5zTGVuZ3RoOyBqKyspe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtID0gdG9rZW5zW2pdO1xuICAgICAgICAgICAgICAgICAgICAvLyBMb29rdXBcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVMaXN0ID0gYXdhaXQgb3JhbWEuaW5kZXguc2VhcmNoKGNvbnRleHQsIGluZGV4LCBwcm9wLCB0ZXJtKTtcbiAgICAgICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChjb250ZXh0LmluZGV4TWFwW3Byb3BdW3Rlcm1dLCBzY29yZUxpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXhNYXBDb250ZW50ID0gW107XG4gICAgICAgICAgICAgICAgY29udGV4dC5pbmRleE1hcFtwcm9wXVsnJ10gPSBpbmRleE1hcENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVMaXN0ID0gYXdhaXQgb3JhbWEuaW5kZXguc2VhcmNoKGNvbnRleHQsIGluZGV4LCBwcm9wLCAnJyk7XG4gICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChpbmRleE1hcENvbnRlbnQsIHNjb3JlTGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkb2NJZHMgPSBjb250ZXh0LmluZGV4TWFwW3Byb3BdO1xuICAgICAgICAgICAgY29uc3QgdmFscyA9IE9iamVjdC52YWx1ZXMoZG9jSWRzKTtcbiAgICAgICAgICAgIGNvbnRleHQuZG9jc0ludGVyc2VjdGlvbltwcm9wXSA9IHByaW9yaXRpemVUb2tlblNjb3Jlcyh2YWxzLCAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9wYXJhbXNfYm9vc3QgPSBwYXJhbXMuYm9vc3QpID09PSBudWxsIHx8IF9wYXJhbXNfYm9vc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wYXJhbXNfYm9vc3RbcHJvcF0pID8/IDEsIHRocmVzaG9sZCwgdG9rZW5zTGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZURvY3MgPSBjb250ZXh0LmRvY3NJbnRlcnNlY3Rpb25bcHJvcF07XG4gICAgICAgICAgICBjb25zdCB1bmlxdWVEb2NzTGVuZ3RoID0gdW5pcXVlRG9jcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdW5pcXVlRG9jc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBjb25zdCBbaWQsIHNjb3JlXSA9IHVuaXF1ZURvY3NbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlNjb3JlID0gY29udGV4dC51bmlxdWVEb2NzSURzW2lkXTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnVuaXF1ZURvY3NJRHNbaWRdID0gcHJldlNjb3JlID8gcHJldlNjb3JlICsgc2NvcmUgKyAwLjUgOiBzY29yZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCAmJiB0ZXJtKSB7XG4gICAgICAgIC8vIFRoaXMgY2FzZSBpcyBoYXJkIHRvIGhhbmRsZSBjb3JyZWN0bHkuXG4gICAgICAgIC8vIEZvciB0aGUgdGltZSBiZWluZywgaWYgdG9rZW5pemVyIHJldHVybnMgZW1wdHkgYXJyYXkgYnV0IHRoZSB0ZXJtIGlzIG5vdCBlbXB0eSxcbiAgICAgICAgLy8gd2UgcmV0dXJucyBhbiBlbXB0eSByZXN1bHQgc2V0XG4gICAgICAgIGNvbnRleHQudW5pcXVlRG9jc0lEcyA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRleHQudW5pcXVlRG9jc0lEcyA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyhhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXRBbGwob3JhbWEuZGF0YS5kb2NzKSkubWFwKChrKT0+W1xuICAgICAgICAgICAgICAgIGssXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgXSkpO1xuICAgIH1cbiAgICBjb25zdCB1bmlxdWVJRHMgPSBPYmplY3QuZW50cmllcyhjb250ZXh0LnVuaXF1ZURvY3NJRHMpLm1hcCgoW2lkLCBzY29yZV0pPT5bXG4gICAgICAgICAgICAraWQsXG4gICAgICAgICAgICBzY29yZVxuICAgICAgICBdKS5zb3J0KChhLCBiKT0+YlsxXSAtIGFbMV0pO1xuICAgIHJldHVybiBtaW5NYXhTY29yZU5vcm1hbGl6YXRpb24odW5pcXVlSURzKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRWZWN0b3JTZWFyY2hJRHMob3JhbWEsIHBhcmFtcykge1xuICAgIGNvbnN0IHZlY3RvciA9IHBhcmFtcy52ZWN0b3I7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRlZC1vcHRpb25hbC1jaGFpblxuICAgIGNvbnN0IHZlY3RvckluZGV4ID0gb3JhbWEuZGF0YS5pbmRleC52ZWN0b3JJbmRleGVzW3ZlY3RvciA9PT0gbnVsbCB8fCB2ZWN0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZlY3Rvci5wcm9wZXJ0eV07XG4gICAgY29uc3QgdmVjdG9yU2l6ZSA9IHZlY3RvckluZGV4LnNpemU7XG4gICAgY29uc3QgdmVjdG9ycyA9IHZlY3RvckluZGV4LnZlY3RvcnM7XG4gICAgaWYgKHZlY3RvciAmJiAoIXZlY3Rvci52YWx1ZSB8fCAhdmVjdG9yLnByb3BlcnR5KSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9WRUNUT1JfSU5QVVQnLCBPYmplY3Qua2V5cyh2ZWN0b3IpLmpvaW4oJywgJykpO1xuICAgIH1cbiAgICBpZiAodmVjdG9yLnZhbHVlLmxlbmd0aCAhPT0gdmVjdG9yU2l6ZSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9JTlBVVF9WRUNUT1InLCB2ZWN0b3IucHJvcGVydHksIHZlY3RvclNpemUsIHZlY3Rvci52YWx1ZS5sZW5ndGgpO1xuICAgIH1cbiAgICBpZiAoISh2ZWN0b3IgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpKSB7XG4gICAgICAgIHZlY3Rvci52YWx1ZSA9IG5ldyBGbG9hdDMyQXJyYXkodmVjdG9yLnZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgdW5pcXVlSURzID0gZmluZFNpbWlsYXJWZWN0b3JzKHZlY3Rvci52YWx1ZSwgdmVjdG9ycywgdmVjdG9yU2l6ZSwgcGFyYW1zLnNpbWlsYXJpdHkpLm1hcCgoW2lkLCBzY29yZV0pPT5bXG4gICAgICAgICAgICBnZXRJbnRlcm5hbERvY3VtZW50SWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKSxcbiAgICAgICAgICAgIHNjb3JlXG4gICAgICAgIF0pO1xuICAgIHJldHVybiBtaW5NYXhTY29yZU5vcm1hbGl6YXRpb24odW5pcXVlSURzKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RTY29yZShbLCBzY29yZV0pIHtcbiAgICByZXR1cm4gc2NvcmU7XG59XG5mdW5jdGlvbiBtaW5NYXhTY29yZU5vcm1hbGl6YXRpb24ocmVzdWx0cykge1xuICAgIC8vIEluIHRoaXMgY2FzZSBJIGRpc2FibGVkIHRoZSBgcHJlZmVyLXNwcmVhZGAgcnVsZSBiZWNhdXNlIHNwcmVhZCBzZWVtcyB0byBiZSBzbG93ZXJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgIGNvbnN0IG1heFNjb3JlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgcmVzdWx0cy5tYXAoZXh0cmFjdFNjb3JlKSk7XG4gICAgcmV0dXJuIHJlc3VsdHMubWFwKChbaWQsIHNjb3JlXSk9PltcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgc2NvcmUgLyBtYXhTY29yZVxuICAgICAgICBdKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNjb3JlKHNjb3JlLCBtYXhTY29yZSkge1xuICAgIHJldHVybiBzY29yZSAvIG1heFNjb3JlO1xufVxuZnVuY3Rpb24gaHlicmlkU2NvcmVCdWlsZGVyKHRleHRXZWlnaHQsIHZlY3RvcldlaWdodCkge1xuICAgIHJldHVybiAodGV4dFNjb3JlLCB2ZWN0b3JTY29yZSk9PnRleHRTY29yZSAqIHRleHRXZWlnaHQgKyB2ZWN0b3JTY29yZSAqIHZlY3RvcldlaWdodDtcbn1cbmZ1bmN0aW9uIG1lcmdlQW5kUmFua1Jlc3VsdHModGV4dFJlc3VsdHMsIHZlY3RvclJlc3VsdHMsIHF1ZXJ5LCBoeWJyaWRXZWlnaHRzKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICBjb25zdCBtYXhUZXh0U2NvcmUgPSBNYXRoLm1heC5hcHBseShNYXRoLCB0ZXh0UmVzdWx0cy5tYXAoZXh0cmFjdFNjb3JlKSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1zcHJlYWRcbiAgICBjb25zdCBtYXhWZWN0b3JTY29yZSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHZlY3RvclJlc3VsdHMubWFwKGV4dHJhY3RTY29yZSkpO1xuICAgIGNvbnN0IGhhc0h5YnJpZFdlaWdodHMgPSBoeWJyaWRXZWlnaHRzICYmIGh5YnJpZFdlaWdodHMudGV4dCAmJiBoeWJyaWRXZWlnaHRzLnZlY3RvcjtcbiAgICBjb25zdCB7IHRleHQ6IHRleHRXZWlnaHQgLCB2ZWN0b3I6IHZlY3RvcldlaWdodCAgfSA9IGhhc0h5YnJpZFdlaWdodHMgPyBoeWJyaWRXZWlnaHRzIDogZ2V0UXVlcnlXZWlnaHRzKHF1ZXJ5KTtcbiAgICBjb25zdCBtZXJnZWRSZXN1bHRzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHRleHRSZXN1bHRzTGVuZ3RoID0gdGV4dFJlc3VsdHMubGVuZ3RoO1xuICAgIGNvbnN0IGh5YnJpZFNjb3JlID0gaHlicmlkU2NvcmVCdWlsZGVyKHRleHRXZWlnaHQsIHZlY3RvcldlaWdodCk7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRleHRSZXN1bHRzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBbaWQsIHNjb3JlXSA9IHRleHRSZXN1bHRzW2ldO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkU2NvcmUgPSBub3JtYWxpemVTY29yZShzY29yZSwgbWF4VGV4dFNjb3JlKTtcbiAgICAgICAgY29uc3QgaHlicmlkU2NvcmVWYWx1ZSA9IGh5YnJpZFNjb3JlKG5vcm1hbGl6ZWRTY29yZSwgMCk7XG4gICAgICAgIG1lcmdlZFJlc3VsdHMuc2V0KGlkLCBoeWJyaWRTY29yZVZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgdmVjdG9yUmVzdWx0c0xlbmd0aCA9IHZlY3RvclJlc3VsdHMubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2ZWN0b3JSZXN1bHRzTGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBbcmVzdWx0SWQsIHNjb3JlXSA9IHZlY3RvclJlc3VsdHNbaV07XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTY29yZSA9IG5vcm1hbGl6ZVNjb3JlKHNjb3JlLCBtYXhWZWN0b3JTY29yZSk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUmVzID0gbWVyZ2VkUmVzdWx0cy5nZXQocmVzdWx0SWQpID8/IDA7XG4gICAgICAgIG1lcmdlZFJlc3VsdHMuc2V0KHJlc3VsdElkLCBleGlzdGluZ1JlcyArIGh5YnJpZFNjb3JlKDAsIG5vcm1hbGl6ZWRTY29yZSkpO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgICAuLi5tZXJnZWRSZXN1bHRzXG4gICAgXS5zb3J0KChhLCBiKT0+YlsxXSAtIGFbMV0pO1xufVxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuZnVuY3Rpb24gZ2V0UXVlcnlXZWlnaHRzKHF1ZXJ5KSB7XG4gICAgLy8gSW4gdGhlIG5leHQgdmVyc2lvbnMgb2YgT3JhbWEsIHdlIHdpbGwgc2hpcCBhIHBsdWdpbiBjb250YWluaW5nIGEgTUwgbW9kZWwgdG8gYWRqdXN0IHRoZSB3ZWlnaHRzXG4gICAgLy8gYmFzZWQgb24gd2hldGhlciB0aGUgcXVlcnkgaXMga2V5d29yZC1mb2N1c2VkLCBjb25jZXB0dWFsLCBldGMuXG4gICAgLy8gRm9yIG5vdywgd2UganVzdCByZXR1cm4gYSBmaXhlZCB2YWx1ZS5cbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiAwLjUsXG4gICAgICAgIHZlY3RvcjogMC41XG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VhcmNoLWh5YnJpZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-hybrid.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-vector.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-vector.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   searchVector: () => (/* binding */ searchVector)\n/* harmony export */ });\n/* harmony import */ var _search_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./search.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n/* harmony import */ var _components_facets_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/facets.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/facets.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _components_cosine_similarity_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/cosine-similarity.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/cosine-similarity.js\");\n/* harmony import */ var _components_filters_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/filters.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/filters.js\");\n/* harmony import */ var _components_groups_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../components/groups.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/groups.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\");\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/hooks.js\");\n\n\n\n\n\n\n\n\n\nasync function searchVector(orama, params, language = 'english') {\n    const timeStart = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n    if (orama.beforeSearch) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_1__.runBeforeSearch)(orama.beforeSearch, orama, params, language);\n    }\n    const { vector  } = params;\n    if (vector && (!('value' in vector) || !('property' in vector))) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('INVALID_VECTOR_INPUT', Object.keys(vector).join(', '));\n    }\n    const { limit =10 , offset =0 , includeVectors =false  } = params;\n    const vectorIndex = orama.data.index.vectorIndexes[vector.property];\n    const vectorSize = vectorIndex.size;\n    const vectors = vectorIndex.vectors;\n    const shouldCalculateFacets = params.facets && Object.keys(params.facets).length > 0;\n    const hasFilters = Object.keys(params.where ?? {}).length > 0;\n    const { index , docs: oramaDocs  } = orama.data;\n    if ((vector === null || vector === void 0 ? void 0 : vector.value.length) !== vectorSize) {\n        // eslint-disable-next-line\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('INVALID_INPUT_VECTOR', vector === null || vector === void 0 ? void 0 : vector.property, vectorSize, vector === null || vector === void 0 ? void 0 : vector.value.length);\n    }\n    if (!(vector instanceof Float32Array)) {\n        vector.value = new Float32Array(vector.value);\n    }\n    let results = (0,_components_cosine_similarity_js__WEBPACK_IMPORTED_MODULE_3__.findSimilarVectors)(vector.value, vectors, vectorSize, params.similarity).map(([id, score])=>[\n            (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_4__.getInternalDocumentId)(orama.internalDocumentIDStore, id),\n            score\n        ]);\n    let propertiesToSearch = orama.caches['propertiesToSearch'];\n    if (!propertiesToSearch) {\n        const propertiesToSearchWithTypes = await orama.index.getSearchablePropertiesWithTypes(index);\n        propertiesToSearch = await orama.index.getSearchableProperties(index);\n        propertiesToSearch = propertiesToSearch.filter((prop)=>propertiesToSearchWithTypes[prop].startsWith('string'));\n        orama.caches['propertiesToSearch'] = propertiesToSearch;\n    }\n    const tokens = [];\n    const context = await (0,_search_js__WEBPACK_IMPORTED_MODULE_5__.createSearchContext)(orama.tokenizer, orama.index, orama.documentsStore, language, params, propertiesToSearch, tokens, await orama.documentsStore.count(oramaDocs), timeStart);\n    let whereFiltersIDs = [];\n    if (hasFilters) {\n        whereFiltersIDs = await orama.index.searchByWhereClause(context, index, params.where);\n        results = (0,_components_filters_js__WEBPACK_IMPORTED_MODULE_6__.intersectFilteredIDs)(whereFiltersIDs, results);\n    }\n    let facetsResults = [];\n    if (shouldCalculateFacets) {\n        // Populate facets if needed\n        const facets = await (0,_components_facets_js__WEBPACK_IMPORTED_MODULE_7__.getFacets)(orama, results, params.facets);\n        facetsResults = facets;\n    }\n    const docs = Array.from({\n        length: limit\n    });\n    for(let i = 0; i < limit; i++){\n        const result = results[i + offset];\n        if (!result) {\n            break;\n        }\n        const doc = orama.data.docs.docs[result[0]];\n        if (doc) {\n            if (!includeVectors) {\n                doc[vector.property] = null;\n            }\n            const newDoc = {\n                id: (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_4__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, result[0]),\n                score: result[1],\n                document: doc\n            };\n            docs[i] = newDoc;\n        }\n    }\n    let groups = [];\n    if (params.groupBy) {\n        groups = await (0,_components_groups_js__WEBPACK_IMPORTED_MODULE_8__.getGroups)(orama, results, params.groupBy);\n    }\n    if (orama.afterSearch) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_1__.runAfterSearch)(orama.afterSearch, orama, params, language, results);\n    }\n    const timeEnd = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n    const elapsedTime = timeEnd - timeStart;\n    return {\n        count: results.length,\n        hits: docs.filter(Boolean),\n        elapsed: {\n            raw: Number(elapsedTime),\n            formatted: await (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.formatNanoseconds)(elapsedTime)\n        },\n        ...facetsResults ? {\n            facets: facetsResults\n        } : {},\n        ...groups ? {\n            groups\n        } : {}\n    };\n}\n\n//# sourceMappingURL=search-vector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3NlYXJjaC12ZWN0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFrRDtBQUNrQjtBQUNoQjtBQUNUO0FBQzZCO0FBQ1I7QUFDWjtBQUM2RDtBQUN4QztBQUNsRTtBQUNQLDRCQUE0Qiw2REFBa0I7QUFDOUM7QUFDQSxjQUFjLHFFQUFlO0FBQzdCO0FBQ0EsWUFBWSxVQUFVO0FBQ3RCO0FBQ0EsY0FBYyx1REFBVztBQUN6QjtBQUNBLFlBQVksaURBQWlEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JELFlBQVksMkJBQTJCO0FBQ3ZDO0FBQ0E7QUFDQSxjQUFjLHVEQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG9GQUFrQjtBQUNwQyxZQUFZLGdHQUFxQjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwrREFBbUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDRFQUFvQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnRUFBUztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxtQkFBbUIsV0FBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzR0FBMkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnRUFBUztBQUNoQztBQUNBO0FBQ0EsY0FBYyxvRUFBYztBQUM1QjtBQUNBLDBCQUEwQiw2REFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDREQUFpQjtBQUM5QyxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFVBQVUsSUFBSTtBQUNkO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvbWV0aG9kcy9zZWFyY2gtdmVjdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNlYXJjaENvbnRleHQgfSBmcm9tICcuL3NlYXJjaC5qcyc7XG5pbXBvcnQgeyBnZXROYW5vc2Vjb25kc1RpbWUsIGZvcm1hdE5hbm9zZWNvbmRzIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0RmFjZXRzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9mYWNldHMuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZmluZFNpbWlsYXJWZWN0b3JzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9jb3NpbmUtc2ltaWxhcml0eS5qcyc7XG5pbXBvcnQgeyBpbnRlcnNlY3RGaWx0ZXJlZElEcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvZmlsdGVycy5qcyc7XG5pbXBvcnQgeyBnZXRHcm91cHMgfSBmcm9tICcuLi9jb21wb25lbnRzL2dyb3Vwcy5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQsIGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuaW1wb3J0IHsgcnVuQmVmb3JlU2VhcmNoLCBydW5BZnRlclNlYXJjaCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaG9va3MuanMnO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaFZlY3RvcihvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSA9ICdlbmdsaXNoJykge1xuICAgIGNvbnN0IHRpbWVTdGFydCA9IGF3YWl0IGdldE5hbm9zZWNvbmRzVGltZSgpO1xuICAgIGlmIChvcmFtYS5iZWZvcmVTZWFyY2gpIHtcbiAgICAgICAgYXdhaXQgcnVuQmVmb3JlU2VhcmNoKG9yYW1hLmJlZm9yZVNlYXJjaCwgb3JhbWEsIHBhcmFtcywgbGFuZ3VhZ2UpO1xuICAgIH1cbiAgICBjb25zdCB7IHZlY3RvciAgfSA9IHBhcmFtcztcbiAgICBpZiAodmVjdG9yICYmICghKCd2YWx1ZScgaW4gdmVjdG9yKSB8fCAhKCdwcm9wZXJ0eScgaW4gdmVjdG9yKSkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfVkVDVE9SX0lOUFVUJywgT2JqZWN0LmtleXModmVjdG9yKS5qb2luKCcsICcpKTtcbiAgICB9XG4gICAgY29uc3QgeyBsaW1pdCA9MTAgLCBvZmZzZXQgPTAgLCBpbmNsdWRlVmVjdG9ycyA9ZmFsc2UgIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgdmVjdG9ySW5kZXggPSBvcmFtYS5kYXRhLmluZGV4LnZlY3RvckluZGV4ZXNbdmVjdG9yLnByb3BlcnR5XTtcbiAgICBjb25zdCB2ZWN0b3JTaXplID0gdmVjdG9ySW5kZXguc2l6ZTtcbiAgICBjb25zdCB2ZWN0b3JzID0gdmVjdG9ySW5kZXgudmVjdG9ycztcbiAgICBjb25zdCBzaG91bGRDYWxjdWxhdGVGYWNldHMgPSBwYXJhbXMuZmFjZXRzICYmIE9iamVjdC5rZXlzKHBhcmFtcy5mYWNldHMpLmxlbmd0aCA+IDA7XG4gICAgY29uc3QgaGFzRmlsdGVycyA9IE9iamVjdC5rZXlzKHBhcmFtcy53aGVyZSA/PyB7fSkubGVuZ3RoID4gMDtcbiAgICBjb25zdCB7IGluZGV4ICwgZG9jczogb3JhbWFEb2NzICB9ID0gb3JhbWEuZGF0YTtcbiAgICBpZiAoKHZlY3RvciA9PT0gbnVsbCB8fCB2ZWN0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZlY3Rvci52YWx1ZS5sZW5ndGgpICE9PSB2ZWN0b3JTaXplKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9JTlBVVF9WRUNUT1InLCB2ZWN0b3IgPT09IG51bGwgfHwgdmVjdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2ZWN0b3IucHJvcGVydHksIHZlY3RvclNpemUsIHZlY3RvciA9PT0gbnVsbCB8fCB2ZWN0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZlY3Rvci52YWx1ZS5sZW5ndGgpO1xuICAgIH1cbiAgICBpZiAoISh2ZWN0b3IgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpKSB7XG4gICAgICAgIHZlY3Rvci52YWx1ZSA9IG5ldyBGbG9hdDMyQXJyYXkodmVjdG9yLnZhbHVlKTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdHMgPSBmaW5kU2ltaWxhclZlY3RvcnModmVjdG9yLnZhbHVlLCB2ZWN0b3JzLCB2ZWN0b3JTaXplLCBwYXJhbXMuc2ltaWxhcml0eSkubWFwKChbaWQsIHNjb3JlXSk9PltcbiAgICAgICAgICAgIGdldEludGVybmFsRG9jdW1lbnRJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpLFxuICAgICAgICAgICAgc2NvcmVcbiAgICAgICAgXSk7XG4gICAgbGV0IHByb3BlcnRpZXNUb1NlYXJjaCA9IG9yYW1hLmNhY2hlc1sncHJvcGVydGllc1RvU2VhcmNoJ107XG4gICAgaWYgKCFwcm9wZXJ0aWVzVG9TZWFyY2gpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydGllc1RvU2VhcmNoV2l0aFR5cGVzID0gYXdhaXQgb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoaW5kZXgpO1xuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBhd2FpdCBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCk7XG4gICAgICAgIHByb3BlcnRpZXNUb1NlYXJjaCA9IHByb3BlcnRpZXNUb1NlYXJjaC5maWx0ZXIoKHByb3ApPT5wcm9wZXJ0aWVzVG9TZWFyY2hXaXRoVHlwZXNbcHJvcF0uc3RhcnRzV2l0aCgnc3RyaW5nJykpO1xuICAgICAgICBvcmFtYS5jYWNoZXNbJ3Byb3BlcnRpZXNUb1NlYXJjaCddID0gcHJvcGVydGllc1RvU2VhcmNoO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbnMgPSBbXTtcbiAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgY3JlYXRlU2VhcmNoQ29udGV4dChvcmFtYS50b2tlbml6ZXIsIG9yYW1hLmluZGV4LCBvcmFtYS5kb2N1bWVudHNTdG9yZSwgbGFuZ3VhZ2UsIHBhcmFtcywgcHJvcGVydGllc1RvU2VhcmNoLCB0b2tlbnMsIGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmNvdW50KG9yYW1hRG9jcyksIHRpbWVTdGFydCk7XG4gICAgbGV0IHdoZXJlRmlsdGVyc0lEcyA9IFtdO1xuICAgIGlmIChoYXNGaWx0ZXJzKSB7XG4gICAgICAgIHdoZXJlRmlsdGVyc0lEcyA9IGF3YWl0IG9yYW1hLmluZGV4LnNlYXJjaEJ5V2hlcmVDbGF1c2UoY29udGV4dCwgaW5kZXgsIHBhcmFtcy53aGVyZSk7XG4gICAgICAgIHJlc3VsdHMgPSBpbnRlcnNlY3RGaWx0ZXJlZElEcyh3aGVyZUZpbHRlcnNJRHMsIHJlc3VsdHMpO1xuICAgIH1cbiAgICBsZXQgZmFjZXRzUmVzdWx0cyA9IFtdO1xuICAgIGlmIChzaG91bGRDYWxjdWxhdGVGYWNldHMpIHtcbiAgICAgICAgLy8gUG9wdWxhdGUgZmFjZXRzIGlmIG5lZWRlZFxuICAgICAgICBjb25zdCBmYWNldHMgPSBhd2FpdCBnZXRGYWNldHMob3JhbWEsIHJlc3VsdHMsIHBhcmFtcy5mYWNldHMpO1xuICAgICAgICBmYWNldHNSZXN1bHRzID0gZmFjZXRzO1xuICAgIH1cbiAgICBjb25zdCBkb2NzID0gQXJyYXkuZnJvbSh7XG4gICAgICAgIGxlbmd0aDogbGltaXRcbiAgICB9KTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGltaXQ7IGkrKyl7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdHNbaSArIG9mZnNldF07XG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkb2MgPSBvcmFtYS5kYXRhLmRvY3MuZG9jc1tyZXN1bHRbMF1dO1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgICBpZiAoIWluY2x1ZGVWZWN0b3JzKSB7XG4gICAgICAgICAgICAgICAgZG9jW3ZlY3Rvci5wcm9wZXJ0eV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3RG9jID0ge1xuICAgICAgICAgICAgICAgIGlkOiBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIHJlc3VsdFswXSksXG4gICAgICAgICAgICAgICAgc2NvcmU6IHJlc3VsdFsxXSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogZG9jXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZG9jc1tpXSA9IG5ld0RvYztcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgZ3JvdXBzID0gW107XG4gICAgaWYgKHBhcmFtcy5ncm91cEJ5KSB7XG4gICAgICAgIGdyb3VwcyA9IGF3YWl0IGdldEdyb3VwcyhvcmFtYSwgcmVzdWx0cywgcGFyYW1zLmdyb3VwQnkpO1xuICAgIH1cbiAgICBpZiAob3JhbWEuYWZ0ZXJTZWFyY2gpIHtcbiAgICAgICAgYXdhaXQgcnVuQWZ0ZXJTZWFyY2gob3JhbWEuYWZ0ZXJTZWFyY2gsIG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlLCByZXN1bHRzKTtcbiAgICB9XG4gICAgY29uc3QgdGltZUVuZCA9IGF3YWl0IGdldE5hbm9zZWNvbmRzVGltZSgpO1xuICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gdGltZUVuZCAtIHRpbWVTdGFydDtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb3VudDogcmVzdWx0cy5sZW5ndGgsXG4gICAgICAgIGhpdHM6IGRvY3MuZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICBlbGFwc2VkOiB7XG4gICAgICAgICAgICByYXc6IE51bWJlcihlbGFwc2VkVGltZSksXG4gICAgICAgICAgICBmb3JtYXR0ZWQ6IGF3YWl0IGZvcm1hdE5hbm9zZWNvbmRzKGVsYXBzZWRUaW1lKVxuICAgICAgICB9LFxuICAgICAgICAuLi5mYWNldHNSZXN1bHRzID8ge1xuICAgICAgICAgICAgZmFjZXRzOiBmYWNldHNSZXN1bHRzXG4gICAgICAgIH0gOiB7fSxcbiAgICAgICAgLi4uZ3JvdXBzID8ge1xuICAgICAgICAgICAgZ3JvdXBzXG4gICAgICAgIH0gOiB7fVxuICAgIH07XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlYXJjaC12ZWN0b3IuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-vector.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSearchContext: () => (/* binding */ createSearchContext),\n/* harmony export */   defaultBM25Params: () => (/* binding */ defaultBM25Params),\n/* harmony export */   fetchDocuments: () => (/* binding */ fetchDocuments),\n/* harmony export */   fetchDocumentsWithDistinct: () => (/* binding */ fetchDocumentsWithDistinct),\n/* harmony export */   search: () => (/* binding */ search)\n/* harmony export */ });\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/internal-document-id-store.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/constants.js\");\n/* harmony import */ var _search_fulltext_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./search-fulltext.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-fulltext.js\");\n/* harmony import */ var _search_vector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./search-vector.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-vector.js\");\n/* harmony import */ var _search_hybrid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./search-hybrid.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search-hybrid.js\");\n\n\n\n\n\n\n\nconst defaultBM25Params = {\n    k: 1.2,\n    b: 0.75,\n    d: 0.5\n};\nasync function createSearchContext(tokenizer, index, documentsStore, language, params, properties, tokens, docsCount, timeStart) {\n    // If filters are enabled, we need to get the IDs of the documents that match the filters.\n    // const hasFilters = Object.keys(params.where ?? {}).length > 0;\n    // let whereFiltersIDs: string[] = [];\n    // if (hasFilters) {\n    //   whereFiltersIDs = getWhereFiltersIDs(params.where!, orama);\n    // }\n    // indexMap is an object containing all the indexes considered for the current search,\n    // and an array of doc IDs for each token in all the indices.\n    //\n    // Given the search term \"quick brown fox\" on the \"description\" index,\n    // indexMap will look like this:\n    //\n    // {\n    //   description: {\n    //     quick: [doc1, doc2, doc3],\n    //     brown: [doc2, doc4],\n    //     fox:   [doc2]\n    //   }\n    // }\n    const indexMap = {};\n    // After we create the indexMap, we need to calculate the intersection\n    // between all the postings lists for each token.\n    // Given the example above, docsIntersection will look like this:\n    //\n    // {\n    //   description: [doc2]\n    // }\n    //\n    // as doc2 is the only document present in all the postings lists for the \"description\" index.\n    const docsIntersection = {};\n    for (const prop of properties){\n        const tokensMap = {};\n        for (const token of tokens){\n            tokensMap[token] = [];\n        }\n        indexMap[prop] = tokensMap;\n        docsIntersection[prop] = [];\n    }\n    return {\n        timeStart,\n        tokenizer,\n        index,\n        documentsStore,\n        language,\n        params,\n        docsCount,\n        uniqueDocsIDs: {},\n        indexMap,\n        docsIntersection\n    };\n}\nasync function search(orama, params, language) {\n    const mode = params.mode ?? _constants_js__WEBPACK_IMPORTED_MODULE_0__.MODE_FULLTEXT_SEARCH;\n    if (mode === _constants_js__WEBPACK_IMPORTED_MODULE_0__.MODE_FULLTEXT_SEARCH) {\n        return (0,_search_fulltext_js__WEBPACK_IMPORTED_MODULE_1__.fullTextSearch)(orama, params, language);\n    }\n    if (mode === _constants_js__WEBPACK_IMPORTED_MODULE_0__.MODE_VECTOR_SEARCH) {\n        return (0,_search_vector_js__WEBPACK_IMPORTED_MODULE_2__.searchVector)(orama, params);\n    }\n    if (mode === _constants_js__WEBPACK_IMPORTED_MODULE_0__.MODE_HYBRID_SEARCH) {\n        return (0,_search_hybrid_js__WEBPACK_IMPORTED_MODULE_3__.hybridSearch)(orama, params);\n    }\n    throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_4__.createError)('INVALID_SEARCH_MODE', mode);\n}\nasync function fetchDocumentsWithDistinct(orama, uniqueDocsArray, offset, limit, distinctOn) {\n    const docs = orama.data.docs;\n    // Keep track which values we already seen\n    const values = new Map();\n    // We cannot know how many results we will have in the end,\n    // so we need cannot pre-allocate the array.\n    const results = [];\n    const resultIDs = new Set();\n    const uniqueDocsArrayLength = uniqueDocsArray.length;\n    let count = 0;\n    for(let i = 0; i < uniqueDocsArrayLength; i++){\n        const idAndScore = uniqueDocsArray[i];\n        // If there are no more results, just break the loop\n        if (typeof idAndScore === 'undefined') {\n            continue;\n        }\n        const [id, score] = idAndScore;\n        if (resultIDs.has(id)) {\n            continue;\n        }\n        const doc = await orama.documentsStore.get(docs, id);\n        const value = await (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.getNested)(doc, distinctOn);\n        if (typeof value === 'undefined' || values.has(value)) {\n            continue;\n        }\n        values.set(value, true);\n        count++;\n        // We shouldn't consider the document if it's not in the offset range\n        if (count <= offset) {\n            continue;\n        }\n        results.push({\n            id: (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_6__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, id),\n            score,\n            document: doc\n        });\n        resultIDs.add(id);\n        // reached the limit, break the loop\n        if (count >= offset + limit) {\n            break;\n        }\n    }\n    return results;\n}\nasync function fetchDocuments(orama, uniqueDocsArray, offset, limit) {\n    const docs = orama.data.docs;\n    const results = Array.from({\n        length: limit\n    });\n    const resultIDs = new Set();\n    // We already have the list of ALL the document IDs containing the search terms.\n    // We loop over them starting from a positional value \"offset\" and ending at \"offset + limit\"\n    // to provide pagination capabilities to the search.\n    for(let i = offset; i < limit + offset; i++){\n        const idAndScore = uniqueDocsArray[i];\n        // If there are no more results, just break the loop\n        if (typeof idAndScore === 'undefined') {\n            break;\n        }\n        const [id, score] = idAndScore;\n        if (!resultIDs.has(id)) {\n            // We retrieve the full document only AFTER making sure that we really want it.\n            // We never retrieve the full document preventively.\n            const fullDoc = await orama.documentsStore.get(docs, id);\n            results[i] = {\n                id: (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_6__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, id),\n                score,\n                document: fullDoc\n            };\n            resultIDs.add(id);\n        }\n    }\n    return results;\n}\n\n//# sourceMappingURL=search.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3NlYXJjaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBMEY7QUFDL0M7QUFDSDtBQUN1RDtBQUN6QztBQUNKO0FBQ0E7QUFDM0M7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0NBQWdDLCtEQUFvQjtBQUNwRCxpQkFBaUIsK0RBQW9CO0FBQ3JDLGVBQWUsbUVBQWM7QUFDN0I7QUFDQSxpQkFBaUIsNkRBQWtCO0FBQ25DLGVBQWUsK0RBQVk7QUFDM0I7QUFDQSxpQkFBaUIsNkRBQWtCO0FBQ25DLGVBQWUsK0RBQVk7QUFDM0I7QUFDQSxVQUFVLHVEQUFXO0FBQ3JCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMkJBQTJCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9EQUFTO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHNHQUEyQjtBQUMzQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzR0FBMkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvbWV0aG9kcy9zZWFyY2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXROZXN0ZWQgfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyBNT0RFX0ZVTExURVhUX1NFQVJDSCwgTU9ERV9IWUJSSURfU0VBUkNILCBNT0RFX1ZFQ1RPUl9TRUFSQ0ggfSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgZnVsbFRleHRTZWFyY2ggfSBmcm9tICcuL3NlYXJjaC1mdWxsdGV4dC5qcyc7XG5pbXBvcnQgeyBzZWFyY2hWZWN0b3IgfSBmcm9tICcuL3NlYXJjaC12ZWN0b3IuanMnO1xuaW1wb3J0IHsgaHlicmlkU2VhcmNoIH0gZnJvbSAnLi9zZWFyY2gtaHlicmlkLmpzJztcbmV4cG9ydCBjb25zdCBkZWZhdWx0Qk0yNVBhcmFtcyA9IHtcbiAgICBrOiAxLjIsXG4gICAgYjogMC43NSxcbiAgICBkOiAwLjVcbn07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2VhcmNoQ29udGV4dCh0b2tlbml6ZXIsIGluZGV4LCBkb2N1bWVudHNTdG9yZSwgbGFuZ3VhZ2UsIHBhcmFtcywgcHJvcGVydGllcywgdG9rZW5zLCBkb2NzQ291bnQsIHRpbWVTdGFydCkge1xuICAgIC8vIElmIGZpbHRlcnMgYXJlIGVuYWJsZWQsIHdlIG5lZWQgdG8gZ2V0IHRoZSBJRHMgb2YgdGhlIGRvY3VtZW50cyB0aGF0IG1hdGNoIHRoZSBmaWx0ZXJzLlxuICAgIC8vIGNvbnN0IGhhc0ZpbHRlcnMgPSBPYmplY3Qua2V5cyhwYXJhbXMud2hlcmUgPz8ge30pLmxlbmd0aCA+IDA7XG4gICAgLy8gbGV0IHdoZXJlRmlsdGVyc0lEczogc3RyaW5nW10gPSBbXTtcbiAgICAvLyBpZiAoaGFzRmlsdGVycykge1xuICAgIC8vICAgd2hlcmVGaWx0ZXJzSURzID0gZ2V0V2hlcmVGaWx0ZXJzSURzKHBhcmFtcy53aGVyZSEsIG9yYW1hKTtcbiAgICAvLyB9XG4gICAgLy8gaW5kZXhNYXAgaXMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBpbmRleGVzIGNvbnNpZGVyZWQgZm9yIHRoZSBjdXJyZW50IHNlYXJjaCxcbiAgICAvLyBhbmQgYW4gYXJyYXkgb2YgZG9jIElEcyBmb3IgZWFjaCB0b2tlbiBpbiBhbGwgdGhlIGluZGljZXMuXG4gICAgLy9cbiAgICAvLyBHaXZlbiB0aGUgc2VhcmNoIHRlcm0gXCJxdWljayBicm93biBmb3hcIiBvbiB0aGUgXCJkZXNjcmlwdGlvblwiIGluZGV4LFxuICAgIC8vIGluZGV4TWFwIHdpbGwgbG9vayBsaWtlIHRoaXM6XG4gICAgLy9cbiAgICAvLyB7XG4gICAgLy8gICBkZXNjcmlwdGlvbjoge1xuICAgIC8vICAgICBxdWljazogW2RvYzEsIGRvYzIsIGRvYzNdLFxuICAgIC8vICAgICBicm93bjogW2RvYzIsIGRvYzRdLFxuICAgIC8vICAgICBmb3g6ICAgW2RvYzJdXG4gICAgLy8gICB9XG4gICAgLy8gfVxuICAgIGNvbnN0IGluZGV4TWFwID0ge307XG4gICAgLy8gQWZ0ZXIgd2UgY3JlYXRlIHRoZSBpbmRleE1hcCwgd2UgbmVlZCB0byBjYWxjdWxhdGUgdGhlIGludGVyc2VjdGlvblxuICAgIC8vIGJldHdlZW4gYWxsIHRoZSBwb3N0aW5ncyBsaXN0cyBmb3IgZWFjaCB0b2tlbi5cbiAgICAvLyBHaXZlbiB0aGUgZXhhbXBsZSBhYm92ZSwgZG9jc0ludGVyc2VjdGlvbiB3aWxsIGxvb2sgbGlrZSB0aGlzOlxuICAgIC8vXG4gICAgLy8ge1xuICAgIC8vICAgZGVzY3JpcHRpb246IFtkb2MyXVxuICAgIC8vIH1cbiAgICAvL1xuICAgIC8vIGFzIGRvYzIgaXMgdGhlIG9ubHkgZG9jdW1lbnQgcHJlc2VudCBpbiBhbGwgdGhlIHBvc3RpbmdzIGxpc3RzIGZvciB0aGUgXCJkZXNjcmlwdGlvblwiIGluZGV4LlxuICAgIGNvbnN0IGRvY3NJbnRlcnNlY3Rpb24gPSB7fTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcyl7XG4gICAgICAgIGNvbnN0IHRva2Vuc01hcCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucyl7XG4gICAgICAgICAgICB0b2tlbnNNYXBbdG9rZW5dID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhNYXBbcHJvcF0gPSB0b2tlbnNNYXA7XG4gICAgICAgIGRvY3NJbnRlcnNlY3Rpb25bcHJvcF0gPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZVN0YXJ0LFxuICAgICAgICB0b2tlbml6ZXIsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBkb2N1bWVudHNTdG9yZSxcbiAgICAgICAgbGFuZ3VhZ2UsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgZG9jc0NvdW50LFxuICAgICAgICB1bmlxdWVEb2NzSURzOiB7fSxcbiAgICAgICAgaW5kZXhNYXAsXG4gICAgICAgIGRvY3NJbnRlcnNlY3Rpb25cbiAgICB9O1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlYXJjaChvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IG1vZGUgPSBwYXJhbXMubW9kZSA/PyBNT0RFX0ZVTExURVhUX1NFQVJDSDtcbiAgICBpZiAobW9kZSA9PT0gTU9ERV9GVUxMVEVYVF9TRUFSQ0gpIHtcbiAgICAgICAgcmV0dXJuIGZ1bGxUZXh0U2VhcmNoKG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlKTtcbiAgICB9XG4gICAgaWYgKG1vZGUgPT09IE1PREVfVkVDVE9SX1NFQVJDSCkge1xuICAgICAgICByZXR1cm4gc2VhcmNoVmVjdG9yKG9yYW1hLCBwYXJhbXMpO1xuICAgIH1cbiAgICBpZiAobW9kZSA9PT0gTU9ERV9IWUJSSURfU0VBUkNIKSB7XG4gICAgICAgIHJldHVybiBoeWJyaWRTZWFyY2gob3JhbWEsIHBhcmFtcyk7XG4gICAgfVxuICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1NFQVJDSF9NT0RFJywgbW9kZSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEb2N1bWVudHNXaXRoRGlzdGluY3Qob3JhbWEsIHVuaXF1ZURvY3NBcnJheSwgb2Zmc2V0LCBsaW1pdCwgZGlzdGluY3RPbikge1xuICAgIGNvbnN0IGRvY3MgPSBvcmFtYS5kYXRhLmRvY3M7XG4gICAgLy8gS2VlcCB0cmFjayB3aGljaCB2YWx1ZXMgd2UgYWxyZWFkeSBzZWVuXG4gICAgY29uc3QgdmFsdWVzID0gbmV3IE1hcCgpO1xuICAgIC8vIFdlIGNhbm5vdCBrbm93IGhvdyBtYW55IHJlc3VsdHMgd2Ugd2lsbCBoYXZlIGluIHRoZSBlbmQsXG4gICAgLy8gc28gd2UgbmVlZCBjYW5ub3QgcHJlLWFsbG9jYXRlIHRoZSBhcnJheS5cbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgY29uc3QgcmVzdWx0SURzID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHVuaXF1ZURvY3NBcnJheUxlbmd0aCA9IHVuaXF1ZURvY3NBcnJheS5sZW5ndGg7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdW5pcXVlRG9jc0FycmF5TGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBpZEFuZFNjb3JlID0gdW5pcXVlRG9jc0FycmF5W2ldO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbW9yZSByZXN1bHRzLCBqdXN0IGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmICh0eXBlb2YgaWRBbmRTY29yZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpZCwgc2NvcmVdID0gaWRBbmRTY29yZTtcbiAgICAgICAgaWYgKHJlc3VsdElEcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkb2MgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXQoZG9jcywgaWQpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGdldE5lc3RlZChkb2MsIGRpc3RpbmN0T24pO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLnNldCh2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIC8vIFdlIHNob3VsZG4ndCBjb25zaWRlciB0aGUgZG9jdW1lbnQgaWYgaXQncyBub3QgaW4gdGhlIG9mZnNldCByYW5nZVxuICAgICAgICBpZiAoY291bnQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpLFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICBkb2N1bWVudDogZG9jXG4gICAgICAgIH0pO1xuICAgICAgICByZXN1bHRJRHMuYWRkKGlkKTtcbiAgICAgICAgLy8gcmVhY2hlZCB0aGUgbGltaXQsIGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmIChjb3VudCA+PSBvZmZzZXQgKyBsaW1pdCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEb2N1bWVudHMob3JhbWEsIHVuaXF1ZURvY3NBcnJheSwgb2Zmc2V0LCBsaW1pdCkge1xuICAgIGNvbnN0IGRvY3MgPSBvcmFtYS5kYXRhLmRvY3M7XG4gICAgY29uc3QgcmVzdWx0cyA9IEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IGxpbWl0XG4gICAgfSk7XG4gICAgY29uc3QgcmVzdWx0SURzID0gbmV3IFNldCgpO1xuICAgIC8vIFdlIGFscmVhZHkgaGF2ZSB0aGUgbGlzdCBvZiBBTEwgdGhlIGRvY3VtZW50IElEcyBjb250YWluaW5nIHRoZSBzZWFyY2ggdGVybXMuXG4gICAgLy8gV2UgbG9vcCBvdmVyIHRoZW0gc3RhcnRpbmcgZnJvbSBhIHBvc2l0aW9uYWwgdmFsdWUgXCJvZmZzZXRcIiBhbmQgZW5kaW5nIGF0IFwib2Zmc2V0ICsgbGltaXRcIlxuICAgIC8vIHRvIHByb3ZpZGUgcGFnaW5hdGlvbiBjYXBhYmlsaXRpZXMgdG8gdGhlIHNlYXJjaC5cbiAgICBmb3IobGV0IGkgPSBvZmZzZXQ7IGkgPCBsaW1pdCArIG9mZnNldDsgaSsrKXtcbiAgICAgICAgY29uc3QgaWRBbmRTY29yZSA9IHVuaXF1ZURvY3NBcnJheVtpXTtcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIG1vcmUgcmVzdWx0cywganVzdCBicmVhayB0aGUgbG9vcFxuICAgICAgICBpZiAodHlwZW9mIGlkQW5kU2NvcmUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbaWQsIHNjb3JlXSA9IGlkQW5kU2NvcmU7XG4gICAgICAgIGlmICghcmVzdWx0SURzLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIC8vIFdlIHJldHJpZXZlIHRoZSBmdWxsIGRvY3VtZW50IG9ubHkgQUZURVIgbWFraW5nIHN1cmUgdGhhdCB3ZSByZWFsbHkgd2FudCBpdC5cbiAgICAgICAgICAgIC8vIFdlIG5ldmVyIHJldHJpZXZlIHRoZSBmdWxsIGRvY3VtZW50IHByZXZlbnRpdmVseS5cbiAgICAgICAgICAgIGNvbnN0IGZ1bGxEb2MgPSBhd2FpdCBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXQoZG9jcywgaWQpO1xuICAgICAgICAgICAgcmVzdWx0c1tpXSA9IHtcbiAgICAgICAgICAgICAgICBpZDogZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBpZCksXG4gICAgICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQ6IGZ1bGxEb2NcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXN1bHRJRHMuYWRkKGlkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VhcmNoLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/serialization.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/serialization.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   save: () => (/* binding */ save)\n/* harmony export */ });\nasync function load(orama, raw) {\n    orama.internalDocumentIDStore.load(orama, raw.internalDocumentIDStore);\n    orama.data.index = await orama.index.load(orama.internalDocumentIDStore, raw.index);\n    orama.data.docs = await orama.documentsStore.load(orama.internalDocumentIDStore, raw.docs);\n    orama.data.sorting = await orama.sorter.load(orama.internalDocumentIDStore, raw.sorting);\n    orama.tokenizer.language = raw.language;\n}\nasync function save(orama) {\n    return {\n        internalDocumentIDStore: orama.internalDocumentIDStore.save(orama.internalDocumentIDStore),\n        index: await orama.index.save(orama.data.index),\n        docs: await orama.documentsStore.save(orama.data.docs),\n        sorting: await orama.sorter.save(orama.data.sorting),\n        language: orama.tokenizer.language\n    };\n}\n\n//# sourceMappingURL=serialization.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9tZXRob2RzL3NlcmlhbGl6YXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL0BvcmFtYStvcmFtYUAyLjEuMS9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvbWV0aG9kcy9zZXJpYWxpemF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkKG9yYW1hLCByYXcpIHtcbiAgICBvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZS5sb2FkKG9yYW1hLCByYXcuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUpO1xuICAgIG9yYW1hLmRhdGEuaW5kZXggPSBhd2FpdCBvcmFtYS5pbmRleC5sb2FkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCByYXcuaW5kZXgpO1xuICAgIG9yYW1hLmRhdGEuZG9jcyA9IGF3YWl0IG9yYW1hLmRvY3VtZW50c1N0b3JlLmxvYWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIHJhdy5kb2NzKTtcbiAgICBvcmFtYS5kYXRhLnNvcnRpbmcgPSBhd2FpdCBvcmFtYS5zb3J0ZXIubG9hZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgcmF3LnNvcnRpbmcpO1xuICAgIG9yYW1hLnRva2VuaXplci5sYW5ndWFnZSA9IHJhdy5sYW5ndWFnZTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlKG9yYW1hKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW50ZXJuYWxEb2N1bWVudElEU3RvcmU6IG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLnNhdmUob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUpLFxuICAgICAgICBpbmRleDogYXdhaXQgb3JhbWEuaW5kZXguc2F2ZShvcmFtYS5kYXRhLmluZGV4KSxcbiAgICAgICAgZG9jczogYXdhaXQgb3JhbWEuZG9jdW1lbnRzU3RvcmUuc2F2ZShvcmFtYS5kYXRhLmRvY3MpLFxuICAgICAgICBzb3J0aW5nOiBhd2FpdCBvcmFtYS5zb3J0ZXIuc2F2ZShvcmFtYS5kYXRhLnNvcnRpbmcpLFxuICAgICAgICBsYW5ndWFnZTogb3JhbWEudG9rZW5pemVyLmxhbmd1YWdlXG4gICAgfTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VyaWFsaXphdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/serialization.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/avl.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/avl.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contains: () => (/* binding */ contains),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   getSize: () => (/* binding */ getSize),\n/* harmony export */   greaterThan: () => (/* binding */ greaterThan),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   isBalanced: () => (/* binding */ isBalanced),\n/* harmony export */   lessThan: () => (/* binding */ lessThan),\n/* harmony export */   rangeSearch: () => (/* binding */ rangeSearch),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   removeDocument: () => (/* binding */ removeDocument)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n\nfunction rotateLeft(node) {\n    const right = node.r;\n    node.r = right.l;\n    right.l = node;\n    node.h = Math.max(getHeight(node.l), getHeight(node.r)) + 1;\n    right.h = Math.max(getHeight(right.l), getHeight(right.r)) + 1;\n    return right;\n}\nfunction rotateRight(node) {\n    const left = node.l;\n    node.l = left.r;\n    left.r = node;\n    node.h = Math.max(getHeight(node.l), getHeight(node.r)) + 1;\n    left.h = Math.max(getHeight(left.l), getHeight(left.r)) + 1;\n    return left;\n}\nfunction contains(node, key) {\n    return !!find(node, key);\n}\nfunction getSize(root) {\n    let size = 0;\n    const queue = [];\n    if (root !== null) {\n        queue.push(root.root);\n    }\n    while(queue.length > 0){\n        const node = queue.shift();\n        size++;\n        if (node.l !== null) {\n            queue.push(node.l);\n        }\n        if (node.r !== null) {\n            queue.push(node.r);\n        }\n    }\n    return size;\n}\nfunction isBalanced(root) {\n    if (root === null) return true;\n    const stack = [\n        root.root\n    ];\n    while(stack.length > 0){\n        const node = stack.pop();\n        if (node != null) {\n            const leftHeight = getHeight(node.l);\n            const rightHeight = getHeight(node.r);\n            const heightDiff = leftHeight - rightHeight;\n            if (Math.abs(heightDiff) > 1) {\n                return false;\n            }\n            if (node.l !== null) {\n                stack.push(node.l);\n            }\n            if (node.r !== null) {\n                stack.push(node.r);\n            }\n        }\n    }\n    return true;\n}\nfunction rangeSearch(node, min, max) {\n    const result = [];\n    function traverse(node) {\n        if (node === null) {\n            return;\n        }\n        if (min < node.k) {\n            traverse(node.l);\n        }\n        if (node.k >= min && node.k <= max) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(result, node.v);\n        }\n        if (max > node.k) {\n            traverse(node.r);\n        }\n    }\n    traverse(node.root);\n    return result;\n}\nfunction greaterThan(node, key, inclusive = false) {\n    const result = [];\n    if (node === null) return result;\n    const stack = [\n        node.root\n    ];\n    while(stack.length > 0){\n        const node = stack.pop();\n        if (!node) {\n            continue;\n        }\n        if (inclusive && node.k >= key) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(result, node.v);\n        }\n        if (!inclusive && node.k > key) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(result, node.v);\n        }\n        stack.push(node.r);\n        stack.push(node.l);\n    }\n    return result;\n}\nfunction lessThan(node, key, inclusive = false) {\n    const result = [];\n    if (node === null) return result;\n    const stack = [\n        node.root\n    ];\n    while(stack.length > 0){\n        const node = stack.pop();\n        if (!node) {\n            continue;\n        }\n        if (inclusive && node.k <= key) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(result, node.v);\n        }\n        if (!inclusive && node.k < key) {\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(result, node.v);\n        }\n        stack.push(node.r);\n        stack.push(node.l);\n    }\n    return result;\n}\nfunction getNodeByKey(node, key) {\n    while(node !== null){\n        if (key < node.k) {\n            node = node.l;\n        } else if (key > node.k) {\n            node = node.r;\n        } else {\n            return node;\n        }\n    }\n    return null;\n}\nfunction create(key, value) {\n    return {\n        root: {\n            k: key,\n            v: value,\n            l: null,\n            r: null,\n            h: 0\n        }\n    };\n}\nlet insertCount = 0;\nfunction insert(rootNode, key, newValue, rebalanceThreshold = 500) {\n    function insertNode(node, key, newValue) {\n        if (node === null) {\n            insertCount++;\n            return {\n                k: key,\n                v: newValue,\n                l: null,\n                r: null,\n                h: 0\n            };\n        }\n        if (key < node.k) {\n            node.l = insertNode(node.l, key, newValue);\n        } else if (key > node.k) {\n            node.r = insertNode(node.r, key, newValue);\n        } else {\n            node.v.push(...newValue);\n            return node;\n        }\n        // Rebalance the tree if the insert count reaches the threshold.\n        // This will improve insertion performance since we won't be rebalancing the tree on every insert.\n        // When inserting docs using `insertMultiple`, the threshold will be set to the number of docs being inserted.\n        // We can force rebalancing the tree by setting the threshold to 1 (default).\n        if (insertCount % rebalanceThreshold === 0) {\n            return rebalanceNode(node, key);\n        }\n        return node;\n    }\n    rootNode.root = insertNode(rootNode.root, key, newValue);\n}\nfunction rebalanceNode(node, key) {\n    node.h = 1 + Math.max(getHeight(node.l), getHeight(node.r));\n    const balanceFactor = getHeight(node.l) - getHeight(node.r);\n    if (balanceFactor > 1 && key < node.l.k) {\n        return rotateRight(node);\n    }\n    if (balanceFactor < -1 && key > node.r.k) {\n        return rotateLeft(node);\n    }\n    if (balanceFactor > 1 && key > node.l.k) {\n        node.l = rotateLeft(node.l);\n        return rotateRight(node);\n    }\n    if (balanceFactor < -1 && key < node.r.k) {\n        node.r = rotateRight(node.r);\n        return rotateLeft(node);\n    }\n    return node;\n}\nfunction getHeight(node) {\n    return node !== null ? node.h : -1;\n}\nfunction find(root, key) {\n    const node = getNodeByKey(root.root, key);\n    if (node === null) {\n        return null;\n    }\n    return node.v;\n}\nfunction remove(rootNode, key) {\n    if (rootNode === null || rootNode.root === null) {\n        return;\n    }\n    let node = rootNode.root;\n    let parentNode = null;\n    while(node != null && node.k !== key){\n        parentNode = node;\n        if (key < node.k) {\n            node = node.l;\n        } else {\n            node = node.r;\n        }\n    }\n    if (node === null) {\n        return;\n    }\n    const deleteNode = ()=>{\n        if (node.l === null && node.r === null) {\n            if (parentNode === null) {\n                rootNode.root = null;\n            } else {\n                if (parentNode.l === node) {\n                    parentNode.l = null;\n                } else {\n                    parentNode.r = null;\n                }\n            }\n        } else if (node.l != null && node.r != null) {\n            let minValueNode = node.r;\n            let minValueParent = node;\n            while(minValueNode.l != null){\n                minValueParent = minValueNode;\n                minValueNode = minValueNode.l;\n            }\n            node.k = minValueNode.k;\n            if (minValueParent === node) {\n                minValueParent.r = minValueNode.r;\n            } else {\n                minValueParent.l = minValueNode.r;\n            }\n        } else {\n            const childNode = node.l != null ? node.l : node.r;\n            if (parentNode === null) {\n                rootNode.root = childNode;\n            } else {\n                if (parentNode.l === node) {\n                    parentNode.l = childNode;\n                } else {\n                    parentNode.r = childNode;\n                }\n            }\n        }\n    };\n    deleteNode();\n}\nfunction removeDocument(root, id, key) {\n    const node = getNodeByKey(root.root, key);\n    if (!node) {\n        return;\n    }\n    if (node.v.length === 1) {\n        remove(root, key);\n        return;\n    }\n    node.v.splice(node.v.indexOf(id), 1);\n}\n\n//# sourceMappingURL=avl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9hdmwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUFhO0FBQ3pCO0FBQ0E7QUFDQSxZQUFZLHdEQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWE7QUFDekI7QUFDQTtBQUNBLFlBQVksd0RBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L3RyZWVzL2F2bC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzYWZlQXJyYXlQdXNoIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuZnVuY3Rpb24gcm90YXRlTGVmdChub2RlKSB7XG4gICAgY29uc3QgcmlnaHQgPSBub2RlLnI7XG4gICAgbm9kZS5yID0gcmlnaHQubDtcbiAgICByaWdodC5sID0gbm9kZTtcbiAgICBub2RlLmggPSBNYXRoLm1heChnZXRIZWlnaHQobm9kZS5sKSwgZ2V0SGVpZ2h0KG5vZGUucikpICsgMTtcbiAgICByaWdodC5oID0gTWF0aC5tYXgoZ2V0SGVpZ2h0KHJpZ2h0LmwpLCBnZXRIZWlnaHQocmlnaHQucikpICsgMTtcbiAgICByZXR1cm4gcmlnaHQ7XG59XG5mdW5jdGlvbiByb3RhdGVSaWdodChub2RlKSB7XG4gICAgY29uc3QgbGVmdCA9IG5vZGUubDtcbiAgICBub2RlLmwgPSBsZWZ0LnI7XG4gICAgbGVmdC5yID0gbm9kZTtcbiAgICBub2RlLmggPSBNYXRoLm1heChnZXRIZWlnaHQobm9kZS5sKSwgZ2V0SGVpZ2h0KG5vZGUucikpICsgMTtcbiAgICBsZWZ0LmggPSBNYXRoLm1heChnZXRIZWlnaHQobGVmdC5sKSwgZ2V0SGVpZ2h0KGxlZnQucikpICsgMTtcbiAgICByZXR1cm4gbGVmdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhub2RlLCBrZXkpIHtcbiAgICByZXR1cm4gISFmaW5kKG5vZGUsIGtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShyb290KSB7XG4gICAgbGV0IHNpemUgPSAwO1xuICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgaWYgKHJvb3QgIT09IG51bGwpIHtcbiAgICAgICAgcXVldWUucHVzaChyb290LnJvb3QpO1xuICAgIH1cbiAgICB3aGlsZShxdWV1ZS5sZW5ndGggPiAwKXtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIHNpemUrKztcbiAgICAgICAgaWYgKG5vZGUubCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcXVldWUucHVzaChub2RlLmwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2gobm9kZS5yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0JhbGFuY2VkKHJvb3QpIHtcbiAgICBpZiAocm9vdCA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgY29uc3Qgc3RhY2sgPSBbXG4gICAgICAgIHJvb3Qucm9vdFxuICAgIF07XG4gICAgd2hpbGUoc3RhY2subGVuZ3RoID4gMCl7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKG5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgbGVmdEhlaWdodCA9IGdldEhlaWdodChub2RlLmwpO1xuICAgICAgICAgICAgY29uc3QgcmlnaHRIZWlnaHQgPSBnZXRIZWlnaHQobm9kZS5yKTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodERpZmYgPSBsZWZ0SGVpZ2h0IC0gcmlnaHRIZWlnaHQ7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoaGVpZ2h0RGlmZikgPiAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUubCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobm9kZS5sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLnIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUucik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gcmFuZ2VTZWFyY2gobm9kZSwgbWluLCBtYXgpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBmdW5jdGlvbiB0cmF2ZXJzZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pbiA8IG5vZGUuaykge1xuICAgICAgICAgICAgdHJhdmVyc2Uobm9kZS5sKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5rID49IG1pbiAmJiBub2RlLmsgPD0gbWF4KSB7XG4gICAgICAgICAgICBzYWZlQXJyYXlQdXNoKHJlc3VsdCwgbm9kZS52KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4ID4gbm9kZS5rKSB7XG4gICAgICAgICAgICB0cmF2ZXJzZShub2RlLnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyYXZlcnNlKG5vZGUucm9vdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBncmVhdGVyVGhhbihub2RlLCBrZXksIGluY2x1c2l2ZSA9IGZhbHNlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgaWYgKG5vZGUgPT09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgY29uc3Qgc3RhY2sgPSBbXG4gICAgICAgIG5vZGUucm9vdFxuICAgIF07XG4gICAgd2hpbGUoc3RhY2subGVuZ3RoID4gMCl7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVzaXZlICYmIG5vZGUuayA+PSBrZXkpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5jbHVzaXZlICYmIG5vZGUuayA+IGtleSkge1xuICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIG5vZGUudik7XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sucHVzaChub2RlLnIpO1xuICAgICAgICBzdGFjay5wdXNoKG5vZGUubCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gbGVzc1RoYW4obm9kZSwga2V5LCBpbmNsdXNpdmUgPSBmYWxzZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGlmIChub2RlID09PSBudWxsKSByZXR1cm4gcmVzdWx0O1xuICAgIGNvbnN0IHN0YWNrID0gW1xuICAgICAgICBub2RlLnJvb3RcbiAgICBdO1xuICAgIHdoaWxlKHN0YWNrLmxlbmd0aCA+IDApe1xuICAgICAgICBjb25zdCBub2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluY2x1c2l2ZSAmJiBub2RlLmsgPD0ga2V5KSB7XG4gICAgICAgICAgICBzYWZlQXJyYXlQdXNoKHJlc3VsdCwgbm9kZS52KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWluY2x1c2l2ZSAmJiBub2RlLmsgPCBrZXkpIHtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBub2RlLnYpO1xuICAgICAgICB9XG4gICAgICAgIHN0YWNrLnB1c2gobm9kZS5yKTtcbiAgICAgICAgc3RhY2sucHVzaChub2RlLmwpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0Tm9kZUJ5S2V5KG5vZGUsIGtleSkge1xuICAgIHdoaWxlKG5vZGUgIT09IG51bGwpe1xuICAgICAgICBpZiAoa2V5IDwgbm9kZS5rKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5sO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA+IG5vZGUuaykge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm9vdDoge1xuICAgICAgICAgICAgazoga2V5LFxuICAgICAgICAgICAgdjogdmFsdWUsXG4gICAgICAgICAgICBsOiBudWxsLFxuICAgICAgICAgICAgcjogbnVsbCxcbiAgICAgICAgICAgIGg6IDBcbiAgICAgICAgfVxuICAgIH07XG59XG5sZXQgaW5zZXJ0Q291bnQgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290Tm9kZSwga2V5LCBuZXdWYWx1ZSwgcmViYWxhbmNlVGhyZXNob2xkID0gNTAwKSB7XG4gICAgZnVuY3Rpb24gaW5zZXJ0Tm9kZShub2RlLCBrZXksIG5ld1ZhbHVlKSB7XG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICBpbnNlcnRDb3VudCsrO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrOiBrZXksXG4gICAgICAgICAgICAgICAgdjogbmV3VmFsdWUsXG4gICAgICAgICAgICAgICAgbDogbnVsbCxcbiAgICAgICAgICAgICAgICByOiBudWxsLFxuICAgICAgICAgICAgICAgIGg6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleSA8IG5vZGUuaykge1xuICAgICAgICAgICAgbm9kZS5sID0gaW5zZXJ0Tm9kZShub2RlLmwsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA+IG5vZGUuaykge1xuICAgICAgICAgICAgbm9kZS5yID0gaW5zZXJ0Tm9kZShub2RlLnIsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZS52LnB1c2goLi4ubmV3VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmViYWxhbmNlIHRoZSB0cmVlIGlmIHRoZSBpbnNlcnQgY291bnQgcmVhY2hlcyB0aGUgdGhyZXNob2xkLlxuICAgICAgICAvLyBUaGlzIHdpbGwgaW1wcm92ZSBpbnNlcnRpb24gcGVyZm9ybWFuY2Ugc2luY2Ugd2Ugd29uJ3QgYmUgcmViYWxhbmNpbmcgdGhlIHRyZWUgb24gZXZlcnkgaW5zZXJ0LlxuICAgICAgICAvLyBXaGVuIGluc2VydGluZyBkb2NzIHVzaW5nIGBpbnNlcnRNdWx0aXBsZWAsIHRoZSB0aHJlc2hvbGQgd2lsbCBiZSBzZXQgdG8gdGhlIG51bWJlciBvZiBkb2NzIGJlaW5nIGluc2VydGVkLlxuICAgICAgICAvLyBXZSBjYW4gZm9yY2UgcmViYWxhbmNpbmcgdGhlIHRyZWUgYnkgc2V0dGluZyB0aGUgdGhyZXNob2xkIHRvIDEgKGRlZmF1bHQpLlxuICAgICAgICBpZiAoaW5zZXJ0Q291bnQgJSByZWJhbGFuY2VUaHJlc2hvbGQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZWJhbGFuY2VOb2RlKG5vZGUsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIHJvb3ROb2RlLnJvb3QgPSBpbnNlcnROb2RlKHJvb3ROb2RlLnJvb3QsIGtleSwgbmV3VmFsdWUpO1xufVxuZnVuY3Rpb24gcmViYWxhbmNlTm9kZShub2RlLCBrZXkpIHtcbiAgICBub2RlLmggPSAxICsgTWF0aC5tYXgoZ2V0SGVpZ2h0KG5vZGUubCksIGdldEhlaWdodChub2RlLnIpKTtcbiAgICBjb25zdCBiYWxhbmNlRmFjdG9yID0gZ2V0SGVpZ2h0KG5vZGUubCkgLSBnZXRIZWlnaHQobm9kZS5yKTtcbiAgICBpZiAoYmFsYW5jZUZhY3RvciA+IDEgJiYga2V5IDwgbm9kZS5sLmspIHtcbiAgICAgICAgcmV0dXJuIHJvdGF0ZVJpZ2h0KG5vZGUpO1xuICAgIH1cbiAgICBpZiAoYmFsYW5jZUZhY3RvciA8IC0xICYmIGtleSA+IG5vZGUuci5rKSB7XG4gICAgICAgIHJldHVybiByb3RhdGVMZWZ0KG5vZGUpO1xuICAgIH1cbiAgICBpZiAoYmFsYW5jZUZhY3RvciA+IDEgJiYga2V5ID4gbm9kZS5sLmspIHtcbiAgICAgICAgbm9kZS5sID0gcm90YXRlTGVmdChub2RlLmwpO1xuICAgICAgICByZXR1cm4gcm90YXRlUmlnaHQobm9kZSk7XG4gICAgfVxuICAgIGlmIChiYWxhbmNlRmFjdG9yIDwgLTEgJiYga2V5IDwgbm9kZS5yLmspIHtcbiAgICAgICAgbm9kZS5yID0gcm90YXRlUmlnaHQobm9kZS5yKTtcbiAgICAgICAgcmV0dXJuIHJvdGF0ZUxlZnQobm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufVxuZnVuY3Rpb24gZ2V0SGVpZ2h0KG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSAhPT0gbnVsbCA/IG5vZGUuaCA6IC0xO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQocm9vdCwga2V5KSB7XG4gICAgY29uc3Qgbm9kZSA9IGdldE5vZGVCeUtleShyb290LnJvb3QsIGtleSk7XG4gICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBub2RlLnY7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKHJvb3ROb2RlLCBrZXkpIHtcbiAgICBpZiAocm9vdE5vZGUgPT09IG51bGwgfHwgcm9vdE5vZGUucm9vdCA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBub2RlID0gcm9vdE5vZGUucm9vdDtcbiAgICBsZXQgcGFyZW50Tm9kZSA9IG51bGw7XG4gICAgd2hpbGUobm9kZSAhPSBudWxsICYmIG5vZGUuayAhPT0ga2V5KXtcbiAgICAgICAgcGFyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgIGlmIChrZXkgPCBub2RlLmspIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGVsZXRlTm9kZSA9ICgpPT57XG4gICAgICAgIGlmIChub2RlLmwgPT09IG51bGwgJiYgbm9kZS5yID09PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJvb3ROb2RlLnJvb3QgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50Tm9kZS5sID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUubCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5sICE9IG51bGwgJiYgbm9kZS5yICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBtaW5WYWx1ZU5vZGUgPSBub2RlLnI7XG4gICAgICAgICAgICBsZXQgbWluVmFsdWVQYXJlbnQgPSBub2RlO1xuICAgICAgICAgICAgd2hpbGUobWluVmFsdWVOb2RlLmwgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgbWluVmFsdWVQYXJlbnQgPSBtaW5WYWx1ZU5vZGU7XG4gICAgICAgICAgICAgICAgbWluVmFsdWVOb2RlID0gbWluVmFsdWVOb2RlLmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmsgPSBtaW5WYWx1ZU5vZGUuaztcbiAgICAgICAgICAgIGlmIChtaW5WYWx1ZVBhcmVudCA9PT0gbm9kZSkge1xuICAgICAgICAgICAgICAgIG1pblZhbHVlUGFyZW50LnIgPSBtaW5WYWx1ZU5vZGUucjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWluVmFsdWVQYXJlbnQubCA9IG1pblZhbHVlTm9kZS5yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gbm9kZS5sICE9IG51bGwgPyBub2RlLmwgOiBub2RlLnI7XG4gICAgICAgICAgICBpZiAocGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJvb3ROb2RlLnJvb3QgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnROb2RlLmwgPT09IG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5sID0gY2hpbGROb2RlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuciA9IGNoaWxkTm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGRlbGV0ZU5vZGUoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVEb2N1bWVudChyb290LCBpZCwga2V5KSB7XG4gICAgY29uc3Qgbm9kZSA9IGdldE5vZGVCeUtleShyb290LnJvb3QsIGtleSk7XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGUudi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmVtb3ZlKHJvb3QsIGtleSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbm9kZS52LnNwbGljZShub2RlLnYuaW5kZXhPZihpZCksIDEpO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdmwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/avl.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/bkd.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/bkd.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contains: () => (/* binding */ contains),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   getDocIDsByCoordinates: () => (/* binding */ getDocIDsByCoordinates),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   removeDocByID: () => (/* binding */ removeDocByID),\n/* harmony export */   searchByPolygon: () => (/* binding */ searchByPolygon),\n/* harmony export */   searchByRadius: () => (/* binding */ searchByRadius)\n/* harmony export */ });\nconst K = 2 // 2D points\n;\nconst EARTH_RADIUS = 6371e3 // Earth radius in meters\n;\nfunction create() {\n    return {\n        root: null\n    };\n}\nfunction insert(tree, point, docIDs) {\n    const newNode = {\n        point,\n        docIDs\n    };\n    if (tree.root == null) {\n        tree.root = newNode;\n        return;\n    }\n    let node = tree.root;\n    let depth = 0;\n    while(node !== null){\n        // Check if the current node's point matches the new point\n        if (node.point.lon === point.lon && node.point.lat === point.lat) {\n            // Merge the new docIDs with the existing ones and remove duplicates\n            const newDocIDs = node.docIDs ?? [];\n            node.docIDs = Array.from(new Set([\n                ...newDocIDs,\n                ...docIDs || []\n            ]));\n            return;\n        }\n        const axis = depth % K;\n        // Compare by longitude\n        if (axis === 0) {\n            if (point.lon < node.point.lon) {\n                if (node.left == null) {\n                    node.left = newNode;\n                    return;\n                }\n                node = node.left;\n            } else {\n                if (node.right == null) {\n                    node.right = newNode;\n                    return;\n                }\n                node = node.right;\n            }\n        // Compare by latitude\n        } else {\n            if (point.lat < node.point.lat) {\n                if (node.left == null) {\n                    node.left = newNode;\n                    return;\n                }\n                node = node.left;\n            } else {\n                if (node.right == null) {\n                    node.right = newNode;\n                    return;\n                }\n                node = node.right;\n            }\n        }\n        depth++;\n    }\n}\nfunction contains(tree, point) {\n    let node = tree.root;\n    let depth = 0;\n    while(node != null){\n        if ((node === null || node === void 0 ? void 0 : node.point.lon) === point.lon && node.point.lat === point.lat) {\n            return true;\n        }\n        const axis = depth % K;\n        // Compare by longitude\n        if (axis === 0) {\n            if (point.lon < node.point.lon) {\n                node = node === null || node === void 0 ? void 0 : node.left;\n            } else {\n                node = node === null || node === void 0 ? void 0 : node.right;\n            }\n        // Compare by latitude\n        } else {\n            if (point.lat < node.point.lat) {\n                node = node === null || node === void 0 ? void 0 : node.left;\n            } else {\n                node = node === null || node === void 0 ? void 0 : node.right;\n            }\n        }\n        depth++;\n    }\n    return false;\n}\n// @todo: this is very inefficient. Fix this later.\nfunction removeDocByID(tree, point, docID) {\n    let node = tree.root;\n    let depth = 0;\n    let parentNode = null;\n    let direction = null;\n    while(node !== null){\n        if ((node === null || node === void 0 ? void 0 : node.point.lon) === point.lon && node.point.lat === point.lat) {\n            var _node_docIDs;\n            const index = (_node_docIDs = node.docIDs) === null || _node_docIDs === void 0 ? void 0 : _node_docIDs.indexOf(docID);\n            if (index !== undefined && index > -1) {\n                var // Remove the docID from the array\n                _node_docIDs1;\n                (_node_docIDs1 = node.docIDs) === null || _node_docIDs1 === void 0 ? void 0 : _node_docIDs1.splice(index, 1);\n                if (node.docIDs == null || node.docIDs.length === 0) {\n                    // If the node doesn't have any more docIDs, remove the node\n                    if (parentNode != null) {\n                        if (direction === 'left') {\n                            parentNode.left = node.left !== null ? node.left : node.right;\n                        } else if (direction === 'right') {\n                            parentNode.right = node.right !== null ? node.right : node.left;\n                        }\n                    } else {\n                        // If the node to be removed is the root\n                        tree.root = node.left !== null ? node.left : node.right;\n                    }\n                }\n                return;\n            }\n        }\n        const axis = depth % K;\n        parentNode = node;\n        // Compare by longitude\n        if (axis === 0) {\n            if (point.lon < node.point.lon) {\n                node = node === null || node === void 0 ? void 0 : node.left;\n                direction = 'left';\n            } else {\n                node = node === null || node === void 0 ? void 0 : node.right;\n                direction = 'right';\n            }\n        // Compare by latitude\n        } else {\n            if (point.lat < node.point.lat) {\n                node = node === null || node === void 0 ? void 0 : node.left;\n                direction = 'left';\n            } else {\n                node = node === null || node === void 0 ? void 0 : node.right;\n                direction = 'right';\n            }\n        }\n        depth++;\n    }\n}\nfunction getDocIDsByCoordinates(tree, point) {\n    let node = tree.root;\n    let depth = 0;\n    while(node !== null){\n        if (node.point.lon === point.lon && node.point.lat === point.lat) {\n            // prettier-ignore\n            return node.docIDs ?? null;\n        }\n        const axis = depth % K;\n        // Compare by longitude\n        if (axis === 0) {\n            if (point.lon < node.point.lon) {\n                node = node.left;\n            } else {\n                node = node.right;\n            }\n        // Compare by latitude\n        } else {\n            if (point.lat < node.point.lat) {\n                node = node.left;\n            } else {\n                node = node.right;\n            }\n        }\n        depth++;\n    }\n    return null;\n}\nfunction searchByRadius(node, center, radius, inclusive = true, sort = 'asc', highPrecision = false) {\n    const distanceFn = highPrecision ? vincentyDistance : haversineDistance;\n    const stack = [\n        {\n            node,\n            depth: 0\n        }\n    ];\n    const result = [];\n    while(stack.length > 0){\n        const { node , depth  } = stack.pop();\n        if (node === null) continue;\n        const dist = distanceFn(center, node.point);\n        if (inclusive ? dist <= radius : dist > radius) {\n            result.push({\n                point: node.point,\n                docIDs: node.docIDs ?? []\n            });\n        }\n        if (node.left != null) {\n            stack.push({\n                node: node.left,\n                depth: depth + 1\n            });\n        }\n        if (node.right != null) {\n            stack.push({\n                node: node.right,\n                depth: depth + 1\n            });\n        }\n    }\n    if (sort) {\n        result.sort((a, b)=>{\n            const distA = distanceFn(center, a.point);\n            const distB = distanceFn(center, b.point);\n            return sort.toLowerCase() === 'asc' ? distA - distB : distB - distA;\n        });\n    }\n    return result;\n}\nfunction searchByPolygon(root, polygon, inclusive = true, sort = null, highPrecision = false) {\n    const stack = [\n        {\n            node: root,\n            depth: 0\n        }\n    ];\n    const result = [];\n    while(stack.length > 0){\n        const task = stack.pop();\n        if (task == null || task.node == null) continue;\n        const { node , depth  } = task;\n        const nextDepth = depth + 1;\n        if (node.left != null) {\n            stack.push({\n                node: node.left,\n                depth: nextDepth\n            });\n        }\n        if (node.right != null) {\n            stack.push({\n                node: node.right,\n                depth: nextDepth\n            });\n        }\n        const isInsidePolygon = isPointInPolygon(polygon, node.point);\n        if (isInsidePolygon && inclusive) {\n            result.push({\n                point: node.point,\n                docIDs: node.docIDs ?? []\n            });\n        } else if (!isInsidePolygon && !inclusive) {\n            result.push({\n                point: node.point,\n                docIDs: node.docIDs ?? []\n            });\n        }\n    }\n    const centroid = calculatePolygonCentroid(polygon);\n    if (sort) {\n        const sortFn = highPrecision ? vincentyDistance : haversineDistance;\n        result.sort((a, b)=>{\n            const distA = sortFn(centroid, a.point);\n            const distB = sortFn(centroid, b.point);\n            return sort.toLowerCase() === 'asc' ? distA - distB : distB - distA;\n        });\n    }\n    return result;\n}\nfunction calculatePolygonCentroid(polygon) {\n    let totalArea = 0;\n    let centroidX = 0;\n    let centroidY = 0;\n    const polygonLength = polygon.length;\n    for(let i = 0, j = polygonLength - 1; i < polygonLength; j = i++){\n        const xi = polygon[i].lon;\n        const yi = polygon[i].lat;\n        const xj = polygon[j].lon;\n        const yj = polygon[j].lat;\n        const areaSegment = xi * yj - xj * yi;\n        totalArea += areaSegment;\n        centroidX += (xi + xj) * areaSegment;\n        centroidY += (yi + yj) * areaSegment;\n    }\n    totalArea /= 2;\n    const centroidCoordinate = 6 * totalArea;\n    centroidX /= centroidCoordinate;\n    centroidY /= centroidCoordinate;\n    return {\n        lon: centroidX,\n        lat: centroidY\n    };\n}\nfunction isPointInPolygon(polygon, point) {\n    let isInside = false;\n    const x = point.lon;\n    const y = point.lat;\n    const polygonLength = polygon.length;\n    for(let i = 0, j = polygonLength - 1; i < polygonLength; j = i++){\n        const xi = polygon[i].lon;\n        const yi = polygon[i].lat;\n        const xj = polygon[j].lon;\n        const yj = polygon[j].lat;\n        const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n        if (intersect) isInside = !isInside;\n    }\n    return isInside;\n}\nfunction haversineDistance(coord1, coord2) {\n    const P = Math.PI / 180;\n    const lat1 = coord1.lat * P;\n    const lat2 = coord2.lat * P;\n    const deltaLat = (coord2.lat - coord1.lat) * P;\n    const deltaLon = (coord2.lon - coord1.lon) * P;\n    const a = Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) + Math.cos(lat1) * Math.cos(lat2) * Math.sin(deltaLon / 2) * Math.sin(deltaLon / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return EARTH_RADIUS * c;\n}\nfunction vincentyDistance(coord1, coord2) {\n    // Constants for WGS 84 ellipsoidal Earth model (https://epsg.org/ellipsoid_7030/WGS-84.html)\n    // Semi-major axis of the Earth in meters\n    const a = 6378137;\n    // Flattening of the ellipsoid\n    const f = 1 / 298.257223563;\n    // Semi-minor axis\n    const b = (1 - f) * a;\n    // Convert degrees to radians for calculations\n    const P = Math.PI / 180;\n    const lat1 = coord1.lat * P;\n    const lat2 = coord2.lat * P;\n    const deltaLon = (coord2.lon - coord1.lon) * P;\n    // Reduced latitudes - account for flattening by transforming from geodetic to auxiliary latitude\n    const U1 = Math.atan((1 - f) * Math.tan(lat1));\n    const U2 = Math.atan((1 - f) * Math.tan(lat2));\n    const sinU1 = Math.sin(U1);\n    const cosU1 = Math.cos(U1);\n    const sinU2 = Math.sin(U2);\n    const cosU2 = Math.cos(U2);\n    // Initial approximation for the longitude difference between the two points\n    let lambda = deltaLon;\n    let prevLambda;\n    // Limit the iterations to ensure we don't get stuck in an infinite loop\n    let iterationLimit = 1000;\n    let sinAlpha;\n    let cos2Alpha;\n    let sinSigma;\n    let cosSigma;\n    let sigma;\n    // Refine the value of lambda (longitude difference)\n    do {\n        const sinLambda = Math.sin(lambda);\n        const cosLambda = Math.cos(lambda);\n        // Compute the trigonometric values required for Vincenty formulae\n        sinSigma = Math.sqrt(cosU2 * sinLambda * (cosU2 * sinLambda) + (cosU1 * sinU2 - sinU1 * cosU2 * cosLambda) * (cosU1 * sinU2 - sinU1 * cosU2 * cosLambda));\n        cosSigma = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;\n        sigma = Math.atan2(sinSigma, cosSigma);\n        // Angular separation between the two points and the equator\n        sinAlpha = cosU1 * cosU2 * sinLambda / sinSigma;\n        cos2Alpha = 1 - sinAlpha * sinAlpha;\n        const cos2SigmaM = cosSigma - 2 * sinU1 * sinU2 / cos2Alpha;\n        // Compensation factor for the Earth's shape\n        const C = f / 16 * cos2Alpha * (4 + f * (4 - 3 * cos2Alpha));\n        // Store previous lambda to check for convergence\n        prevLambda = lambda;\n        // Refine the estimate of lambda using the Vincenty formula\n        lambda = deltaLon + (1 - C) * f * sinAlpha * (sigma + C * sinSigma * (cos2SigmaM + C * cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM)));\n    }while (Math.abs(lambda - prevLambda) > 1e-12 && --iterationLimit > 0)\n    // Compute factors that depend on the shape of the Earth and angular distances\n    const u2 = cos2Alpha * (a * a - b * b) / (b * b);\n    const A = 1 + u2 / 16384 * (4096 + u2 * (-768 + u2 * (320 - 175 * u2)));\n    const B = u2 / 1024 * (256 + u2 * (-128 + u2 * (74 - 47 * u2)));\n    // Compute the correction factor for the ellipsoidal shape of the Earth\n    const deltaSigma = B * sinSigma * (cosSigma - 2 * sinU1 * sinU2 / cos2Alpha + B / 4 * (cosSigma * (-1 + 2 * sinSigma * sinSigma) - B / 6 * sigma * (-3 + 4 * sinSigma * sinSigma) * (-3 + 4 * sigma * sigma)));\n    // Final calculation of distance using Vincenty formula\n    const s = b * A * (sigma - deltaSigma);\n    return s;\n}\n\n//# sourceMappingURL=bkd.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9ia2QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxtQkFBbUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxtQkFBbUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L3RyZWVzL2JrZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBLID0gMiAvLyAyRCBwb2ludHNcbjtcbmNvbnN0IEVBUlRIX1JBRElVUyA9IDYzNzFlMyAvLyBFYXJ0aCByYWRpdXMgaW4gbWV0ZXJzXG47XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJvb3Q6IG51bGxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydCh0cmVlLCBwb2ludCwgZG9jSURzKSB7XG4gICAgY29uc3QgbmV3Tm9kZSA9IHtcbiAgICAgICAgcG9pbnQsXG4gICAgICAgIGRvY0lEc1xuICAgIH07XG4gICAgaWYgKHRyZWUucm9vdCA9PSBudWxsKSB7XG4gICAgICAgIHRyZWUucm9vdCA9IG5ld05vZGU7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG5vZGUgPSB0cmVlLnJvb3Q7XG4gICAgbGV0IGRlcHRoID0gMDtcbiAgICB3aGlsZShub2RlICE9PSBudWxsKXtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGN1cnJlbnQgbm9kZSdzIHBvaW50IG1hdGNoZXMgdGhlIG5ldyBwb2ludFxuICAgICAgICBpZiAobm9kZS5wb2ludC5sb24gPT09IHBvaW50LmxvbiAmJiBub2RlLnBvaW50LmxhdCA9PT0gcG9pbnQubGF0KSB7XG4gICAgICAgICAgICAvLyBNZXJnZSB0aGUgbmV3IGRvY0lEcyB3aXRoIHRoZSBleGlzdGluZyBvbmVzIGFuZCByZW1vdmUgZHVwbGljYXRlc1xuICAgICAgICAgICAgY29uc3QgbmV3RG9jSURzID0gbm9kZS5kb2NJRHMgPz8gW107XG4gICAgICAgICAgICBub2RlLmRvY0lEcyA9IEFycmF5LmZyb20obmV3IFNldChbXG4gICAgICAgICAgICAgICAgLi4ubmV3RG9jSURzLFxuICAgICAgICAgICAgICAgIC4uLmRvY0lEcyB8fCBbXVxuICAgICAgICAgICAgXSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF4aXMgPSBkZXB0aCAlIEs7XG4gICAgICAgIC8vIENvbXBhcmUgYnkgbG9uZ2l0dWRlXG4gICAgICAgIGlmIChheGlzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubG9uIDwgbm9kZS5wb2ludC5sb24pIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5sZWZ0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5sZWZ0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5yaWdodCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmlnaHQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAvLyBDb21wYXJlIGJ5IGxhdGl0dWRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5sZWZ0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5sZWZ0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5yaWdodCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmlnaHQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlcHRoKys7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKHRyZWUsIHBvaW50KSB7XG4gICAgbGV0IG5vZGUgPSB0cmVlLnJvb3Q7XG4gICAgbGV0IGRlcHRoID0gMDtcbiAgICB3aGlsZShub2RlICE9IG51bGwpe1xuICAgICAgICBpZiAoKG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5wb2ludC5sb24pID09PSBwb2ludC5sb24gJiYgbm9kZS5wb2ludC5sYXQgPT09IHBvaW50LmxhdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXhpcyA9IGRlcHRoICUgSztcbiAgICAgICAgLy8gQ29tcGFyZSBieSBsb25naXR1ZGVcbiAgICAgICAgaWYgKGF4aXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sb24gPCBub2RlLnBvaW50Lmxvbikge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUubGVmdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gQ29tcGFyZSBieSBsYXRpdHVkZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBvaW50LmxhdCA8IG5vZGUucG9pbnQubGF0KSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlcHRoKys7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIEB0b2RvOiB0aGlzIGlzIHZlcnkgaW5lZmZpY2llbnQuIEZpeCB0aGlzIGxhdGVyLlxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZURvY0J5SUQodHJlZSwgcG9pbnQsIGRvY0lEKSB7XG4gICAgbGV0IG5vZGUgPSB0cmVlLnJvb3Q7XG4gICAgbGV0IGRlcHRoID0gMDtcbiAgICBsZXQgcGFyZW50Tm9kZSA9IG51bGw7XG4gICAgbGV0IGRpcmVjdGlvbiA9IG51bGw7XG4gICAgd2hpbGUobm9kZSAhPT0gbnVsbCl7XG4gICAgICAgIGlmICgobm9kZSA9PT0gbnVsbCB8fCBub2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBub2RlLnBvaW50LmxvbikgPT09IHBvaW50LmxvbiAmJiBub2RlLnBvaW50LmxhdCA9PT0gcG9pbnQubGF0KSB7XG4gICAgICAgICAgICB2YXIgX25vZGVfZG9jSURzO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSAoX25vZGVfZG9jSURzID0gbm9kZS5kb2NJRHMpID09PSBudWxsIHx8IF9ub2RlX2RvY0lEcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25vZGVfZG9jSURzLmluZGV4T2YoZG9jSUQpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQgJiYgaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgIHZhciAvLyBSZW1vdmUgdGhlIGRvY0lEIGZyb20gdGhlIGFycmF5XG4gICAgICAgICAgICAgICAgX25vZGVfZG9jSURzMTtcbiAgICAgICAgICAgICAgICAoX25vZGVfZG9jSURzMSA9IG5vZGUuZG9jSURzKSA9PT0gbnVsbCB8fCBfbm9kZV9kb2NJRHMxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbm9kZV9kb2NJRHMxLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuZG9jSURzID09IG51bGwgfHwgbm9kZS5kb2NJRHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIGRvZXNuJ3QgaGF2ZSBhbnkgbW9yZSBkb2NJRHMsIHJlbW92ZSB0aGUgbm9kZVxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50Tm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLmxlZnQgPSBub2RlLmxlZnQgIT09IG51bGwgPyBub2RlLmxlZnQgOiBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJpZ2h0ID0gbm9kZS5yaWdodCAhPT0gbnVsbCA/IG5vZGUucmlnaHQgOiBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbm9kZSB0byBiZSByZW1vdmVkIGlzIHRoZSByb290XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmVlLnJvb3QgPSBub2RlLmxlZnQgIT09IG51bGwgPyBub2RlLmxlZnQgOiBub2RlLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBheGlzID0gZGVwdGggJSBLO1xuICAgICAgICBwYXJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgLy8gQ29tcGFyZSBieSBsb25naXR1ZGVcbiAgICAgICAgaWYgKGF4aXMgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChwb2ludC5sb24gPCBub2RlLnBvaW50Lmxvbikge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUubGVmdDtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gQ29tcGFyZSBieSBsYXRpdHVkZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBvaW50LmxhdCA8IG5vZGUucG9pbnQubGF0KSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5sZWZ0O1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5yaWdodDtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlcHRoKys7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldERvY0lEc0J5Q29vcmRpbmF0ZXModHJlZSwgcG9pbnQpIHtcbiAgICBsZXQgbm9kZSA9IHRyZWUucm9vdDtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIHdoaWxlKG5vZGUgIT09IG51bGwpe1xuICAgICAgICBpZiAobm9kZS5wb2ludC5sb24gPT09IHBvaW50LmxvbiAmJiBub2RlLnBvaW50LmxhdCA9PT0gcG9pbnQubGF0KSB7XG4gICAgICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIHJldHVybiBub2RlLmRvY0lEcyA/PyBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF4aXMgPSBkZXB0aCAlIEs7XG4gICAgICAgIC8vIENvbXBhcmUgYnkgbG9uZ2l0dWRlXG4gICAgICAgIGlmIChheGlzID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocG9pbnQubG9uIDwgbm9kZS5wb2ludC5sb24pIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5sZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgLy8gQ29tcGFyZSBieSBsYXRpdHVkZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBvaW50LmxhdCA8IG5vZGUucG9pbnQubGF0KSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubGVmdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVwdGgrKztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VhcmNoQnlSYWRpdXMobm9kZSwgY2VudGVyLCByYWRpdXMsIGluY2x1c2l2ZSA9IHRydWUsIHNvcnQgPSAnYXNjJywgaGlnaFByZWNpc2lvbiA9IGZhbHNlKSB7XG4gICAgY29uc3QgZGlzdGFuY2VGbiA9IGhpZ2hQcmVjaXNpb24gPyB2aW5jZW50eURpc3RhbmNlIDogaGF2ZXJzaW5lRGlzdGFuY2U7XG4gICAgY29uc3Qgc3RhY2sgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBkZXB0aDogMFxuICAgICAgICB9XG4gICAgXTtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICB3aGlsZShzdGFjay5sZW5ndGggPiAwKXtcbiAgICAgICAgY29uc3QgeyBub2RlICwgZGVwdGggIH0gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBkaXN0ID0gZGlzdGFuY2VGbihjZW50ZXIsIG5vZGUucG9pbnQpO1xuICAgICAgICBpZiAoaW5jbHVzaXZlID8gZGlzdCA8PSByYWRpdXMgOiBkaXN0ID4gcmFkaXVzKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgcG9pbnQ6IG5vZGUucG9pbnQsXG4gICAgICAgICAgICAgICAgZG9jSURzOiBub2RlLmRvY0lEcyA/PyBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUubGVmdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlLmxlZnQsXG4gICAgICAgICAgICAgICAgZGVwdGg6IGRlcHRoICsgMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUucmlnaHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgbm9kZTogbm9kZS5yaWdodCxcbiAgICAgICAgICAgICAgICBkZXB0aDogZGVwdGggKyAxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc29ydCkge1xuICAgICAgICByZXN1bHQuc29ydCgoYSwgYik9PntcbiAgICAgICAgICAgIGNvbnN0IGRpc3RBID0gZGlzdGFuY2VGbihjZW50ZXIsIGEucG9pbnQpO1xuICAgICAgICAgICAgY29uc3QgZGlzdEIgPSBkaXN0YW5jZUZuKGNlbnRlciwgYi5wb2ludCk7XG4gICAgICAgICAgICByZXR1cm4gc29ydC50b0xvd2VyQ2FzZSgpID09PSAnYXNjJyA/IGRpc3RBIC0gZGlzdEIgOiBkaXN0QiAtIGRpc3RBO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hCeVBvbHlnb24ocm9vdCwgcG9seWdvbiwgaW5jbHVzaXZlID0gdHJ1ZSwgc29ydCA9IG51bGwsIGhpZ2hQcmVjaXNpb24gPSBmYWxzZSkge1xuICAgIGNvbnN0IHN0YWNrID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBub2RlOiByb290LFxuICAgICAgICAgICAgZGVwdGg6IDBcbiAgICAgICAgfVxuICAgIF07XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgd2hpbGUoc3RhY2subGVuZ3RoID4gMCl7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKHRhc2sgPT0gbnVsbCB8fCB0YXNrLm5vZGUgPT0gbnVsbCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IHsgbm9kZSAsIGRlcHRoICB9ID0gdGFzaztcbiAgICAgICAgY29uc3QgbmV4dERlcHRoID0gZGVwdGggKyAxO1xuICAgICAgICBpZiAobm9kZS5sZWZ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgIG5vZGU6IG5vZGUubGVmdCxcbiAgICAgICAgICAgICAgICBkZXB0aDogbmV4dERlcHRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5yaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICBzdGFjay5wdXNoKHtcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlLnJpZ2h0LFxuICAgICAgICAgICAgICAgIGRlcHRoOiBuZXh0RGVwdGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzSW5zaWRlUG9seWdvbiA9IGlzUG9pbnRJblBvbHlnb24ocG9seWdvbiwgbm9kZS5wb2ludCk7XG4gICAgICAgIGlmIChpc0luc2lkZVBvbHlnb24gJiYgaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgcG9pbnQ6IG5vZGUucG9pbnQsXG4gICAgICAgICAgICAgICAgZG9jSURzOiBub2RlLmRvY0lEcyA/PyBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzSW5zaWRlUG9seWdvbiAmJiAhaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgcG9pbnQ6IG5vZGUucG9pbnQsXG4gICAgICAgICAgICAgICAgZG9jSURzOiBub2RlLmRvY0lEcyA/PyBbXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2VudHJvaWQgPSBjYWxjdWxhdGVQb2x5Z29uQ2VudHJvaWQocG9seWdvbik7XG4gICAgaWYgKHNvcnQpIHtcbiAgICAgICAgY29uc3Qgc29ydEZuID0gaGlnaFByZWNpc2lvbiA/IHZpbmNlbnR5RGlzdGFuY2UgOiBoYXZlcnNpbmVEaXN0YW5jZTtcbiAgICAgICAgcmVzdWx0LnNvcnQoKGEsIGIpPT57XG4gICAgICAgICAgICBjb25zdCBkaXN0QSA9IHNvcnRGbihjZW50cm9pZCwgYS5wb2ludCk7XG4gICAgICAgICAgICBjb25zdCBkaXN0QiA9IHNvcnRGbihjZW50cm9pZCwgYi5wb2ludCk7XG4gICAgICAgICAgICByZXR1cm4gc29ydC50b0xvd2VyQ2FzZSgpID09PSAnYXNjJyA/IGRpc3RBIC0gZGlzdEIgOiBkaXN0QiAtIGRpc3RBO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZVBvbHlnb25DZW50cm9pZChwb2x5Z29uKSB7XG4gICAgbGV0IHRvdGFsQXJlYSA9IDA7XG4gICAgbGV0IGNlbnRyb2lkWCA9IDA7XG4gICAgbGV0IGNlbnRyb2lkWSA9IDA7XG4gICAgY29uc3QgcG9seWdvbkxlbmd0aCA9IHBvbHlnb24ubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDAsIGogPSBwb2x5Z29uTGVuZ3RoIC0gMTsgaSA8IHBvbHlnb25MZW5ndGg7IGogPSBpKyspe1xuICAgICAgICBjb25zdCB4aSA9IHBvbHlnb25baV0ubG9uO1xuICAgICAgICBjb25zdCB5aSA9IHBvbHlnb25baV0ubGF0O1xuICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ubG9uO1xuICAgICAgICBjb25zdCB5aiA9IHBvbHlnb25bal0ubGF0O1xuICAgICAgICBjb25zdCBhcmVhU2VnbWVudCA9IHhpICogeWogLSB4aiAqIHlpO1xuICAgICAgICB0b3RhbEFyZWEgKz0gYXJlYVNlZ21lbnQ7XG4gICAgICAgIGNlbnRyb2lkWCArPSAoeGkgKyB4aikgKiBhcmVhU2VnbWVudDtcbiAgICAgICAgY2VudHJvaWRZICs9ICh5aSArIHlqKSAqIGFyZWFTZWdtZW50O1xuICAgIH1cbiAgICB0b3RhbEFyZWEgLz0gMjtcbiAgICBjb25zdCBjZW50cm9pZENvb3JkaW5hdGUgPSA2ICogdG90YWxBcmVhO1xuICAgIGNlbnRyb2lkWCAvPSBjZW50cm9pZENvb3JkaW5hdGU7XG4gICAgY2VudHJvaWRZIC89IGNlbnRyb2lkQ29vcmRpbmF0ZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBsb246IGNlbnRyb2lkWCxcbiAgICAgICAgbGF0OiBjZW50cm9pZFlcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNQb2ludEluUG9seWdvbihwb2x5Z29uLCBwb2ludCkge1xuICAgIGxldCBpc0luc2lkZSA9IGZhbHNlO1xuICAgIGNvbnN0IHggPSBwb2ludC5sb247XG4gICAgY29uc3QgeSA9IHBvaW50LmxhdDtcbiAgICBjb25zdCBwb2x5Z29uTGVuZ3RoID0gcG9seWdvbi5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMCwgaiA9IHBvbHlnb25MZW5ndGggLSAxOyBpIDwgcG9seWdvbkxlbmd0aDsgaiA9IGkrKyl7XG4gICAgICAgIGNvbnN0IHhpID0gcG9seWdvbltpXS5sb247XG4gICAgICAgIGNvbnN0IHlpID0gcG9seWdvbltpXS5sYXQ7XG4gICAgICAgIGNvbnN0IHhqID0gcG9seWdvbltqXS5sb247XG4gICAgICAgIGNvbnN0IHlqID0gcG9seWdvbltqXS5sYXQ7XG4gICAgICAgIGNvbnN0IGludGVyc2VjdCA9IHlpID4geSAhPT0geWogPiB5ICYmIHggPCAoeGogLSB4aSkgKiAoeSAtIHlpKSAvICh5aiAtIHlpKSArIHhpO1xuICAgICAgICBpZiAoaW50ZXJzZWN0KSBpc0luc2lkZSA9ICFpc0luc2lkZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzSW5zaWRlO1xufVxuZnVuY3Rpb24gaGF2ZXJzaW5lRGlzdGFuY2UoY29vcmQxLCBjb29yZDIpIHtcbiAgICBjb25zdCBQID0gTWF0aC5QSSAvIDE4MDtcbiAgICBjb25zdCBsYXQxID0gY29vcmQxLmxhdCAqIFA7XG4gICAgY29uc3QgbGF0MiA9IGNvb3JkMi5sYXQgKiBQO1xuICAgIGNvbnN0IGRlbHRhTGF0ID0gKGNvb3JkMi5sYXQgLSBjb29yZDEubGF0KSAqIFA7XG4gICAgY29uc3QgZGVsdGFMb24gPSAoY29vcmQyLmxvbiAtIGNvb3JkMS5sb24pICogUDtcbiAgICBjb25zdCBhID0gTWF0aC5zaW4oZGVsdGFMYXQgLyAyKSAqIE1hdGguc2luKGRlbHRhTGF0IC8gMikgKyBNYXRoLmNvcyhsYXQxKSAqIE1hdGguY29zKGxhdDIpICogTWF0aC5zaW4oZGVsdGFMb24gLyAyKSAqIE1hdGguc2luKGRlbHRhTG9uIC8gMik7XG4gICAgY29uc3QgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XG4gICAgcmV0dXJuIEVBUlRIX1JBRElVUyAqIGM7XG59XG5mdW5jdGlvbiB2aW5jZW50eURpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSB7XG4gICAgLy8gQ29uc3RhbnRzIGZvciBXR1MgODQgZWxsaXBzb2lkYWwgRWFydGggbW9kZWwgKGh0dHBzOi8vZXBzZy5vcmcvZWxsaXBzb2lkXzcwMzAvV0dTLTg0Lmh0bWwpXG4gICAgLy8gU2VtaS1tYWpvciBheGlzIG9mIHRoZSBFYXJ0aCBpbiBtZXRlcnNcbiAgICBjb25zdCBhID0gNjM3ODEzNztcbiAgICAvLyBGbGF0dGVuaW5nIG9mIHRoZSBlbGxpcHNvaWRcbiAgICBjb25zdCBmID0gMSAvIDI5OC4yNTcyMjM1NjM7XG4gICAgLy8gU2VtaS1taW5vciBheGlzXG4gICAgY29uc3QgYiA9ICgxIC0gZikgKiBhO1xuICAgIC8vIENvbnZlcnQgZGVncmVlcyB0byByYWRpYW5zIGZvciBjYWxjdWxhdGlvbnNcbiAgICBjb25zdCBQID0gTWF0aC5QSSAvIDE4MDtcbiAgICBjb25zdCBsYXQxID0gY29vcmQxLmxhdCAqIFA7XG4gICAgY29uc3QgbGF0MiA9IGNvb3JkMi5sYXQgKiBQO1xuICAgIGNvbnN0IGRlbHRhTG9uID0gKGNvb3JkMi5sb24gLSBjb29yZDEubG9uKSAqIFA7XG4gICAgLy8gUmVkdWNlZCBsYXRpdHVkZXMgLSBhY2NvdW50IGZvciBmbGF0dGVuaW5nIGJ5IHRyYW5zZm9ybWluZyBmcm9tIGdlb2RldGljIHRvIGF1eGlsaWFyeSBsYXRpdHVkZVxuICAgIGNvbnN0IFUxID0gTWF0aC5hdGFuKCgxIC0gZikgKiBNYXRoLnRhbihsYXQxKSk7XG4gICAgY29uc3QgVTIgPSBNYXRoLmF0YW4oKDEgLSBmKSAqIE1hdGgudGFuKGxhdDIpKTtcbiAgICBjb25zdCBzaW5VMSA9IE1hdGguc2luKFUxKTtcbiAgICBjb25zdCBjb3NVMSA9IE1hdGguY29zKFUxKTtcbiAgICBjb25zdCBzaW5VMiA9IE1hdGguc2luKFUyKTtcbiAgICBjb25zdCBjb3NVMiA9IE1hdGguY29zKFUyKTtcbiAgICAvLyBJbml0aWFsIGFwcHJveGltYXRpb24gZm9yIHRoZSBsb25naXR1ZGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzXG4gICAgbGV0IGxhbWJkYSA9IGRlbHRhTG9uO1xuICAgIGxldCBwcmV2TGFtYmRhO1xuICAgIC8vIExpbWl0IHRoZSBpdGVyYXRpb25zIHRvIGVuc3VyZSB3ZSBkb24ndCBnZXQgc3R1Y2sgaW4gYW4gaW5maW5pdGUgbG9vcFxuICAgIGxldCBpdGVyYXRpb25MaW1pdCA9IDEwMDA7XG4gICAgbGV0IHNpbkFscGhhO1xuICAgIGxldCBjb3MyQWxwaGE7XG4gICAgbGV0IHNpblNpZ21hO1xuICAgIGxldCBjb3NTaWdtYTtcbiAgICBsZXQgc2lnbWE7XG4gICAgLy8gUmVmaW5lIHRoZSB2YWx1ZSBvZiBsYW1iZGEgKGxvbmdpdHVkZSBkaWZmZXJlbmNlKVxuICAgIGRvIHtcbiAgICAgICAgY29uc3Qgc2luTGFtYmRhID0gTWF0aC5zaW4obGFtYmRhKTtcbiAgICAgICAgY29uc3QgY29zTGFtYmRhID0gTWF0aC5jb3MobGFtYmRhKTtcbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgdHJpZ29ub21ldHJpYyB2YWx1ZXMgcmVxdWlyZWQgZm9yIFZpbmNlbnR5IGZvcm11bGFlXG4gICAgICAgIHNpblNpZ21hID0gTWF0aC5zcXJ0KGNvc1UyICogc2luTGFtYmRhICogKGNvc1UyICogc2luTGFtYmRhKSArIChjb3NVMSAqIHNpblUyIC0gc2luVTEgKiBjb3NVMiAqIGNvc0xhbWJkYSkgKiAoY29zVTEgKiBzaW5VMiAtIHNpblUxICogY29zVTIgKiBjb3NMYW1iZGEpKTtcbiAgICAgICAgY29zU2lnbWEgPSBzaW5VMSAqIHNpblUyICsgY29zVTEgKiBjb3NVMiAqIGNvc0xhbWJkYTtcbiAgICAgICAgc2lnbWEgPSBNYXRoLmF0YW4yKHNpblNpZ21hLCBjb3NTaWdtYSk7XG4gICAgICAgIC8vIEFuZ3VsYXIgc2VwYXJhdGlvbiBiZXR3ZWVuIHRoZSB0d28gcG9pbnRzIGFuZCB0aGUgZXF1YXRvclxuICAgICAgICBzaW5BbHBoYSA9IGNvc1UxICogY29zVTIgKiBzaW5MYW1iZGEgLyBzaW5TaWdtYTtcbiAgICAgICAgY29zMkFscGhhID0gMSAtIHNpbkFscGhhICogc2luQWxwaGE7XG4gICAgICAgIGNvbnN0IGNvczJTaWdtYU0gPSBjb3NTaWdtYSAtIDIgKiBzaW5VMSAqIHNpblUyIC8gY29zMkFscGhhO1xuICAgICAgICAvLyBDb21wZW5zYXRpb24gZmFjdG9yIGZvciB0aGUgRWFydGgncyBzaGFwZVxuICAgICAgICBjb25zdCBDID0gZiAvIDE2ICogY29zMkFscGhhICogKDQgKyBmICogKDQgLSAzICogY29zMkFscGhhKSk7XG4gICAgICAgIC8vIFN0b3JlIHByZXZpb3VzIGxhbWJkYSB0byBjaGVjayBmb3IgY29udmVyZ2VuY2VcbiAgICAgICAgcHJldkxhbWJkYSA9IGxhbWJkYTtcbiAgICAgICAgLy8gUmVmaW5lIHRoZSBlc3RpbWF0ZSBvZiBsYW1iZGEgdXNpbmcgdGhlIFZpbmNlbnR5IGZvcm11bGFcbiAgICAgICAgbGFtYmRhID0gZGVsdGFMb24gKyAoMSAtIEMpICogZiAqIHNpbkFscGhhICogKHNpZ21hICsgQyAqIHNpblNpZ21hICogKGNvczJTaWdtYU0gKyBDICogY29zU2lnbWEgKiAoLTEgKyAyICogY29zMlNpZ21hTSAqIGNvczJTaWdtYU0pKSk7XG4gICAgfXdoaWxlIChNYXRoLmFicyhsYW1iZGEgLSBwcmV2TGFtYmRhKSA+IDFlLTEyICYmIC0taXRlcmF0aW9uTGltaXQgPiAwKVxuICAgIC8vIENvbXB1dGUgZmFjdG9ycyB0aGF0IGRlcGVuZCBvbiB0aGUgc2hhcGUgb2YgdGhlIEVhcnRoIGFuZCBhbmd1bGFyIGRpc3RhbmNlc1xuICAgIGNvbnN0IHUyID0gY29zMkFscGhhICogKGEgKiBhIC0gYiAqIGIpIC8gKGIgKiBiKTtcbiAgICBjb25zdCBBID0gMSArIHUyIC8gMTYzODQgKiAoNDA5NiArIHUyICogKC03NjggKyB1MiAqICgzMjAgLSAxNzUgKiB1MikpKTtcbiAgICBjb25zdCBCID0gdTIgLyAxMDI0ICogKDI1NiArIHUyICogKC0xMjggKyB1MiAqICg3NCAtIDQ3ICogdTIpKSk7XG4gICAgLy8gQ29tcHV0ZSB0aGUgY29ycmVjdGlvbiBmYWN0b3IgZm9yIHRoZSBlbGxpcHNvaWRhbCBzaGFwZSBvZiB0aGUgRWFydGhcbiAgICBjb25zdCBkZWx0YVNpZ21hID0gQiAqIHNpblNpZ21hICogKGNvc1NpZ21hIC0gMiAqIHNpblUxICogc2luVTIgLyBjb3MyQWxwaGEgKyBCIC8gNCAqIChjb3NTaWdtYSAqICgtMSArIDIgKiBzaW5TaWdtYSAqIHNpblNpZ21hKSAtIEIgLyA2ICogc2lnbWEgKiAoLTMgKyA0ICogc2luU2lnbWEgKiBzaW5TaWdtYSkgKiAoLTMgKyA0ICogc2lnbWEgKiBzaWdtYSkpKTtcbiAgICAvLyBGaW5hbCBjYWxjdWxhdGlvbiBvZiBkaXN0YW5jZSB1c2luZyBWaW5jZW50eSBmb3JtdWxhXG4gICAgY29uc3QgcyA9IGIgKiBBICogKHNpZ21hIC0gZGVsdGFTaWdtYSk7XG4gICAgcmV0dXJuIHM7XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJrZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/bkd.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/flat.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/flat.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contains: () => (/* binding */ contains),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   filter: () => (/* binding */ filter),\n/* harmony export */   filterArr: () => (/* binding */ filterArr),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   getSize: () => (/* binding */ getSize),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   removeDocument: () => (/* binding */ removeDocument)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n\nfunction create() {\n    return {\n        numberToDocumentId: new Map()\n    };\n}\nfunction insert(root, key, value) {\n    if (root.numberToDocumentId.has(key)) {\n        root.numberToDocumentId.get(key).push(value);\n        return root;\n    }\n    root.numberToDocumentId.set(key, [\n        value\n    ]);\n    return root;\n}\nfunction find(root, key) {\n    return root.numberToDocumentId.get(key) ?? null;\n}\nfunction remove(root, key) {\n    if (root != null) {\n        root.numberToDocumentId.delete(key);\n    }\n    return root;\n}\nfunction removeDocument(root, id, key) {\n    var _root_numberToDocumentId_get, _root_numberToDocumentId_get1;\n    root === null || root === void 0 ? void 0 : root.numberToDocumentId.set(key, ((_root_numberToDocumentId_get = root === null || root === void 0 ? void 0 : root.numberToDocumentId.get(key)) === null || _root_numberToDocumentId_get === void 0 ? void 0 : _root_numberToDocumentId_get.filter((v)=>v !== id)) ?? []);\n    if (((_root_numberToDocumentId_get1 = root === null || root === void 0 ? void 0 : root.numberToDocumentId.get(key)) === null || _root_numberToDocumentId_get1 === void 0 ? void 0 : _root_numberToDocumentId_get1.length) === 0) {\n        root === null || root === void 0 ? void 0 : root.numberToDocumentId.delete(key);\n    }\n}\nfunction contains(node, key) {\n    return !(find(node, key) == null);\n}\nfunction getSize(root) {\n    let size = 0;\n    for (const [, value] of (root === null || root === void 0 ? void 0 : root.numberToDocumentId) ?? []){\n        size += value.length;\n    }\n    return size;\n}\nfunction filter(root, operation) {\n    const operationKeys = Object.keys(operation);\n    if (operationKeys.length !== 1) {\n        throw new Error('Invalid operation');\n    }\n    const operationType = operationKeys[0];\n    switch(operationType){\n        case 'eq':\n            {\n                const value = operation[operationType];\n                return root.numberToDocumentId.get(value) ?? [];\n            }\n        case 'in':\n            {\n                const value = operation[operationType];\n                const result = [];\n                for (const v of value){\n                    const ids = root.numberToDocumentId.get(v);\n                    if (ids != null) {\n                        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(result, ids);\n                    }\n                }\n                return result;\n            }\n        case 'nin':\n            {\n                const value = operation[operationType];\n                const result = [];\n                const keys = root.numberToDocumentId.keys();\n                for (const key of keys){\n                    if (value.includes(key)) {\n                        continue;\n                    }\n                    const ids = root.numberToDocumentId.get(key);\n                    if (ids != null) {\n                        (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.safeArrayPush)(result, ids);\n                    }\n                }\n                return result;\n            }\n    }\n    throw new Error('Invalid operation');\n}\nfunction filterArr(root, operation) {\n    const operationKeys = Object.keys(operation);\n    if (operationKeys.length !== 1) {\n        throw new Error('Invalid operation');\n    }\n    const operationType = operationKeys[0];\n    switch(operationType){\n        case 'containsAll':\n            {\n                const values = operation[operationType];\n                const ids = values.map((value)=>root.numberToDocumentId.get(value) ?? []);\n                return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.intersect)(ids);\n            }\n    }\n    throw new Error('Invalid operation');\n}\n\n//# sourceMappingURL=flat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9mbGF0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDaEQ7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHdEQUFhO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3REFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9Ab3JhbWErb3JhbWFAMi4xLjEvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L3RyZWVzL2ZsYXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW50ZXJzZWN0LCBzYWZlQXJyYXlQdXNoIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBudW1iZXJUb0RvY3VtZW50SWQ6IG5ldyBNYXAoKVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0KHJvb3QsIGtleSwgdmFsdWUpIHtcbiAgICBpZiAocm9vdC5udW1iZXJUb0RvY3VtZW50SWQuaGFzKGtleSkpIHtcbiAgICAgICAgcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KGtleSkucHVzaCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH1cbiAgICByb290Lm51bWJlclRvRG9jdW1lbnRJZC5zZXQoa2V5LCBbXG4gICAgICAgIHZhbHVlXG4gICAgXSk7XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChyb290LCBrZXkpIHtcbiAgICByZXR1cm4gcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KGtleSkgPz8gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUocm9vdCwga2V5KSB7XG4gICAgaWYgKHJvb3QgIT0gbnVsbCkge1xuICAgICAgICByb290Lm51bWJlclRvRG9jdW1lbnRJZC5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG9jdW1lbnQocm9vdCwgaWQsIGtleSkge1xuICAgIHZhciBfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0LCBfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0MTtcbiAgICByb290ID09PSBudWxsIHx8IHJvb3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLnNldChrZXksICgoX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldCA9IHJvb3QgPT09IG51bGwgfHwgcm9vdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KGtleSkpID09PSBudWxsIHx8IF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yb290X251bWJlclRvRG9jdW1lbnRJZF9nZXQuZmlsdGVyKCh2KT0+diAhPT0gaWQpKSA/PyBbXSk7XG4gICAgaWYgKCgoX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldDEgPSByb290ID09PSBudWxsIHx8IHJvb3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldChrZXkpKSA9PT0gbnVsbCB8fCBfcm9vdF9udW1iZXJUb0RvY3VtZW50SWRfZ2V0MSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Jvb3RfbnVtYmVyVG9Eb2N1bWVudElkX2dldDEubGVuZ3RoKSA9PT0gMCkge1xuICAgICAgICByb290ID09PSBudWxsIHx8IHJvb3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmRlbGV0ZShrZXkpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWlucyhub2RlLCBrZXkpIHtcbiAgICByZXR1cm4gIShmaW5kKG5vZGUsIGtleSkgPT0gbnVsbCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShyb290KSB7XG4gICAgbGV0IHNpemUgPSAwO1xuICAgIGZvciAoY29uc3QgWywgdmFsdWVdIG9mIChyb290ID09PSBudWxsIHx8IHJvb3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJvb3QubnVtYmVyVG9Eb2N1bWVudElkKSA/PyBbXSl7XG4gICAgICAgIHNpemUgKz0gdmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXIocm9vdCwgb3BlcmF0aW9uKSB7XG4gICAgY29uc3Qgb3BlcmF0aW9uS2V5cyA9IE9iamVjdC5rZXlzKG9wZXJhdGlvbik7XG4gICAgaWYgKG9wZXJhdGlvbktleXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbiAgICB9XG4gICAgY29uc3Qgb3BlcmF0aW9uVHlwZSA9IG9wZXJhdGlvbktleXNbMF07XG4gICAgc3dpdGNoKG9wZXJhdGlvblR5cGUpe1xuICAgICAgICBjYXNlICdlcSc6XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvb3QubnVtYmVyVG9Eb2N1bWVudElkLmdldCh2YWx1ZSkgPz8gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ2luJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9wZXJhdGlvbltvcGVyYXRpb25UeXBlXTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSByb290Lm51bWJlclRvRG9jdW1lbnRJZC5nZXQodik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIGlkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnbmluJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9wZXJhdGlvbltvcGVyYXRpb25UeXBlXTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXlzID0gcm9vdC5udW1iZXJUb0RvY3VtZW50SWQua2V5cygpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMpe1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRzID0gcm9vdC5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FmZUFycmF5UHVzaChyZXN1bHQsIGlkcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9wZXJhdGlvbicpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckFycihyb290LCBvcGVyYXRpb24pIHtcbiAgICBjb25zdCBvcGVyYXRpb25LZXlzID0gT2JqZWN0LmtleXMob3BlcmF0aW9uKTtcbiAgICBpZiAob3BlcmF0aW9uS2V5cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9wZXJhdGlvbicpO1xuICAgIH1cbiAgICBjb25zdCBvcGVyYXRpb25UeXBlID0gb3BlcmF0aW9uS2V5c1swXTtcbiAgICBzd2l0Y2gob3BlcmF0aW9uVHlwZSl7XG4gICAgICAgIGNhc2UgJ2NvbnRhaW5zQWxsJzpcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3QgaWRzID0gdmFsdWVzLm1hcCgodmFsdWUpPT5yb290Lm51bWJlclRvRG9jdW1lbnRJZC5nZXQodmFsdWUpID8/IFtdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW50ZXJzZWN0KGlkcyk7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmxhdC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/flat.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/radix.js":
/*!**********************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/radix.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Node: () => (/* binding */ Node),\n/* harmony export */   contains: () => (/* binding */ contains),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   find: () => (/* binding */ find),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   removeDocumentByWord: () => (/* binding */ removeDocumentByWord),\n/* harmony export */   removeWord: () => (/* binding */ removeWord)\n/* harmony export */ });\n/* harmony import */ var _components_levenshtein_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/levenshtein.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/components/levenshtein.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\");\n\n\nclass Node {\n    constructor(key, subWord, end){\n        this.k = key;\n        this.s = subWord;\n        this.e = end;\n    }\n    // Node children\n    c = {};\n    // Node documents\n    d = [];\n    // Node word\n    w = '';\n    toJSON() {\n        return {\n            w: this.w,\n            s: this.s,\n            c: this.c,\n            d: this.d,\n            e: this.e\n        };\n    }\n}\nfunction updateParent(node, parent) {\n    node.w = parent.w + node.s;\n}\nfunction addDocument(node, docID) {\n    node.d.push(docID);\n}\nfunction removeDocument(node, docID) {\n    const index = node.d.indexOf(docID);\n    /* c8 ignore next 3 */ if (index === -1) {\n        return false;\n    }\n    node.d.splice(index, 1);\n    return true;\n}\nfunction findAllWords(node, output, term, exact, tolerance) {\n    if (node.e) {\n        const { w , d: docIDs  } = node;\n        if (exact && w !== term) {\n            return {};\n        }\n        // always check in own property to prevent access to inherited properties\n        // fix https://github.com/askorama/orama/issues/137\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getOwnProperty)(output, w) == null) {\n            if (tolerance) {\n                // computing the absolute difference of letters between the term and the word\n                const difference = Math.abs(term.length - w.length);\n                // if the tolerance is set, check whether the edit distance is within tolerance.\n                // In that case, we don't need to add the word to the output\n                if (difference <= tolerance && (0,_components_levenshtein_js__WEBPACK_IMPORTED_MODULE_1__.syncBoundedLevenshtein)(term, w, tolerance).isBounded) {\n                    output[w] = [];\n                }\n            } else {\n                // prevent default tolerance not set\n                output[w] = [];\n            }\n        }\n        // check if _output[w] exists and then add the doc to it\n        // always check in own property to prevent access to inherited properties\n        // fix https://github.com/askorama/orama/issues/137\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getOwnProperty)(output, w) != null && docIDs.length > 0) {\n            const docs = new Set(output[w]);\n            const docIDsLength = docIDs.length;\n            for(let i = 0; i < docIDsLength; i++){\n                docs.add(docIDs[i]);\n            }\n            output[w] = Array.from(docs);\n        }\n    }\n    // recursively search the children\n    for (const character of Object.keys(node.c)){\n        findAllWords(node.c[character], output, term, exact, tolerance);\n    }\n    return output;\n}\nfunction getCommonPrefix(a, b) {\n    let commonPrefix = '';\n    const len = Math.min(a.length, b.length);\n    for(let i = 0; i < len; i++){\n        if (a[i] !== b[i]) {\n            return commonPrefix;\n        }\n        commonPrefix += a[i];\n    }\n    return commonPrefix;\n}\nfunction create(end = false, subWord = '', key = '') {\n    return new Node(key, subWord, end);\n}\nfunction insert(root, word, docId) {\n    const wordLength = word.length;\n    for(let i = 0; i < wordLength; i++){\n        const currentCharacter = word[i];\n        const wordAtIndex = word.substring(i);\n        const rootChildCurrentChar = root.c[currentCharacter];\n        if (rootChildCurrentChar) {\n            const edgeLabel = rootChildCurrentChar.s;\n            const edgeLabelLength = edgeLabel.length;\n            const commonPrefix = getCommonPrefix(edgeLabel, wordAtIndex);\n            const commonPrefixLength = commonPrefix.length;\n            // the wordAtIndex matches exactly with an existing child node\n            if (edgeLabel === wordAtIndex) {\n                addDocument(rootChildCurrentChar, docId);\n                rootChildCurrentChar.e = true;\n                return;\n            }\n            const edgeLabelAtCommonPrefix = edgeLabel[commonPrefixLength];\n            // the wordAtIndex is completely contained in the child node subword\n            if (commonPrefixLength < edgeLabelLength && commonPrefixLength === wordAtIndex.length) {\n                const newNode = create(true, wordAtIndex, currentCharacter) // Create a new node with end set to true\n                ;\n                newNode.c[edgeLabelAtCommonPrefix] = rootChildCurrentChar;\n                const newNodeChild = newNode.c[edgeLabelAtCommonPrefix];\n                newNodeChild.s = edgeLabel.substring(commonPrefixLength);\n                newNodeChild.k = edgeLabelAtCommonPrefix;\n                root.c[currentCharacter] = newNode;\n                updateParent(newNode, root);\n                updateParent(newNodeChild, newNode);\n                addDocument(newNode, docId);\n                return;\n            }\n            // the wordAtIndex is partially contained in the child node subword\n            if (commonPrefixLength < edgeLabelLength && commonPrefixLength < wordAtIndex.length) {\n                const inbetweenNode = create(false, commonPrefix, currentCharacter);\n                inbetweenNode.c[edgeLabelAtCommonPrefix] = rootChildCurrentChar;\n                root.c[currentCharacter] = inbetweenNode;\n                const inbetweenNodeChild = inbetweenNode.c[edgeLabelAtCommonPrefix];\n                inbetweenNodeChild.s = edgeLabel.substring(commonPrefixLength);\n                inbetweenNodeChild.k = edgeLabelAtCommonPrefix;\n                const wordAtCommonPrefix = wordAtIndex[commonPrefixLength];\n                const newNode = create(true, word.substring(i + commonPrefixLength), wordAtCommonPrefix);\n                addDocument(newNode, docId);\n                inbetweenNode.c[wordAtCommonPrefix] = newNode;\n                updateParent(inbetweenNode, root);\n                updateParent(newNode, inbetweenNode);\n                updateParent(inbetweenNodeChild, inbetweenNode);\n                return;\n            }\n            // skip to the next divergent character\n            i += edgeLabelLength - 1;\n            // navigate in the child node\n            root = rootChildCurrentChar;\n        } else {\n            // if the node for the current character doesn't exist create new node\n            const newNode = create(true, wordAtIndex, currentCharacter);\n            addDocument(newNode, docId);\n            root.c[currentCharacter] = newNode;\n            updateParent(newNode, root);\n            return;\n        }\n    }\n}\nfunction _findLevenshtein(node, term, index, tolerance, originalTolerance, output) {\n    if (tolerance < 0) {\n        return;\n    }\n    if (node.w.startsWith(term)) {\n        findAllWords(node, output, term, false, 0);\n        return;\n    }\n    if (node.e) {\n        const { w , d: docIDs  } = node;\n        if (w) {\n            if ((0,_components_levenshtein_js__WEBPACK_IMPORTED_MODULE_1__.syncBoundedLevenshtein)(term, w, originalTolerance).isBounded) {\n                output[w] = [];\n            }\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getOwnProperty)(output, w) != null && docIDs.length > 0) {\n                const docs = new Set(output[w]);\n                const docIDsLength = docIDs.length;\n                for(let i = 0; i < docIDsLength; i++){\n                    docs.add(docIDs[i]);\n                }\n                output[w] = Array.from(docs);\n            }\n        }\n    }\n    if (index >= term.length) {\n        return;\n    }\n    // Match current character without consuming tolerance\n    if (term[index] in node.c) {\n        _findLevenshtein(node.c[term[index]], term, index + 1, tolerance, originalTolerance, output);\n    }\n    // If tolerance is still available, consider other branches:\n    // 1. Deletion (skip the current term character)\n    _findLevenshtein(node, term, index + 1, tolerance - 1, originalTolerance, output);\n    // 2. Insertion (skip the current tree node character)\n    for(const character in node.c){\n        _findLevenshtein(node.c[character], term, index, tolerance - 1, originalTolerance, output);\n    }\n    // 3. Substitution (skip both current term character and tree node character)\n    for(const character in node.c){\n        if (character !== term[index]) {\n            _findLevenshtein(node.c[character], term, index + 1, tolerance - 1, originalTolerance, output);\n        }\n    }\n}\nfunction find(root, { term , exact , tolerance  }) {\n    // Find the closest node to the term\n    // Use `if` condition because tolerance `0` is supposed to match only prefix.\n    // (allows infinite insertions at end, which is against normal levenshtein logic).\n    // (new _findLevenshtein only handles not exact and tolerance>0 condition)\n    if (tolerance && !exact) {\n        const output = {};\n        tolerance = tolerance || 0;\n        _findLevenshtein(root, term, 0, tolerance || 0, tolerance, output);\n        return output;\n    } else {\n        const termLength = term.length;\n        for(let i = 0; i < termLength; i++){\n            const character = term[i];\n            if (character in root.c) {\n                const rootChildCurrentChar = root.c[character];\n                const edgeLabel = rootChildCurrentChar.s;\n                const termSubstring = term.substring(i);\n                // find the common prefix between two words ex: prime and primate = prim\n                const commonPrefix = getCommonPrefix(edgeLabel, termSubstring);\n                const commonPrefixLength = commonPrefix.length;\n                // if the common prefix length is equal to edgeLabel length (the node subword) it means they are a match\n                // if the common prefix is equal to the term means it is contained in the node\n                if (commonPrefixLength !== edgeLabel.length && commonPrefixLength !== termSubstring.length) {\n                    // if tolerance is set we take the current node as the closest\n                    if (tolerance) break;\n                    return {};\n                }\n                // skip the subword length and check the next divergent character\n                i += rootChildCurrentChar.s.length - 1;\n                // navigate into the child node\n                root = rootChildCurrentChar;\n            } else {\n                return {};\n            }\n        }\n        const output = {};\n        // found the closest node we recursively search through children\n        findAllWords(root, output, term, exact, tolerance);\n        return output;\n    }\n}\nfunction contains(root, term) {\n    const termLength = term.length;\n    for(let i = 0; i < termLength; i++){\n        const character = term[i];\n        if (character in root.c) {\n            const rootChildrenChar = root.c[character];\n            const edgeLabel = rootChildrenChar.s;\n            const termSubstring = term.substring(i);\n            const commonPrefix = getCommonPrefix(edgeLabel, termSubstring);\n            const commonPrefixLength = commonPrefix.length;\n            if (commonPrefixLength !== edgeLabel.length && commonPrefixLength !== termSubstring.length) {\n                return false;\n            }\n            i += rootChildrenChar.s.length - 1;\n            root = rootChildrenChar;\n        } else {\n            return false;\n        }\n    }\n    return true;\n}\nfunction removeWord(root, term) {\n    if (!term) {\n        return false;\n    }\n    const termLength = term.length;\n    for(let i = 0; i < termLength; i++){\n        const character = term[i];\n        const parent = root;\n        if (character in root.c) {\n            i += root.c[character].s.length - 1;\n            root = root.c[character];\n            if (Object.keys(root.c).length === 0) {\n                delete parent.c[root.k];\n                return true;\n            }\n        } else {\n            return false;\n        }\n    }\n    return false;\n}\nfunction removeDocumentByWord(root, term, docID, exact = true) {\n    if (!term) {\n        return true;\n    }\n    const termLength = term.length;\n    for(let i = 0; i < termLength; i++){\n        const character = term[i];\n        if (character in root.c) {\n            const rootChildCurrentChar = root.c[character];\n            i += rootChildCurrentChar.s.length - 1;\n            root = rootChildCurrentChar;\n            if (exact && root.w !== term) {\n            // Do nothing if the exact condition is not met.\n            } else {\n                removeDocument(root, docID);\n            }\n        } else {\n            return false;\n        }\n    }\n    return true;\n}\n\n//# sourceMappingURL=radix.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9yYWRpeC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBc0U7QUFDekI7QUFDdEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseURBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxrRkFBc0I7QUFDckU7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseURBQWM7QUFDMUI7QUFDQTtBQUNBLDJCQUEyQixrQkFBa0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0EsZ0JBQWdCLGtGQUFzQjtBQUN0QztBQUNBO0FBQ0EsZ0JBQWdCLHlEQUFjO0FBQzlCO0FBQ0E7QUFDQSwrQkFBK0Isa0JBQWtCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNCQUFzQiwyQkFBMkI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsdUJBQXVCLGdCQUFnQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbXJiYWQvdmliZXByb2plY3RzL2Vhenl0YWJsZS9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC90cmVlcy9yYWRpeC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzeW5jQm91bmRlZExldmVuc2h0ZWluIH0gZnJvbSAnLi4vY29tcG9uZW50cy9sZXZlbnNodGVpbi5qcyc7XG5pbXBvcnQgeyBnZXRPd25Qcm9wZXJ0eSB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihrZXksIHN1YldvcmQsIGVuZCl7XG4gICAgICAgIHRoaXMuayA9IGtleTtcbiAgICAgICAgdGhpcy5zID0gc3ViV29yZDtcbiAgICAgICAgdGhpcy5lID0gZW5kO1xuICAgIH1cbiAgICAvLyBOb2RlIGNoaWxkcmVuXG4gICAgYyA9IHt9O1xuICAgIC8vIE5vZGUgZG9jdW1lbnRzXG4gICAgZCA9IFtdO1xuICAgIC8vIE5vZGUgd29yZFxuICAgIHcgPSAnJztcbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3OiB0aGlzLncsXG4gICAgICAgICAgICBzOiB0aGlzLnMsXG4gICAgICAgICAgICBjOiB0aGlzLmMsXG4gICAgICAgICAgICBkOiB0aGlzLmQsXG4gICAgICAgICAgICBlOiB0aGlzLmVcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVQYXJlbnQobm9kZSwgcGFyZW50KSB7XG4gICAgbm9kZS53ID0gcGFyZW50LncgKyBub2RlLnM7XG59XG5mdW5jdGlvbiBhZGREb2N1bWVudChub2RlLCBkb2NJRCkge1xuICAgIG5vZGUuZC5wdXNoKGRvY0lEKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZURvY3VtZW50KG5vZGUsIGRvY0lEKSB7XG4gICAgY29uc3QgaW5kZXggPSBub2RlLmQuaW5kZXhPZihkb2NJRCk7XG4gICAgLyogYzggaWdub3JlIG5leHQgMyAqLyBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbm9kZS5kLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBmaW5kQWxsV29yZHMobm9kZSwgb3V0cHV0LCB0ZXJtLCBleGFjdCwgdG9sZXJhbmNlKSB7XG4gICAgaWYgKG5vZGUuZSkge1xuICAgICAgICBjb25zdCB7IHcgLCBkOiBkb2NJRHMgIH0gPSBub2RlO1xuICAgICAgICBpZiAoZXhhY3QgJiYgdyAhPT0gdGVybSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsd2F5cyBjaGVjayBpbiBvd24gcHJvcGVydHkgdG8gcHJldmVudCBhY2Nlc3MgdG8gaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgICAgLy8gZml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hc2tvcmFtYS9vcmFtYS9pc3N1ZXMvMTM3XG4gICAgICAgIGlmIChnZXRPd25Qcm9wZXJ0eShvdXRwdXQsIHcpID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICAvLyBjb21wdXRpbmcgdGhlIGFic29sdXRlIGRpZmZlcmVuY2Ugb2YgbGV0dGVycyBiZXR3ZWVuIHRoZSB0ZXJtIGFuZCB0aGUgd29yZFxuICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBNYXRoLmFicyh0ZXJtLmxlbmd0aCAtIHcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdG9sZXJhbmNlIGlzIHNldCwgY2hlY2sgd2hldGhlciB0aGUgZWRpdCBkaXN0YW5jZSBpcyB3aXRoaW4gdG9sZXJhbmNlLlxuICAgICAgICAgICAgICAgIC8vIEluIHRoYXQgY2FzZSwgd2UgZG9uJ3QgbmVlZCB0byBhZGQgdGhlIHdvcmQgdG8gdGhlIG91dHB1dFxuICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlIDw9IHRvbGVyYW5jZSAmJiBzeW5jQm91bmRlZExldmVuc2h0ZWluKHRlcm0sIHcsIHRvbGVyYW5jZSkuaXNCb3VuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldmVudCBkZWZhdWx0IHRvbGVyYW5jZSBub3Qgc2V0XG4gICAgICAgICAgICAgICAgb3V0cHV0W3ddID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgX291dHB1dFt3XSBleGlzdHMgYW5kIHRoZW4gYWRkIHRoZSBkb2MgdG8gaXRcbiAgICAgICAgLy8gYWx3YXlzIGNoZWNrIGluIG93biBwcm9wZXJ0eSB0byBwcmV2ZW50IGFjY2VzcyB0byBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAgICAvLyBmaXggaHR0cHM6Ly9naXRodWIuY29tL2Fza29yYW1hL29yYW1hL2lzc3Vlcy8xMzdcbiAgICAgICAgaWYgKGdldE93blByb3BlcnR5KG91dHB1dCwgdykgIT0gbnVsbCAmJiBkb2NJRHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZG9jcyA9IG5ldyBTZXQob3V0cHV0W3ddKTtcbiAgICAgICAgICAgIGNvbnN0IGRvY0lEc0xlbmd0aCA9IGRvY0lEcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZG9jSURzTGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIGRvY3MuYWRkKGRvY0lEc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRwdXRbd10gPSBBcnJheS5mcm9tKGRvY3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCB0aGUgY2hpbGRyZW5cbiAgICBmb3IgKGNvbnN0IGNoYXJhY3RlciBvZiBPYmplY3Qua2V5cyhub2RlLmMpKXtcbiAgICAgICAgZmluZEFsbFdvcmRzKG5vZGUuY1tjaGFyYWN0ZXJdLCBvdXRwdXQsIHRlcm0sIGV4YWN0LCB0b2xlcmFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gZ2V0Q29tbW9uUHJlZml4KGEsIGIpIHtcbiAgICBsZXQgY29tbW9uUHJlZml4ID0gJyc7XG4gICAgY29uc3QgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1vblByZWZpeDtcbiAgICAgICAgfVxuICAgICAgICBjb21tb25QcmVmaXggKz0gYVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbW1vblByZWZpeDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZW5kID0gZmFsc2UsIHN1YldvcmQgPSAnJywga2V5ID0gJycpIHtcbiAgICByZXR1cm4gbmV3IE5vZGUoa2V5LCBzdWJXb3JkLCBlbmQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydChyb290LCB3b3JkLCBkb2NJZCkge1xuICAgIGNvbnN0IHdvcmRMZW5ndGggPSB3b3JkLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgd29yZExlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY3VycmVudENoYXJhY3RlciA9IHdvcmRbaV07XG4gICAgICAgIGNvbnN0IHdvcmRBdEluZGV4ID0gd29yZC5zdWJzdHJpbmcoaSk7XG4gICAgICAgIGNvbnN0IHJvb3RDaGlsZEN1cnJlbnRDaGFyID0gcm9vdC5jW2N1cnJlbnRDaGFyYWN0ZXJdO1xuICAgICAgICBpZiAocm9vdENoaWxkQ3VycmVudENoYXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGVkZ2VMYWJlbCA9IHJvb3RDaGlsZEN1cnJlbnRDaGFyLnM7XG4gICAgICAgICAgICBjb25zdCBlZGdlTGFiZWxMZW5ndGggPSBlZGdlTGFiZWwubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4ID0gZ2V0Q29tbW9uUHJlZml4KGVkZ2VMYWJlbCwgd29yZEF0SW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4TGVuZ3RoID0gY29tbW9uUHJlZml4Lmxlbmd0aDtcbiAgICAgICAgICAgIC8vIHRoZSB3b3JkQXRJbmRleCBtYXRjaGVzIGV4YWN0bHkgd2l0aCBhbiBleGlzdGluZyBjaGlsZCBub2RlXG4gICAgICAgICAgICBpZiAoZWRnZUxhYmVsID09PSB3b3JkQXRJbmRleCkge1xuICAgICAgICAgICAgICAgIGFkZERvY3VtZW50KHJvb3RDaGlsZEN1cnJlbnRDaGFyLCBkb2NJZCk7XG4gICAgICAgICAgICAgICAgcm9vdENoaWxkQ3VycmVudENoYXIuZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWRnZUxhYmVsQXRDb21tb25QcmVmaXggPSBlZGdlTGFiZWxbY29tbW9uUHJlZml4TGVuZ3RoXTtcbiAgICAgICAgICAgIC8vIHRoZSB3b3JkQXRJbmRleCBpcyBjb21wbGV0ZWx5IGNvbnRhaW5lZCBpbiB0aGUgY2hpbGQgbm9kZSBzdWJ3b3JkXG4gICAgICAgICAgICBpZiAoY29tbW9uUHJlZml4TGVuZ3RoIDwgZWRnZUxhYmVsTGVuZ3RoICYmIGNvbW1vblByZWZpeExlbmd0aCA9PT0gd29yZEF0SW5kZXgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IGNyZWF0ZSh0cnVlLCB3b3JkQXRJbmRleCwgY3VycmVudENoYXJhY3RlcikgLy8gQ3JlYXRlIGEgbmV3IG5vZGUgd2l0aCBlbmQgc2V0IHRvIHRydWVcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZS5jW2VkZ2VMYWJlbEF0Q29tbW9uUHJlZml4XSA9IHJvb3RDaGlsZEN1cnJlbnRDaGFyO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGVDaGlsZCA9IG5ld05vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF07XG4gICAgICAgICAgICAgICAgbmV3Tm9kZUNoaWxkLnMgPSBlZGdlTGFiZWwuc3Vic3RyaW5nKGNvbW1vblByZWZpeExlbmd0aCk7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZUNoaWxkLmsgPSBlZGdlTGFiZWxBdENvbW1vblByZWZpeDtcbiAgICAgICAgICAgICAgICByb290LmNbY3VycmVudENoYXJhY3Rlcl0gPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBhcmVudChuZXdOb2RlLCByb290KTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQYXJlbnQobmV3Tm9kZUNoaWxkLCBuZXdOb2RlKTtcbiAgICAgICAgICAgICAgICBhZGREb2N1bWVudChuZXdOb2RlLCBkb2NJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGhlIHdvcmRBdEluZGV4IGlzIHBhcnRpYWxseSBjb250YWluZWQgaW4gdGhlIGNoaWxkIG5vZGUgc3Vid29yZFxuICAgICAgICAgICAgaWYgKGNvbW1vblByZWZpeExlbmd0aCA8IGVkZ2VMYWJlbExlbmd0aCAmJiBjb21tb25QcmVmaXhMZW5ndGggPCB3b3JkQXRJbmRleC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmJldHdlZW5Ob2RlID0gY3JlYXRlKGZhbHNlLCBjb21tb25QcmVmaXgsIGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIGluYmV0d2Vlbk5vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF0gPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgICAgICAgICByb290LmNbY3VycmVudENoYXJhY3Rlcl0gPSBpbmJldHdlZW5Ob2RlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGluYmV0d2Vlbk5vZGVDaGlsZCA9IGluYmV0d2Vlbk5vZGUuY1tlZGdlTGFiZWxBdENvbW1vblByZWZpeF07XG4gICAgICAgICAgICAgICAgaW5iZXR3ZWVuTm9kZUNoaWxkLnMgPSBlZGdlTGFiZWwuc3Vic3RyaW5nKGNvbW1vblByZWZpeExlbmd0aCk7XG4gICAgICAgICAgICAgICAgaW5iZXR3ZWVuTm9kZUNoaWxkLmsgPSBlZGdlTGFiZWxBdENvbW1vblByZWZpeDtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JkQXRDb21tb25QcmVmaXggPSB3b3JkQXRJbmRleFtjb21tb25QcmVmaXhMZW5ndGhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjcmVhdGUodHJ1ZSwgd29yZC5zdWJzdHJpbmcoaSArIGNvbW1vblByZWZpeExlbmd0aCksIHdvcmRBdENvbW1vblByZWZpeCk7XG4gICAgICAgICAgICAgICAgYWRkRG9jdW1lbnQobmV3Tm9kZSwgZG9jSWQpO1xuICAgICAgICAgICAgICAgIGluYmV0d2Vlbk5vZGUuY1t3b3JkQXRDb21tb25QcmVmaXhdID0gbmV3Tm9kZTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQYXJlbnQoaW5iZXR3ZWVuTm9kZSwgcm9vdCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlUGFyZW50KG5ld05vZGUsIGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBhcmVudChpbmJldHdlZW5Ob2RlQ2hpbGQsIGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHNraXAgdG8gdGhlIG5leHQgZGl2ZXJnZW50IGNoYXJhY3RlclxuICAgICAgICAgICAgaSArPSBlZGdlTGFiZWxMZW5ndGggLSAxO1xuICAgICAgICAgICAgLy8gbmF2aWdhdGUgaW4gdGhlIGNoaWxkIG5vZGVcbiAgICAgICAgICAgIHJvb3QgPSByb290Q2hpbGRDdXJyZW50Q2hhcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBub2RlIGZvciB0aGUgY3VycmVudCBjaGFyYWN0ZXIgZG9lc24ndCBleGlzdCBjcmVhdGUgbmV3IG5vZGVcbiAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjcmVhdGUodHJ1ZSwgd29yZEF0SW5kZXgsIGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgYWRkRG9jdW1lbnQobmV3Tm9kZSwgZG9jSWQpO1xuICAgICAgICAgICAgcm9vdC5jW2N1cnJlbnRDaGFyYWN0ZXJdID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIHVwZGF0ZVBhcmVudChuZXdOb2RlLCByb290KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIF9maW5kTGV2ZW5zaHRlaW4obm9kZSwgdGVybSwgaW5kZXgsIHRvbGVyYW5jZSwgb3JpZ2luYWxUb2xlcmFuY2UsIG91dHB1dCkge1xuICAgIGlmICh0b2xlcmFuY2UgPCAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGUudy5zdGFydHNXaXRoKHRlcm0pKSB7XG4gICAgICAgIGZpbmRBbGxXb3Jkcyhub2RlLCBvdXRwdXQsIHRlcm0sIGZhbHNlLCAwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobm9kZS5lKSB7XG4gICAgICAgIGNvbnN0IHsgdyAsIGQ6IGRvY0lEcyAgfSA9IG5vZGU7XG4gICAgICAgIGlmICh3KSB7XG4gICAgICAgICAgICBpZiAoc3luY0JvdW5kZWRMZXZlbnNodGVpbih0ZXJtLCB3LCBvcmlnaW5hbFRvbGVyYW5jZSkuaXNCb3VuZGVkKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W3ddID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0T3duUHJvcGVydHkob3V0cHV0LCB3KSAhPSBudWxsICYmIGRvY0lEcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9jcyA9IG5ldyBTZXQob3V0cHV0W3ddKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NJRHNMZW5ndGggPSBkb2NJRHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkb2NJRHNMZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGRvY3MuYWRkKGRvY0lEc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IEFycmF5LmZyb20oZG9jcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluZGV4ID49IHRlcm0ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTWF0Y2ggY3VycmVudCBjaGFyYWN0ZXIgd2l0aG91dCBjb25zdW1pbmcgdG9sZXJhbmNlXG4gICAgaWYgKHRlcm1baW5kZXhdIGluIG5vZGUuYykge1xuICAgICAgICBfZmluZExldmVuc2h0ZWluKG5vZGUuY1t0ZXJtW2luZGV4XV0sIHRlcm0sIGluZGV4ICsgMSwgdG9sZXJhbmNlLCBvcmlnaW5hbFRvbGVyYW5jZSwgb3V0cHV0KTtcbiAgICB9XG4gICAgLy8gSWYgdG9sZXJhbmNlIGlzIHN0aWxsIGF2YWlsYWJsZSwgY29uc2lkZXIgb3RoZXIgYnJhbmNoZXM6XG4gICAgLy8gMS4gRGVsZXRpb24gKHNraXAgdGhlIGN1cnJlbnQgdGVybSBjaGFyYWN0ZXIpXG4gICAgX2ZpbmRMZXZlbnNodGVpbihub2RlLCB0ZXJtLCBpbmRleCArIDEsIHRvbGVyYW5jZSAtIDEsIG9yaWdpbmFsVG9sZXJhbmNlLCBvdXRwdXQpO1xuICAgIC8vIDIuIEluc2VydGlvbiAoc2tpcCB0aGUgY3VycmVudCB0cmVlIG5vZGUgY2hhcmFjdGVyKVxuICAgIGZvcihjb25zdCBjaGFyYWN0ZXIgaW4gbm9kZS5jKXtcbiAgICAgICAgX2ZpbmRMZXZlbnNodGVpbihub2RlLmNbY2hhcmFjdGVyXSwgdGVybSwgaW5kZXgsIHRvbGVyYW5jZSAtIDEsIG9yaWdpbmFsVG9sZXJhbmNlLCBvdXRwdXQpO1xuICAgIH1cbiAgICAvLyAzLiBTdWJzdGl0dXRpb24gKHNraXAgYm90aCBjdXJyZW50IHRlcm0gY2hhcmFjdGVyIGFuZCB0cmVlIG5vZGUgY2hhcmFjdGVyKVxuICAgIGZvcihjb25zdCBjaGFyYWN0ZXIgaW4gbm9kZS5jKXtcbiAgICAgICAgaWYgKGNoYXJhY3RlciAhPT0gdGVybVtpbmRleF0pIHtcbiAgICAgICAgICAgIF9maW5kTGV2ZW5zaHRlaW4obm9kZS5jW2NoYXJhY3Rlcl0sIHRlcm0sIGluZGV4ICsgMSwgdG9sZXJhbmNlIC0gMSwgb3JpZ2luYWxUb2xlcmFuY2UsIG91dHB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZChyb290LCB7IHRlcm0gLCBleGFjdCAsIHRvbGVyYW5jZSAgfSkge1xuICAgIC8vIEZpbmQgdGhlIGNsb3Nlc3Qgbm9kZSB0byB0aGUgdGVybVxuICAgIC8vIFVzZSBgaWZgIGNvbmRpdGlvbiBiZWNhdXNlIHRvbGVyYW5jZSBgMGAgaXMgc3VwcG9zZWQgdG8gbWF0Y2ggb25seSBwcmVmaXguXG4gICAgLy8gKGFsbG93cyBpbmZpbml0ZSBpbnNlcnRpb25zIGF0IGVuZCwgd2hpY2ggaXMgYWdhaW5zdCBub3JtYWwgbGV2ZW5zaHRlaW4gbG9naWMpLlxuICAgIC8vIChuZXcgX2ZpbmRMZXZlbnNodGVpbiBvbmx5IGhhbmRsZXMgbm90IGV4YWN0IGFuZCB0b2xlcmFuY2U+MCBjb25kaXRpb24pXG4gICAgaWYgKHRvbGVyYW5jZSAmJiAhZXhhY3QpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgIHRvbGVyYW5jZSA9IHRvbGVyYW5jZSB8fCAwO1xuICAgICAgICBfZmluZExldmVuc2h0ZWluKHJvb3QsIHRlcm0sIDAsIHRvbGVyYW5jZSB8fCAwLCB0b2xlcmFuY2UsIG91dHB1dCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGVybUxlbmd0aCA9IHRlcm0ubGVuZ3RoO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGVybUxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlciA9IHRlcm1baV07XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVyIGluIHJvb3QuYykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RDaGlsZEN1cnJlbnRDaGFyID0gcm9vdC5jW2NoYXJhY3Rlcl07XG4gICAgICAgICAgICAgICAgY29uc3QgZWRnZUxhYmVsID0gcm9vdENoaWxkQ3VycmVudENoYXIucztcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXJtU3Vic3RyaW5nID0gdGVybS5zdWJzdHJpbmcoaSk7XG4gICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgY29tbW9uIHByZWZpeCBiZXR3ZWVuIHR3byB3b3JkcyBleDogcHJpbWUgYW5kIHByaW1hdGUgPSBwcmltXG4gICAgICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4ID0gZ2V0Q29tbW9uUHJlZml4KGVkZ2VMYWJlbCwgdGVybVN1YnN0cmluZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4TGVuZ3RoID0gY29tbW9uUHJlZml4Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgY29tbW9uIHByZWZpeCBsZW5ndGggaXMgZXF1YWwgdG8gZWRnZUxhYmVsIGxlbmd0aCAodGhlIG5vZGUgc3Vid29yZCkgaXQgbWVhbnMgdGhleSBhcmUgYSBtYXRjaFxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBjb21tb24gcHJlZml4IGlzIGVxdWFsIHRvIHRoZSB0ZXJtIG1lYW5zIGl0IGlzIGNvbnRhaW5lZCBpbiB0aGUgbm9kZVxuICAgICAgICAgICAgICAgIGlmIChjb21tb25QcmVmaXhMZW5ndGggIT09IGVkZ2VMYWJlbC5sZW5ndGggJiYgY29tbW9uUHJlZml4TGVuZ3RoICE9PSB0ZXJtU3Vic3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0b2xlcmFuY2UgaXMgc2V0IHdlIHRha2UgdGhlIGN1cnJlbnQgbm9kZSBhcyB0aGUgY2xvc2VzdFxuICAgICAgICAgICAgICAgICAgICBpZiAodG9sZXJhbmNlKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBza2lwIHRoZSBzdWJ3b3JkIGxlbmd0aCBhbmQgY2hlY2sgdGhlIG5leHQgZGl2ZXJnZW50IGNoYXJhY3RlclxuICAgICAgICAgICAgICAgIGkgKz0gcm9vdENoaWxkQ3VycmVudENoYXIucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIC8vIG5hdmlnYXRlIGludG8gdGhlIGNoaWxkIG5vZGVcbiAgICAgICAgICAgICAgICByb290ID0gcm9vdENoaWxkQ3VycmVudENoYXI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvdXRwdXQgPSB7fTtcbiAgICAgICAgLy8gZm91bmQgdGhlIGNsb3Nlc3Qgbm9kZSB3ZSByZWN1cnNpdmVseSBzZWFyY2ggdGhyb3VnaCBjaGlsZHJlblxuICAgICAgICBmaW5kQWxsV29yZHMocm9vdCwgb3V0cHV0LCB0ZXJtLCBleGFjdCwgdG9sZXJhbmNlKTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnMocm9vdCwgdGVybSkge1xuICAgIGNvbnN0IHRlcm1MZW5ndGggPSB0ZXJtLmxlbmd0aDtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGVybUxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgaWYgKGNoYXJhY3RlciBpbiByb290LmMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3RDaGlsZHJlbkNoYXIgPSByb290LmNbY2hhcmFjdGVyXTtcbiAgICAgICAgICAgIGNvbnN0IGVkZ2VMYWJlbCA9IHJvb3RDaGlsZHJlbkNoYXIucztcbiAgICAgICAgICAgIGNvbnN0IHRlcm1TdWJzdHJpbmcgPSB0ZXJtLnN1YnN0cmluZyhpKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1vblByZWZpeCA9IGdldENvbW1vblByZWZpeChlZGdlTGFiZWwsIHRlcm1TdWJzdHJpbmcpO1xuICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4TGVuZ3RoID0gY29tbW9uUHJlZml4Lmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChjb21tb25QcmVmaXhMZW5ndGggIT09IGVkZ2VMYWJlbC5sZW5ndGggJiYgY29tbW9uUHJlZml4TGVuZ3RoICE9PSB0ZXJtU3Vic3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgKz0gcm9vdENoaWxkcmVuQ2hhci5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICByb290ID0gcm9vdENoaWxkcmVuQ2hhcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVXb3JkKHJvb3QsIHRlcm0pIHtcbiAgICBpZiAoIXRlcm0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0ZXJtTGVuZ3RoID0gdGVybS5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRlcm1MZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlciA9IHRlcm1baV07XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHJvb3Q7XG4gICAgICAgIGlmIChjaGFyYWN0ZXIgaW4gcm9vdC5jKSB7XG4gICAgICAgICAgICBpICs9IHJvb3QuY1tjaGFyYWN0ZXJdLnMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJvb3QgPSByb290LmNbY2hhcmFjdGVyXTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyb290LmMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBwYXJlbnQuY1tyb290LmtdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVEb2N1bWVudEJ5V29yZChyb290LCB0ZXJtLCBkb2NJRCwgZXhhY3QgPSB0cnVlKSB7XG4gICAgaWYgKCF0ZXJtKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB0ZXJtTGVuZ3RoID0gdGVybS5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRlcm1MZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGNoYXJhY3RlciA9IHRlcm1baV07XG4gICAgICAgIGlmIChjaGFyYWN0ZXIgaW4gcm9vdC5jKSB7XG4gICAgICAgICAgICBjb25zdCByb290Q2hpbGRDdXJyZW50Q2hhciA9IHJvb3QuY1tjaGFyYWN0ZXJdO1xuICAgICAgICAgICAgaSArPSByb290Q2hpbGRDdXJyZW50Q2hhci5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICByb290ID0gcm9vdENoaWxkQ3VycmVudENoYXI7XG4gICAgICAgICAgICBpZiAoZXhhY3QgJiYgcm9vdC53ICE9PSB0ZXJtKSB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSBleGFjdCBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRG9jdW1lbnQocm9vdCwgZG9jSUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYWRpeC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/trees/radix.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js":
/*!****************************************************************************************!*\
  !*** ../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_ARGUMENT_FOR_STACK: () => (/* binding */ MAX_ARGUMENT_FOR_STACK),\n/* harmony export */   convertDistanceToMeters: () => (/* binding */ convertDistanceToMeters),\n/* harmony export */   flattenObject: () => (/* binding */ flattenObject),\n/* harmony export */   formatBytes: () => (/* binding */ formatBytes),\n/* harmony export */   formatNanoseconds: () => (/* binding */ formatNanoseconds),\n/* harmony export */   getDocumentProperties: () => (/* binding */ getDocumentProperties),\n/* harmony export */   getNanosecondTimeViaPerformance: () => (/* binding */ getNanosecondTimeViaPerformance),\n/* harmony export */   getNanosecondsTime: () => (/* binding */ getNanosecondsTime),\n/* harmony export */   getNested: () => (/* binding */ getNested),\n/* harmony export */   getOwnProperty: () => (/* binding */ getOwnProperty),\n/* harmony export */   getTokenFrequency: () => (/* binding */ getTokenFrequency),\n/* harmony export */   insertSortedValue: () => (/* binding */ insertSortedValue),\n/* harmony export */   intersect: () => (/* binding */ intersect),\n/* harmony export */   isInsideNode: () => (/* binding */ isInsideNode),\n/* harmony export */   isInsideWebWorker: () => (/* binding */ isInsideWebWorker),\n/* harmony export */   isServer: () => (/* binding */ isServer),\n/* harmony export */   removeVectorsFromHits: () => (/* binding */ removeVectorsFromHits),\n/* harmony export */   safeArrayPush: () => (/* binding */ safeArrayPush),\n/* harmony export */   sortTokenScorePredicate: () => (/* binding */ sortTokenScorePredicate),\n/* harmony export */   sprintf: () => (/* binding */ sprintf),\n/* harmony export */   uniqueId: () => (/* binding */ uniqueId)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/errors.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/../node_modules/.pnpm/next@15.5.12_react-dom@19.2.4_react@19.2.4__react@19.2.4/node_modules/next/dist/build/polyfills/process.js\");\n\nconst baseId = Date.now().toString().slice(5);\nlet lastId = 0;\nconst k = 1024;\nconst nano = BigInt(1e3);\nconst milli = BigInt(1e6);\nconst second = BigInt(1e9);\nconst isServer = typeof window === 'undefined';\n/**\n * This value can be increased up to 100_000\n * But i don't know if this value change from nodejs to nodejs\n * So I will keep a safer value here.\n */ const MAX_ARGUMENT_FOR_STACK = 65535;\n/**\n * This method is needed to used because of issues like: https://github.com/askorama/orama/issues/301\n * that issue is caused because the array that is pushed is huge (>100k)\n *\n * @example\n * ```ts\n * safeArrayPush(myArray, [1, 2])\n * ```\n */ function safeArrayPush(arr, newArr) {\n    if (newArr.length < MAX_ARGUMENT_FOR_STACK) {\n        Array.prototype.push.apply(arr, newArr);\n    } else {\n        const newArrLength = newArr.length;\n        for(let i = 0; i < newArrLength; i += MAX_ARGUMENT_FOR_STACK){\n            Array.prototype.push.apply(arr, newArr.slice(i, i + MAX_ARGUMENT_FOR_STACK));\n        }\n    }\n}\nfunction sprintf(template, ...args) {\n    return template.replace(/%(?:(?<position>\\d+)\\$)?(?<width>-?\\d*\\.?\\d*)(?<type>[dfs])/g, function(...replaceArgs) {\n        const groups = replaceArgs[replaceArgs.length - 1];\n        const { width: rawWidth , type , position  } = groups;\n        const replacement = position ? args[Number.parseInt(position) - 1] : args.shift();\n        const width = rawWidth === '' ? 0 : Number.parseInt(rawWidth);\n        switch(type){\n            case 'd':\n                return replacement.toString().padStart(width, '0');\n            case 'f':\n                {\n                    let value = replacement;\n                    const [padding, precision] = rawWidth.split('.').map((w)=>Number.parseFloat(w));\n                    if (typeof precision === 'number' && precision >= 0) {\n                        value = value.toFixed(precision);\n                    }\n                    return typeof padding === 'number' && padding >= 0 ? value.toString().padStart(width, '0') : value.toString();\n                }\n            case 's':\n                return width < 0 ? replacement.toString().padEnd(-width, ' ') : replacement.toString().padStart(width, ' ');\n            default:\n                return replacement;\n        }\n    });\n}\nasync function formatBytes(bytes, decimals = 2) {\n    if (bytes === 0) {\n        return '0 Bytes';\n    }\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = [\n        'Bytes',\n        'KB',\n        'MB',\n        'GB',\n        'TB',\n        'PB',\n        'EB',\n        'ZB',\n        'YB'\n    ];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\n}\nfunction isInsideWebWorker() {\n    // @ts-expect-error - WebWorker global scope\n    return typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope;\n}\nfunction isInsideNode() {\n    return typeof process !== 'undefined' && process.release && process.release.name === 'node';\n}\nfunction getNanosecondTimeViaPerformance() {\n    return BigInt(Math.floor(performance.now() * 1e6));\n}\nasync function formatNanoseconds(value) {\n    if (typeof value === 'number') {\n        value = BigInt(value);\n    }\n    if (value < nano) {\n        return `${value}ns`;\n    } else if (value < milli) {\n        return `${value / nano}s`;\n    } else if (value < second) {\n        return `${value / milli}ms`;\n    }\n    return `${value / second}s`;\n}\n// TODO: none of these operations is async. Should we change the signature of this function?\nasync function getNanosecondsTime() {\n    var _process_hrtime;\n    if (isInsideWebWorker()) {\n        return getNanosecondTimeViaPerformance();\n    }\n    if (isInsideNode()) {\n        return process.hrtime.bigint();\n    }\n    if (typeof process !== 'undefined' && typeof (process === null || process === void 0 ? void 0 : (_process_hrtime = process.hrtime) === null || _process_hrtime === void 0 ? void 0 : _process_hrtime.bigint) === 'function') {\n        return process.hrtime.bigint();\n    }\n    if (typeof performance !== 'undefined') {\n        return getNanosecondTimeViaPerformance();\n    }\n    // @todo: fallback to V8 native method to get microtime\n    return BigInt(0);\n}\nasync function uniqueId() {\n    return `${baseId}-${lastId++}`;\n}\nfunction getOwnProperty(object, property) {\n    // Checks if `hasOwn` method is defined avoiding errors with older Node.js versions\n    if (Object.hasOwn === undefined) {\n        return Object.prototype.hasOwnProperty.call(object, property) ? object[property] : undefined;\n    }\n    return Object.hasOwn(object, property) ? object[property] : undefined;\n}\nfunction getTokenFrequency(token, tokens) {\n    let count = 0;\n    for (const t of tokens){\n        if (t === token) {\n            count++;\n        }\n    }\n    return count;\n}\nfunction insertSortedValue(arr, el, compareFn = sortTokenScorePredicate) {\n    let low = 0;\n    let high = arr.length;\n    let mid;\n    while(low < high){\n        mid = low + high >>> 1;\n        if (compareFn(el, arr[mid]) < 0) {\n            high = mid;\n        } else {\n            low = mid + 1;\n        }\n    }\n    arr.splice(low, 0, el);\n    return arr;\n}\nfunction sortTokenScorePredicate(a, b) {\n    if (b[1] === a[1]) {\n        return a[0] - b[0];\n    }\n    return b[1] - a[1];\n}\n// Intersection function taken from https://github.com/lovasoa/fast_array_intersect.\n// MIT Licensed at the time of writing.\nfunction intersect(arrays) {\n    if (arrays.length === 0) {\n        return [];\n    } else if (arrays.length === 1) {\n        return arrays[0];\n    }\n    for(let i = 1; i < arrays.length; i++){\n        if (arrays[i].length < arrays[0].length) {\n            const tmp = arrays[0];\n            arrays[0] = arrays[i];\n            arrays[i] = tmp;\n        }\n    }\n    const set = new Map();\n    for (const elem of arrays[0]){\n        set.set(elem, 1);\n    }\n    for(let i = 1; i < arrays.length; i++){\n        let found = 0;\n        for (const elem of arrays[i]){\n            const count = set.get(elem);\n            if (count === i) {\n                set.set(elem, count + 1);\n                found++;\n            }\n        }\n        if (found === 0) return [];\n    }\n    return arrays[0].filter((e)=>{\n        const count = set.get(e);\n        if (count !== undefined) set.set(e, 0);\n        return count === arrays.length;\n    });\n}\nasync function getDocumentProperties(doc, paths) {\n    const properties = {};\n    const pathsLength = paths.length;\n    for(let i = 0; i < pathsLength; i++){\n        const path = paths[i];\n        const pathTokens = path.split('.');\n        let current = doc;\n        const pathTokensLength = pathTokens.length;\n        for(let j = 0; j < pathTokensLength; j++){\n            current = current[pathTokens[j]];\n            // We found an object but we were supposed to be done\n            if (typeof current === 'object') {\n                if (current !== null && 'lat' in current && 'lon' in current && typeof current.lat === 'number' && typeof current.lon === 'number') {\n                    current = properties[path] = current;\n                    break;\n                } else if (!Array.isArray(current) && current !== null && j === pathTokensLength - 1) {\n                    current = undefined;\n                    break;\n                }\n            } else if ((current === null || typeof current !== 'object') && j < pathTokensLength - 1) {\n                // We can't recurse anymore but we were supposed to\n                current = undefined;\n                break;\n            }\n        }\n        if (typeof current !== 'undefined') {\n            properties[path] = current;\n        }\n    }\n    return properties;\n}\nasync function getNested(obj, path) {\n    const props = await getDocumentProperties(obj, [\n        path\n    ]);\n    return props[path];\n}\nfunction flattenObject(obj, prefix = '') {\n    const result = {};\n    for(const key in obj){\n        const prop = `${prefix}${key}`;\n        const objKey = obj[key];\n        if (typeof objKey === 'object' && objKey !== null) {\n            Object.assign(result, flattenObject(objKey, `${prop}.`));\n        } else {\n            result[prop] = objKey;\n        }\n    }\n    return result;\n}\nconst mapDistanceToMeters = {\n    cm: 0.01,\n    m: 1,\n    km: 1000,\n    ft: 0.3048,\n    yd: 0.9144,\n    mi: 1609.344\n};\nfunction convertDistanceToMeters(distance, unit) {\n    const ratio = mapDistanceToMeters[unit];\n    if (ratio === undefined) {\n        throw new Error((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_DISTANCE_SUFFIX', distance).message);\n    }\n    return distance * ratio;\n}\nfunction removeVectorsFromHits(searchResult, vectorProperties) {\n    searchResult.hits = searchResult.hits.map((result)=>({\n            ...result,\n            document: {\n                ...result.document,\n                // Remove embeddings from the result\n                ...vectorProperties.reduce((acc, prop)=>{\n                    const path = prop.split('.');\n                    const lastKey = path.pop();\n                    let obj = acc;\n                    for (const key of path){\n                        obj[key] = obj[key] ?? {};\n                        obj = obj[key];\n                    }\n                    obj[lastKey] = null;\n                    return acc;\n                }, result.document)\n            }\n        }));\n}\n\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFXO0FBQ1g7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHVCQUF1QixrQkFBa0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxnQkFBZ0IscUNBQXFDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0RBQWtELEVBQUUsU0FBUztBQUMzRTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsT0FBTyxvQkFBb0IsT0FBTyxZQUFZLE9BQU87QUFDdkU7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE1BQU07QUFDeEIsTUFBTTtBQUNOLGtCQUFrQixhQUFhO0FBQy9CLE1BQU07QUFDTixrQkFBa0IsY0FBYztBQUNoQztBQUNBLGNBQWMsZUFBZTtBQUM3QjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0EsZUFBZSxPQUFPLDRCQUE0QixPQUFPLGFBQWEsT0FBTywwQ0FBMEMsT0FBTztBQUM5SCxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGNBQWMsT0FBTyxHQUFHLFNBQVM7QUFDakM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtQkFBbUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBLG1CQUFtQixpQkFBaUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHdCQUF3QixPQUFPLEVBQUUsSUFBSTtBQUNyQztBQUNBO0FBQ0EsMkRBQTJELEtBQUs7QUFDaEUsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esd0JBQXdCLHVEQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUOztBQUVBIiwic291cmNlcyI6WyIvVXNlcnMvbXJiYWQvdmliZXByb2plY3RzL2Vhenl0YWJsZS9ub2RlX21vZHVsZXMvLnBucG0vQG9yYW1hK29yYW1hQDIuMS4xL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4vZXJyb3JzLmpzJztcbmNvbnN0IGJhc2VJZCA9IERhdGUubm93KCkudG9TdHJpbmcoKS5zbGljZSg1KTtcbmxldCBsYXN0SWQgPSAwO1xuY29uc3QgayA9IDEwMjQ7XG5jb25zdCBuYW5vID0gQmlnSW50KDFlMyk7XG5jb25zdCBtaWxsaSA9IEJpZ0ludCgxZTYpO1xuY29uc3Qgc2Vjb25kID0gQmlnSW50KDFlOSk7XG5leHBvcnQgY29uc3QgaXNTZXJ2ZXIgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJztcbi8qKlxuICogVGhpcyB2YWx1ZSBjYW4gYmUgaW5jcmVhc2VkIHVwIHRvIDEwMF8wMDBcbiAqIEJ1dCBpIGRvbid0IGtub3cgaWYgdGhpcyB2YWx1ZSBjaGFuZ2UgZnJvbSBub2RlanMgdG8gbm9kZWpzXG4gKiBTbyBJIHdpbGwga2VlcCBhIHNhZmVyIHZhbHVlIGhlcmUuXG4gKi8gZXhwb3J0IGNvbnN0IE1BWF9BUkdVTUVOVF9GT1JfU1RBQ0sgPSA2NTUzNTtcbi8qKlxuICogVGhpcyBtZXRob2QgaXMgbmVlZGVkIHRvIHVzZWQgYmVjYXVzZSBvZiBpc3N1ZXMgbGlrZTogaHR0cHM6Ly9naXRodWIuY29tL2Fza29yYW1hL29yYW1hL2lzc3Vlcy8zMDFcbiAqIHRoYXQgaXNzdWUgaXMgY2F1c2VkIGJlY2F1c2UgdGhlIGFycmF5IHRoYXQgaXMgcHVzaGVkIGlzIGh1Z2UgKD4xMDBrKVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0c1xuICogc2FmZUFycmF5UHVzaChteUFycmF5LCBbMSwgMl0pXG4gKiBgYGBcbiAqLyBleHBvcnQgZnVuY3Rpb24gc2FmZUFycmF5UHVzaChhcnIsIG5ld0Fycikge1xuICAgIGlmIChuZXdBcnIubGVuZ3RoIDwgTUFYX0FSR1VNRU5UX0ZPUl9TVEFDSykge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShhcnIsIG5ld0Fycik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV3QXJyTGVuZ3RoID0gbmV3QXJyLmxlbmd0aDtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG5ld0Fyckxlbmd0aDsgaSArPSBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKXtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyciwgbmV3QXJyLnNsaWNlKGksIGkgKyBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc3ByaW50Zih0ZW1wbGF0ZSwgLi4uYXJncykge1xuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lKD86KD88cG9zaXRpb24+XFxkKylcXCQpPyg/PHdpZHRoPi0/XFxkKlxcLj9cXGQqKSg/PHR5cGU+W2Rmc10pL2csIGZ1bmN0aW9uKC4uLnJlcGxhY2VBcmdzKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IHJlcGxhY2VBcmdzW3JlcGxhY2VBcmdzLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCB7IHdpZHRoOiByYXdXaWR0aCAsIHR5cGUgLCBwb3NpdGlvbiAgfSA9IGdyb3VwcztcbiAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSBwb3NpdGlvbiA/IGFyZ3NbTnVtYmVyLnBhcnNlSW50KHBvc2l0aW9uKSAtIDFdIDogYXJncy5zaGlmdCgpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHJhd1dpZHRoID09PSAnJyA/IDAgOiBOdW1iZXIucGFyc2VJbnQocmF3V2lkdGgpO1xuICAgICAgICBzd2l0Y2godHlwZSl7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRTdGFydCh3aWR0aCwgJzAnKTtcbiAgICAgICAgICAgIGNhc2UgJ2YnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtwYWRkaW5nLCBwcmVjaXNpb25dID0gcmF3V2lkdGguc3BsaXQoJy4nKS5tYXAoKHcpPT5OdW1iZXIucGFyc2VGbG9hdCh3KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJlY2lzaW9uID09PSAnbnVtYmVyJyAmJiBwcmVjaXNpb24gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0ZpeGVkKHByZWNpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYWRkaW5nID09PSAnbnVtYmVyJyAmJiBwYWRkaW5nID49IDAgPyB2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KHdpZHRoLCAnMCcpIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gd2lkdGggPCAwID8gcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRFbmQoLXdpZHRoLCAnICcpIDogcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRTdGFydCh3aWR0aCwgJyAnKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9ybWF0Qnl0ZXMoYnl0ZXMsIGRlY2ltYWxzID0gMikge1xuICAgIGlmIChieXRlcyA9PT0gMCkge1xuICAgICAgICByZXR1cm4gJzAgQnl0ZXMnO1xuICAgIH1cbiAgICBjb25zdCBkbSA9IGRlY2ltYWxzIDwgMCA/IDAgOiBkZWNpbWFscztcbiAgICBjb25zdCBzaXplcyA9IFtcbiAgICAgICAgJ0J5dGVzJyxcbiAgICAgICAgJ0tCJyxcbiAgICAgICAgJ01CJyxcbiAgICAgICAgJ0dCJyxcbiAgICAgICAgJ1RCJyxcbiAgICAgICAgJ1BCJyxcbiAgICAgICAgJ0VCJyxcbiAgICAgICAgJ1pCJyxcbiAgICAgICAgJ1lCJ1xuICAgIF07XG4gICAgY29uc3QgaSA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnl0ZXMpIC8gTWF0aC5sb2coaykpO1xuICAgIHJldHVybiBgJHtwYXJzZUZsb2F0KChieXRlcyAvIE1hdGgucG93KGssIGkpKS50b0ZpeGVkKGRtKSl9ICR7c2l6ZXNbaV19YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0luc2lkZVdlYldvcmtlcigpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gV2ViV29ya2VyIGdsb2JhbCBzY29wZVxuICAgIHJldHVybiB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0luc2lkZU5vZGUoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLnJlbGVhc2UgJiYgcHJvY2Vzcy5yZWxlYXNlLm5hbWUgPT09ICdub2RlJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROYW5vc2Vjb25kVGltZVZpYVBlcmZvcm1hbmNlKCkge1xuICAgIHJldHVybiBCaWdJbnQoTWF0aC5mbG9vcihwZXJmb3JtYW5jZS5ub3coKSAqIDFlNikpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZvcm1hdE5hbm9zZWNvbmRzKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFsdWUgPSBCaWdJbnQodmFsdWUpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPCBuYW5vKSB7XG4gICAgICAgIHJldHVybiBgJHt2YWx1ZX1uc2A7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA8IG1pbGxpKSB7XG4gICAgICAgIHJldHVybiBgJHt2YWx1ZSAvIG5hbm99zrxzYDtcbiAgICB9IGVsc2UgaWYgKHZhbHVlIDwgc2Vjb25kKSB7XG4gICAgICAgIHJldHVybiBgJHt2YWx1ZSAvIG1pbGxpfW1zYDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3ZhbHVlIC8gc2Vjb25kfXNgO1xufVxuLy8gVE9ETzogbm9uZSBvZiB0aGVzZSBvcGVyYXRpb25zIGlzIGFzeW5jLiBTaG91bGQgd2UgY2hhbmdlIHRoZSBzaWduYXR1cmUgb2YgdGhpcyBmdW5jdGlvbj9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROYW5vc2Vjb25kc1RpbWUoKSB7XG4gICAgdmFyIF9wcm9jZXNzX2hydGltZTtcbiAgICBpZiAoaXNJbnNpZGVXZWJXb3JrZXIoKSkge1xuICAgICAgICByZXR1cm4gZ2V0TmFub3NlY29uZFRpbWVWaWFQZXJmb3JtYW5jZSgpO1xuICAgIH1cbiAgICBpZiAoaXNJbnNpZGVOb2RlKCkpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiAocHJvY2VzcyA9PT0gbnVsbCB8fCBwcm9jZXNzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Byb2Nlc3NfaHJ0aW1lID0gcHJvY2Vzcy5ocnRpbWUpID09PSBudWxsIHx8IF9wcm9jZXNzX2hydGltZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Byb2Nlc3NfaHJ0aW1lLmJpZ2ludCkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuaHJ0aW1lLmJpZ2ludCgpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZ2V0TmFub3NlY29uZFRpbWVWaWFQZXJmb3JtYW5jZSgpO1xuICAgIH1cbiAgICAvLyBAdG9kbzogZmFsbGJhY2sgdG8gVjggbmF0aXZlIG1ldGhvZCB0byBnZXQgbWljcm90aW1lXG4gICAgcmV0dXJuIEJpZ0ludCgwKTtcbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1bmlxdWVJZCgpIHtcbiAgICByZXR1cm4gYCR7YmFzZUlkfS0ke2xhc3RJZCsrfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0T3duUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIC8vIENoZWNrcyBpZiBgaGFzT3duYCBtZXRob2QgaXMgZGVmaW5lZCBhdm9pZGluZyBlcnJvcnMgd2l0aCBvbGRlciBOb2RlLmpzIHZlcnNpb25zXG4gICAgaWYgKE9iamVjdC5oYXNPd24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpID8gb2JqZWN0W3Byb3BlcnR5XSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5oYXNPd24ob2JqZWN0LCBwcm9wZXJ0eSkgPyBvYmplY3RbcHJvcGVydHldIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFRva2VuRnJlcXVlbmN5KHRva2VuLCB0b2tlbnMpIHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAoY29uc3QgdCBvZiB0b2tlbnMpe1xuICAgICAgICBpZiAodCA9PT0gdG9rZW4pIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvdW50O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFNvcnRlZFZhbHVlKGFyciwgZWwsIGNvbXBhcmVGbiA9IHNvcnRUb2tlblNjb3JlUHJlZGljYXRlKSB7XG4gICAgbGV0IGxvdyA9IDA7XG4gICAgbGV0IGhpZ2ggPSBhcnIubGVuZ3RoO1xuICAgIGxldCBtaWQ7XG4gICAgd2hpbGUobG93IDwgaGlnaCl7XG4gICAgICAgIG1pZCA9IGxvdyArIGhpZ2ggPj4+IDE7XG4gICAgICAgIGlmIChjb21wYXJlRm4oZWwsIGFyclttaWRdKSA8IDApIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFyci5zcGxpY2UobG93LCAwLCBlbCk7XG4gICAgcmV0dXJuIGFycjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzb3J0VG9rZW5TY29yZVByZWRpY2F0ZShhLCBiKSB7XG4gICAgaWYgKGJbMV0gPT09IGFbMV0pIHtcbiAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgIH1cbiAgICByZXR1cm4gYlsxXSAtIGFbMV07XG59XG4vLyBJbnRlcnNlY3Rpb24gZnVuY3Rpb24gdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbG92YXNvYS9mYXN0X2FycmF5X2ludGVyc2VjdC5cbi8vIE1JVCBMaWNlbnNlZCBhdCB0aGUgdGltZSBvZiB3cml0aW5nLlxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdChhcnJheXMpIHtcbiAgICBpZiAoYXJyYXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfSBlbHNlIGlmIChhcnJheXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBhcnJheXNbMF07XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDE7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZiAoYXJyYXlzW2ldLmxlbmd0aCA8IGFycmF5c1swXS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IGFycmF5c1swXTtcbiAgICAgICAgICAgIGFycmF5c1swXSA9IGFycmF5c1tpXTtcbiAgICAgICAgICAgIGFycmF5c1tpXSA9IHRtcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzZXQgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBlbGVtIG9mIGFycmF5c1swXSl7XG4gICAgICAgIHNldC5zZXQoZWxlbSwgMSk7XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDE7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspe1xuICAgICAgICBsZXQgZm91bmQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW0gb2YgYXJyYXlzW2ldKXtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gc2V0LmdldChlbGVtKTtcbiAgICAgICAgICAgIGlmIChjb3VudCA9PT0gaSkge1xuICAgICAgICAgICAgICAgIHNldC5zZXQoZWxlbSwgY291bnQgKyAxKTtcbiAgICAgICAgICAgICAgICBmb3VuZCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmb3VuZCA9PT0gMCkgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlzWzBdLmZpbHRlcigoZSk9PntcbiAgICAgICAgY29uc3QgY291bnQgPSBzZXQuZ2V0KGUpO1xuICAgICAgICBpZiAoY291bnQgIT09IHVuZGVmaW5lZCkgc2V0LnNldChlLCAwKTtcbiAgICAgICAgcmV0dXJuIGNvdW50ID09PSBhcnJheXMubGVuZ3RoO1xuICAgIH0pO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERvY3VtZW50UHJvcGVydGllcyhkb2MsIHBhdGhzKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHt9O1xuICAgIGNvbnN0IHBhdGhzTGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwYXRoc0xlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgcGF0aCA9IHBhdGhzW2ldO1xuICAgICAgICBjb25zdCBwYXRoVG9rZW5zID0gcGF0aC5zcGxpdCgnLicpO1xuICAgICAgICBsZXQgY3VycmVudCA9IGRvYztcbiAgICAgICAgY29uc3QgcGF0aFRva2Vuc0xlbmd0aCA9IHBhdGhUb2tlbnMubGVuZ3RoO1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgcGF0aFRva2Vuc0xlbmd0aDsgaisrKXtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W3BhdGhUb2tlbnNbal1dO1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYW4gb2JqZWN0IGJ1dCB3ZSB3ZXJlIHN1cHBvc2VkIHRvIGJlIGRvbmVcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCAmJiAnbGF0JyBpbiBjdXJyZW50ICYmICdsb24nIGluIGN1cnJlbnQgJiYgdHlwZW9mIGN1cnJlbnQubGF0ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY3VycmVudC5sb24gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBwcm9wZXJ0aWVzW3BhdGhdID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShjdXJyZW50KSAmJiBjdXJyZW50ICE9PSBudWxsICYmIGogPT09IHBhdGhUb2tlbnNMZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGN1cnJlbnQgPT09IG51bGwgfHwgdHlwZW9mIGN1cnJlbnQgIT09ICdvYmplY3QnKSAmJiBqIDwgcGF0aFRva2Vuc0xlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCByZWN1cnNlIGFueW1vcmUgYnV0IHdlIHdlcmUgc3VwcG9zZWQgdG9cbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY3VycmVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHByb3BlcnRpZXNbcGF0aF0gPSBjdXJyZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldE5lc3RlZChvYmosIHBhdGgpIHtcbiAgICBjb25zdCBwcm9wcyA9IGF3YWl0IGdldERvY3VtZW50UHJvcGVydGllcyhvYmosIFtcbiAgICAgICAgcGF0aFxuICAgIF0pO1xuICAgIHJldHVybiBwcm9wc1twYXRoXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuT2JqZWN0KG9iaiwgcHJlZml4ID0gJycpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IoY29uc3Qga2V5IGluIG9iail7XG4gICAgICAgIGNvbnN0IHByb3AgPSBgJHtwcmVmaXh9JHtrZXl9YDtcbiAgICAgICAgY29uc3Qgb2JqS2V5ID0gb2JqW2tleV07XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqS2V5ID09PSAnb2JqZWN0JyAmJiBvYmpLZXkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCBmbGF0dGVuT2JqZWN0KG9iaktleSwgYCR7cHJvcH0uYCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W3Byb3BdID0gb2JqS2V5O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBtYXBEaXN0YW5jZVRvTWV0ZXJzID0ge1xuICAgIGNtOiAwLjAxLFxuICAgIG06IDEsXG4gICAga206IDEwMDAsXG4gICAgZnQ6IDAuMzA0OCxcbiAgICB5ZDogMC45MTQ0LFxuICAgIG1pOiAxNjA5LjM0NFxufTtcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0RGlzdGFuY2VUb01ldGVycyhkaXN0YW5jZSwgdW5pdCkge1xuICAgIGNvbnN0IHJhdGlvID0gbWFwRGlzdGFuY2VUb01ldGVyc1t1bml0XTtcbiAgICBpZiAocmF0aW8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoY3JlYXRlRXJyb3IoJ0lOVkFMSURfRElTVEFOQ0VfU1VGRklYJywgZGlzdGFuY2UpLm1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gZGlzdGFuY2UgKiByYXRpbztcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVWZWN0b3JzRnJvbUhpdHMoc2VhcmNoUmVzdWx0LCB2ZWN0b3JQcm9wZXJ0aWVzKSB7XG4gICAgc2VhcmNoUmVzdWx0LmhpdHMgPSBzZWFyY2hSZXN1bHQuaGl0cy5tYXAoKHJlc3VsdCk9Pih7XG4gICAgICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICAgICBkb2N1bWVudDoge1xuICAgICAgICAgICAgICAgIC4uLnJlc3VsdC5kb2N1bWVudCxcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZW1iZWRkaW5ncyBmcm9tIHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICAuLi52ZWN0b3JQcm9wZXJ0aWVzLnJlZHVjZSgoYWNjLCBwcm9wKT0+e1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gcHJvcC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0S2V5ID0gcGF0aC5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9iaiA9IGFjYztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgcGF0aCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IG9ialtrZXldID8/IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb2JqW2xhc3RLZXldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9LCByZXN1bHQuZG9jdW1lbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/utils.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-DELA6Z2I.js":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-DELA6Z2I.js ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   removeUndefined: () => (/* binding */ removeUndefined)\n/* harmony export */ });\n// src/utils/remove-undefined.ts\nfunction removeUndefined(value) {\n  const obj = value;\n  for (const key of Object.keys(obj)) {\n    if (obj[key] === void 0) delete obj[key];\n  }\n  return value;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnVtYWRvY3MtY29yZUAxNC43LjdfQHR5cGVzK3JlYWN0QDE5LjIuMTRfbmV4dEAxNS41LjEyX3JlYWN0LWRvbUAxOS4yLjRfcmVhY3RAMTkuMi40X19yX2E5ZWQyMDAyM2Y3OGMxNGMzNjg5NTljOTM3Nzc5YzIwL25vZGVfbW9kdWxlcy9mdW1hZG9jcy1jb3JlL2Rpc3QvY2h1bmstREVMQTZaMkkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tcmJhZC92aWJlcHJvamVjdHMvZWF6eXRhYmxlL25vZGVfbW9kdWxlcy8ucG5wbS9mdW1hZG9jcy1jb3JlQDE0LjcuN19AdHlwZXMrcmVhY3RAMTkuMi4xNF9uZXh0QDE1LjUuMTJfcmVhY3QtZG9tQDE5LjIuNF9yZWFjdEAxOS4yLjRfX3JfYTllZDIwMDIzZjc4YzE0YzM2ODk1OWM5Mzc3NzljMjAvbm9kZV9tb2R1bGVzL2Z1bWFkb2NzLWNvcmUvZGlzdC9jaHVuay1ERUxBNloySS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvcmVtb3ZlLXVuZGVmaW5lZC50c1xuZnVuY3Rpb24gcmVtb3ZlVW5kZWZpbmVkKHZhbHVlKSB7XG4gIGNvbnN0IG9iaiA9IHZhbHVlO1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvYmopKSB7XG4gICAgaWYgKG9ialtrZXldID09PSB2b2lkIDApIGRlbGV0ZSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCB7XG4gIHJlbW92ZVVuZGVmaW5lZFxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-DELA6Z2I.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-GIPLMX5F.js":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-GIPLMX5F.js ***!
  \********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   searchAdvanced: () => (/* binding */ searchAdvanced),\n/* harmony export */   searchSimple: () => (/* binding */ searchSimple)\n/* harmony export */ });\n/* harmony import */ var _chunk_DELA6Z2I_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-DELA6Z2I.js */ \"(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-DELA6Z2I.js\");\n/* harmony import */ var _orama_orama__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @orama/orama */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/search.js\");\n/* harmony import */ var _orama_orama__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @orama/orama */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/docs.js\");\n\n\n// src/search/orama/search/simple.ts\n\nasync function searchSimple(db, query, params = {}) {\n  const result = await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_1__.search)(db, {\n    term: query,\n    tolerance: 1,\n    ...params,\n    boost: {\n      title: 2,\n      ...\"boost\" in params ? params.boost : void 0\n    }\n  });\n  return result.hits.map((hit) => ({\n    type: \"page\",\n    content: hit.document.title,\n    id: hit.document.url,\n    url: hit.document.url\n  }));\n}\n\n// src/search/orama/search/advanced.ts\n\nasync function searchAdvanced(db, query, tag, extraParams = {}) {\n  let params = {\n    where: (0,_chunk_DELA6Z2I_js__WEBPACK_IMPORTED_MODULE_0__.removeUndefined)({\n      tag,\n      ...extraParams.where\n    }),\n    groupBy: {\n      properties: [\"page_id\"],\n      maxResult: 8,\n      ...extraParams.groupBy\n    }\n  };\n  if (query.length > 0) {\n    params = {\n      ...params,\n      term: query,\n      properties: [\"content\", \"keywords\"],\n      ...extraParams,\n      where: params.where,\n      groupBy: params.groupBy\n    };\n  }\n  const result = await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_1__.search)(db, params);\n  const list = [];\n  for (const item of result.groups ?? []) {\n    const pageId = item.values[0];\n    const page = await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_2__.getByID)(db, pageId);\n    if (!page) continue;\n    list.push({\n      id: pageId,\n      type: \"page\",\n      content: page.content,\n      url: page.url\n    });\n    for (const hit of item.result) {\n      if (hit.document.type === \"page\") continue;\n      list.push({\n        id: hit.document.id.toString(),\n        content: hit.document.content,\n        type: hit.document.type,\n        url: hit.document.url\n      });\n    }\n  }\n  return list;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnVtYWRvY3MtY29yZUAxNC43LjdfQHR5cGVzK3JlYWN0QDE5LjIuMTRfbmV4dEAxNS41LjEyX3JlYWN0LWRvbUAxOS4yLjRfcmVhY3RAMTkuMi40X19yX2E5ZWQyMDAyM2Y3OGMxNGMzNjg5NTljOTM3Nzc5YzIwL25vZGVfbW9kdWxlcy9mdW1hZG9jcy1jb3JlL2Rpc3QvY2h1bmstR0lQTE1YNUYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFNkI7O0FBRTdCO0FBQ3NDO0FBQ3RDLGtEQUFrRDtBQUNsRCx1QkFBdUIsb0RBQU07QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUMwRDtBQUMxRCw4REFBOEQ7QUFDOUQ7QUFDQSxXQUFXLG1FQUFlO0FBQzFCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0RBQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFEQUFPO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFLRSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL2Z1bWFkb2NzLWNvcmVAMTQuNy43X0B0eXBlcytyZWFjdEAxOS4yLjE0X25leHRAMTUuNS4xMl9yZWFjdC1kb21AMTkuMi40X3JlYWN0QDE5LjIuNF9fcl9hOWVkMjAwMjNmNzhjMTRjMzY4OTU5YzkzNzc3OWMyMC9ub2RlX21vZHVsZXMvZnVtYWRvY3MtY29yZS9kaXN0L2NodW5rLUdJUExNWDVGLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHJlbW92ZVVuZGVmaW5lZFxufSBmcm9tIFwiLi9jaHVuay1ERUxBNloySS5qc1wiO1xuXG4vLyBzcmMvc2VhcmNoL29yYW1hL3NlYXJjaC9zaW1wbGUudHNcbmltcG9ydCB7IHNlYXJjaCB9IGZyb20gXCJAb3JhbWEvb3JhbWFcIjtcbmFzeW5jIGZ1bmN0aW9uIHNlYXJjaFNpbXBsZShkYiwgcXVlcnksIHBhcmFtcyA9IHt9KSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlYXJjaChkYiwge1xuICAgIHRlcm06IHF1ZXJ5LFxuICAgIHRvbGVyYW5jZTogMSxcbiAgICAuLi5wYXJhbXMsXG4gICAgYm9vc3Q6IHtcbiAgICAgIHRpdGxlOiAyLFxuICAgICAgLi4uXCJib29zdFwiIGluIHBhcmFtcyA/IHBhcmFtcy5ib29zdCA6IHZvaWQgMFxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQuaGl0cy5tYXAoKGhpdCkgPT4gKHtcbiAgICB0eXBlOiBcInBhZ2VcIixcbiAgICBjb250ZW50OiBoaXQuZG9jdW1lbnQudGl0bGUsXG4gICAgaWQ6IGhpdC5kb2N1bWVudC51cmwsXG4gICAgdXJsOiBoaXQuZG9jdW1lbnQudXJsXG4gIH0pKTtcbn1cblxuLy8gc3JjL3NlYXJjaC9vcmFtYS9zZWFyY2gvYWR2YW5jZWQudHNcbmltcG9ydCB7IGdldEJ5SUQsIHNlYXJjaCBhcyBzZWFyY2gyIH0gZnJvbSBcIkBvcmFtYS9vcmFtYVwiO1xuYXN5bmMgZnVuY3Rpb24gc2VhcmNoQWR2YW5jZWQoZGIsIHF1ZXJ5LCB0YWcsIGV4dHJhUGFyYW1zID0ge30pIHtcbiAgbGV0IHBhcmFtcyA9IHtcbiAgICB3aGVyZTogcmVtb3ZlVW5kZWZpbmVkKHtcbiAgICAgIHRhZyxcbiAgICAgIC4uLmV4dHJhUGFyYW1zLndoZXJlXG4gICAgfSksXG4gICAgZ3JvdXBCeToge1xuICAgICAgcHJvcGVydGllczogW1wicGFnZV9pZFwiXSxcbiAgICAgIG1heFJlc3VsdDogOCxcbiAgICAgIC4uLmV4dHJhUGFyYW1zLmdyb3VwQnlcbiAgICB9XG4gIH07XG4gIGlmIChxdWVyeS5sZW5ndGggPiAwKSB7XG4gICAgcGFyYW1zID0ge1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAgdGVybTogcXVlcnksXG4gICAgICBwcm9wZXJ0aWVzOiBbXCJjb250ZW50XCIsIFwia2V5d29yZHNcIl0sXG4gICAgICAuLi5leHRyYVBhcmFtcyxcbiAgICAgIHdoZXJlOiBwYXJhbXMud2hlcmUsXG4gICAgICBncm91cEJ5OiBwYXJhbXMuZ3JvdXBCeVxuICAgIH07XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoMihkYiwgcGFyYW1zKTtcbiAgY29uc3QgbGlzdCA9IFtdO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0Lmdyb3VwcyA/PyBbXSkge1xuICAgIGNvbnN0IHBhZ2VJZCA9IGl0ZW0udmFsdWVzWzBdO1xuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBnZXRCeUlEKGRiLCBwYWdlSWQpO1xuICAgIGlmICghcGFnZSkgY29udGludWU7XG4gICAgbGlzdC5wdXNoKHtcbiAgICAgIGlkOiBwYWdlSWQsXG4gICAgICB0eXBlOiBcInBhZ2VcIixcbiAgICAgIGNvbnRlbnQ6IHBhZ2UuY29udGVudCxcbiAgICAgIHVybDogcGFnZS51cmxcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IGhpdCBvZiBpdGVtLnJlc3VsdCkge1xuICAgICAgaWYgKGhpdC5kb2N1bWVudC50eXBlID09PSBcInBhZ2VcIikgY29udGludWU7XG4gICAgICBsaXN0LnB1c2goe1xuICAgICAgICBpZDogaGl0LmRvY3VtZW50LmlkLnRvU3RyaW5nKCksXG4gICAgICAgIGNvbnRlbnQ6IGhpdC5kb2N1bWVudC5jb250ZW50LFxuICAgICAgICB0eXBlOiBoaXQuZG9jdW1lbnQudHlwZSxcbiAgICAgICAgdXJsOiBoaXQuZG9jdW1lbnQudXJsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpc3Q7XG59XG5cbmV4cG9ydCB7XG4gIHNlYXJjaFNpbXBsZSxcbiAgc2VhcmNoQWR2YW5jZWRcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-GIPLMX5F.js\n"));

/***/ }),

/***/ "(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/static-KPGOHAZ2.js":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/static-KPGOHAZ2.js ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStaticClient: () => (/* binding */ createStaticClient)\n/* harmony export */ });\n/* harmony import */ var _chunk_GIPLMX5F_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-GIPLMX5F.js */ \"(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-GIPLMX5F.js\");\n/* harmony import */ var _chunk_DELA6Z2I_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-DELA6Z2I.js */ \"(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-DELA6Z2I.js\");\n/* harmony import */ var _chunk_MLKGABMK_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-MLKGABMK.js */ \"(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/chunk-MLKGABMK.js\");\n/* harmony import */ var _orama_orama__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @orama/orama */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/create.js\");\n/* harmony import */ var _orama_orama__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @orama/orama */ \"(app-pages-browser)/../node_modules/.pnpm/@orama+orama@2.1.1/node_modules/@orama/orama/dist/methods/serialization.js\");\n\n\n\n\n// src/search/client/static.ts\n\nfunction createStaticClient({\n  from = \"/api/search\"\n}) {\n  const dbs = /* @__PURE__ */ new Map();\n  async function init() {\n    const res = await fetch(from);\n    if (!res.ok)\n      throw new Error(\n        `failed to fetch exported search indexes from ${from}, make sure the search database is exported and available for client.`\n      );\n    const data = await res.json();\n    if (data.type === \"i18n\") {\n      for (const [k, v] of Object.entries(data.data)) {\n        const db = await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_3__.create)({ schema: { _: \"string\" } });\n        await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_4__.load)(db, v);\n        dbs.set(k, {\n          type: v.type,\n          db\n        });\n      }\n    } else {\n      const db = await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_3__.create)({ schema: { _: \"string\" } });\n      await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_4__.load)(db, data);\n      dbs.set(\"\", {\n        type: data.type,\n        db\n      });\n    }\n  }\n  const get = init();\n  return {\n    async search(query, locale, tag) {\n      await get;\n      const cached = dbs.get(locale ?? \"\");\n      if (!cached) return [];\n      if (cached.type === \"simple\")\n        return (0,_chunk_GIPLMX5F_js__WEBPACK_IMPORTED_MODULE_0__.searchSimple)(\n          cached,\n          query\n        );\n      return (0,_chunk_GIPLMX5F_js__WEBPACK_IMPORTED_MODULE_0__.searchAdvanced)(\n        cached.db,\n        query,\n        tag\n      );\n    }\n  };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi9ub2RlX21vZHVsZXMvLnBucG0vZnVtYWRvY3MtY29yZUAxNC43LjdfQHR5cGVzK3JlYWN0QDE5LjIuMTRfbmV4dEAxNS41LjEyX3JlYWN0LWRvbUAxOS4yLjRfcmVhY3RAMTkuMi40X19yX2E5ZWQyMDAyM2Y3OGMxNGMzNjg5NTljOTM3Nzc5YzIwL25vZGVfbW9kdWxlcy9mdW1hZG9jcy1jb3JlL2Rpc3Qvc3RhdGljLUtQR09IQVoyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUc2QjtBQUNBO0FBQ0E7O0FBRTdCO0FBSXNCO0FBQ3RCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxLQUFLO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFNLEdBQUcsVUFBVSxlQUFlO0FBQzNELGNBQWMsa0RBQUk7QUFDbEI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsTUFBTTtBQUNOLHVCQUF1QixvREFBTSxHQUFHLFVBQVUsZUFBZTtBQUN6RCxZQUFZLGtEQUFJO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdFQUFZO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGFBQWEsa0VBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRSIsInNvdXJjZXMiOlsiL1VzZXJzL21yYmFkL3ZpYmVwcm9qZWN0cy9lYXp5dGFibGUvbm9kZV9tb2R1bGVzLy5wbnBtL2Z1bWFkb2NzLWNvcmVAMTQuNy43X0B0eXBlcytyZWFjdEAxOS4yLjE0X25leHRAMTUuNS4xMl9yZWFjdC1kb21AMTkuMi40X3JlYWN0QDE5LjIuNF9fcl9hOWVkMjAwMjNmNzhjMTRjMzY4OTU5YzkzNzc3OWMyMC9ub2RlX21vZHVsZXMvZnVtYWRvY3MtY29yZS9kaXN0L3N0YXRpYy1LUEdPSEFaMi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBzZWFyY2hBZHZhbmNlZCxcbiAgc2VhcmNoU2ltcGxlXG59IGZyb20gXCIuL2NodW5rLUdJUExNWDVGLmpzXCI7XG5pbXBvcnQgXCIuL2NodW5rLURFTEE2WjJJLmpzXCI7XG5pbXBvcnQgXCIuL2NodW5rLU1MS0dBQk1LLmpzXCI7XG5cbi8vIHNyYy9zZWFyY2gvY2xpZW50L3N0YXRpYy50c1xuaW1wb3J0IHtcbiAgY3JlYXRlLFxuICBsb2FkXG59IGZyb20gXCJAb3JhbWEvb3JhbWFcIjtcbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY0NsaWVudCh7XG4gIGZyb20gPSBcIi9hcGkvc2VhcmNoXCJcbn0pIHtcbiAgY29uc3QgZGJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChmcm9tKTtcbiAgICBpZiAoIXJlcy5vaylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYGZhaWxlZCB0byBmZXRjaCBleHBvcnRlZCBzZWFyY2ggaW5kZXhlcyBmcm9tICR7ZnJvbX0sIG1ha2Ugc3VyZSB0aGUgc2VhcmNoIGRhdGFiYXNlIGlzIGV4cG9ydGVkIGFuZCBhdmFpbGFibGUgZm9yIGNsaWVudC5gXG4gICAgICApO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgIGlmIChkYXRhLnR5cGUgPT09IFwiaTE4blwiKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhkYXRhLmRhdGEpKSB7XG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgY3JlYXRlKHsgc2NoZW1hOiB7IF86IFwic3RyaW5nXCIgfSB9KTtcbiAgICAgICAgYXdhaXQgbG9hZChkYiwgdik7XG4gICAgICAgIGRicy5zZXQoaywge1xuICAgICAgICAgIHR5cGU6IHYudHlwZSxcbiAgICAgICAgICBkYlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGIgPSBhd2FpdCBjcmVhdGUoeyBzY2hlbWE6IHsgXzogXCJzdHJpbmdcIiB9IH0pO1xuICAgICAgYXdhaXQgbG9hZChkYiwgZGF0YSk7XG4gICAgICBkYnMuc2V0KFwiXCIsIHtcbiAgICAgICAgdHlwZTogZGF0YS50eXBlLFxuICAgICAgICBkYlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGdldCA9IGluaXQoKTtcbiAgcmV0dXJuIHtcbiAgICBhc3luYyBzZWFyY2gocXVlcnksIGxvY2FsZSwgdGFnKSB7XG4gICAgICBhd2FpdCBnZXQ7XG4gICAgICBjb25zdCBjYWNoZWQgPSBkYnMuZ2V0KGxvY2FsZSA/PyBcIlwiKTtcbiAgICAgIGlmICghY2FjaGVkKSByZXR1cm4gW107XG4gICAgICBpZiAoY2FjaGVkLnR5cGUgPT09IFwic2ltcGxlXCIpXG4gICAgICAgIHJldHVybiBzZWFyY2hTaW1wbGUoXG4gICAgICAgICAgY2FjaGVkLFxuICAgICAgICAgIHF1ZXJ5XG4gICAgICAgICk7XG4gICAgICByZXR1cm4gc2VhcmNoQWR2YW5jZWQoXG4gICAgICAgIGNhY2hlZC5kYixcbiAgICAgICAgcXVlcnksXG4gICAgICAgIHRhZ1xuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG5leHBvcnQge1xuICBjcmVhdGVTdGF0aWNDbGllbnRcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/../node_modules/.pnpm/fumadocs-core@14.7.7_@types+react@19.2.14_next@15.5.12_react-dom@19.2.4_react@19.2.4__r_a9ed20023f78c14c368959c937779c20/node_modules/fumadocs-core/dist/static-KPGOHAZ2.js\n"));

/***/ })

}]);